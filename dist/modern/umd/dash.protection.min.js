!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.dashjs=t():e.dashjs=t()}(self,(function(){return function(){var e={6999:function(e,t,r){"use strict";function n(e){if("string"!=typeof e)throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}function i(e,t){for(var r,n="",i=0,o=-1,s=0,a=0;a<=e.length;++a){if(a<e.length)r=e.charCodeAt(a);else{if(47===r)break;r=47}if(47===r){if(o===a-1||1===s);else if(o!==a-1&&2===s){if(n.length<2||2!==i||46!==n.charCodeAt(n.length-1)||46!==n.charCodeAt(n.length-2))if(n.length>2){var c=n.lastIndexOf("/");if(c!==n.length-1){-1===c?(n="",i=0):i=(n=n.slice(0,c)).length-1-n.lastIndexOf("/"),o=a,s=0;continue}}else if(2===n.length||1===n.length){n="",i=0,o=a,s=0;continue}t&&(n.length>0?n+="/..":n="..",i=2)}else n.length>0?n+="/"+e.slice(o+1,a):n=e.slice(o+1,a),i=a-o-1;o=a,s=0}else 46===r&&-1!==s?++s:s=-1}return n}r(6280),r(3110);var o={resolve:function(){for(var e,t="",r=!1,o=arguments.length-1;o>=-1&&!r;o--){var s;o>=0?s=arguments[o]:(void 0===e&&(e=process.cwd()),s=e),n(s),0!==s.length&&(t=s+"/"+t,r=47===s.charCodeAt(0))}return t=i(t,!r),r?t.length>0?"/"+t:"/":t.length>0?t:"."},normalize:function(e){if(n(e),0===e.length)return".";var t=47===e.charCodeAt(0),r=47===e.charCodeAt(e.length-1);return 0!==(e=i(e,!t)).length||t||(e="."),e.length>0&&r&&(e+="/"),t?"/"+e:e},isAbsolute:function(e){return n(e),e.length>0&&47===e.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var e,t=0;t<arguments.length;++t){var r=arguments[t];n(r),r.length>0&&(void 0===e?e=r:e+="/"+r)}return void 0===e?".":o.normalize(e)},relative:function(e,t){if(n(e),n(t),e===t)return"";if((e=o.resolve(e))===(t=o.resolve(t)))return"";for(var r=1;r<e.length&&47===e.charCodeAt(r);++r);for(var i=e.length,s=i-r,a=1;a<t.length&&47===t.charCodeAt(a);++a);for(var c=t.length-a,u=s<c?s:c,E=-1,l=0;l<=u;++l){if(l===u){if(c>u){if(47===t.charCodeAt(a+l))return t.slice(a+l+1);if(0===l)return t.slice(a+l)}else s>u&&(47===e.charCodeAt(r+l)?E=l:0===l&&(E=0));break}var f=e.charCodeAt(r+l);if(f!==t.charCodeAt(a+l))break;47===f&&(E=l)}var d="";for(l=r+E+1;l<=i;++l)l!==i&&47!==e.charCodeAt(l)||(0===d.length?d+="..":d+="/..");return d.length>0?d+t.slice(a+E):(a+=E,47===t.charCodeAt(a)&&++a,t.slice(a))},_makeLong:function(e){return e},dirname:function(e){if(n(e),0===e.length)return".";for(var t=e.charCodeAt(0),r=47===t,i=-1,o=!0,s=e.length-1;s>=1;--s)if(47===(t=e.charCodeAt(s))){if(!o){i=s;break}}else o=!1;return-1===i?r?"/":".":r&&1===i?"//":e.slice(0,i)},basename:function(e,t){if(void 0!==t&&"string"!=typeof t)throw new TypeError('"ext" argument must be a string');n(e);var r,i=0,o=-1,s=!0;if(void 0!==t&&t.length>0&&t.length<=e.length){if(t.length===e.length&&t===e)return"";var a=t.length-1,c=-1;for(r=e.length-1;r>=0;--r){var u=e.charCodeAt(r);if(47===u){if(!s){i=r+1;break}}else-1===c&&(s=!1,c=r+1),a>=0&&(u===t.charCodeAt(a)?-1==--a&&(o=r):(a=-1,o=c))}return i===o?o=c:-1===o&&(o=e.length),e.slice(i,o)}for(r=e.length-1;r>=0;--r)if(47===e.charCodeAt(r)){if(!s){i=r+1;break}}else-1===o&&(s=!1,o=r+1);return-1===o?"":e.slice(i,o)},extname:function(e){n(e);for(var t=-1,r=0,i=-1,o=!0,s=0,a=e.length-1;a>=0;--a){var c=e.charCodeAt(a);if(47!==c)-1===i&&(o=!1,i=a+1),46===c?-1===t?t=a:1!==s&&(s=1):-1!==t&&(s=-1);else if(!o){r=a+1;break}}return-1===t||-1===i||0===s||1===s&&t===i-1&&t===r+1?"":e.slice(t,i)},format:function(e){if(null===e||"object"!=typeof e)throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return function(e,t){var r=t.dir||t.root,n=t.base||(t.name||"")+(t.ext||"");return r?r===t.root?r+n:r+"/"+n:n}(0,e)},parse:function(e){n(e);var t={root:"",dir:"",base:"",ext:"",name:""};if(0===e.length)return t;var r,i=e.charCodeAt(0),o=47===i;o?(t.root="/",r=1):r=0;for(var s=-1,a=0,c=-1,u=!0,E=e.length-1,l=0;E>=r;--E)if(47!==(i=e.charCodeAt(E)))-1===c&&(u=!1,c=E+1),46===i?-1===s?s=E:1!==l&&(l=1):-1!==s&&(l=-1);else if(!u){a=E+1;break}return-1===s||-1===c||0===l||1===l&&s===c-1&&s===a+1?-1!==c&&(t.base=t.name=0===a&&o?e.slice(1,c):e.slice(a,c)):(0===a&&o?(t.name=e.slice(1,s),t.base=e.slice(1,c)):(t.name=e.slice(a,s),t.base=e.slice(a,c)),t.ext=e.slice(s,c)),a>0?t.dir=e.slice(0,a-1):o&&(t.dir="/"),t},sep:"/",delimiter:":",win32:null,posix:null};o.posix=o,e.exports=o},8672:function(e,t,r){var n;!function(i,o){"use strict";var s="function",a="undefined",c="object",u="string",E="major",l="model",f="name",d="type",g="vendor",p="version",y="architecture",S="console",_="mobile",h="tablet",A="smarttv",m="wearable",T="embedded",R="Amazon",I="Apple",v="ASUS",C="BlackBerry",D="Browser",b="Chrome",w="Firefox",M="Google",O="Huawei",N="LG",L="Microsoft",P="Motorola",U="Opera",k="Samsung",K="Sharp",x="Sony",Y="Xiaomi",G="Zebra",B="Facebook",F="Chromium OS",H="Mac OS",V=function(e){for(var t={},r=0;r<e.length;r++)t[e[r].toUpperCase()]=e[r];return t},j=function(e,t){return typeof e===u&&-1!==W(t).indexOf(W(e))},W=function(e){return e.toLowerCase()},q=function(e,t){if(typeof e===u)return e=e.replace(/^\s\s*/,""),typeof t===a?e:e.substring(0,500)},z=function(e,t){for(var r,n,i,a,u,E,l=0;l<t.length&&!u;){var f=t[l],d=t[l+1];for(r=n=0;r<f.length&&!u&&f[r];)if(u=f[r++].exec(e))for(i=0;i<d.length;i++)E=u[++n],typeof(a=d[i])===c&&a.length>0?2===a.length?typeof a[1]==s?this[a[0]]=a[1].call(this,E):this[a[0]]=a[1]:3===a.length?typeof a[1]!==s||a[1].exec&&a[1].test?this[a[0]]=E?E.replace(a[1],a[2]):o:this[a[0]]=E?a[1].call(this,E,a[2]):o:4===a.length&&(this[a[0]]=E?a[3].call(this,E.replace(a[1],a[2])):o):this[a]=E||o;l+=2}},X=function(e,t){for(var r in t)if(typeof t[r]===c&&t[r].length>0){for(var n=0;n<t[r].length;n++)if(j(t[r][n],e))return"?"===r?o:r}else if(j(t[r],e))return"?"===r?o:r;return e},Q={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},Z={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[p,[f,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[p,[f,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[f,p],[/opios[\/ ]+([\w\.]+)/i],[p,[f,U+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[p,[f,U+" GX"]],[/\bopr\/([\w\.]+)/i],[p,[f,U]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[p,[f,"Baidu"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim)\s?(?:browser)?[\/ ]?([\w\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[f,p],[/\bddg\/([\w\.]+)/i],[p,[f,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[p,[f,"UC"+D]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[p,[f,"WeChat"]],[/konqueror\/([\w\.]+)/i],[p,[f,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[p,[f,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[p,[f,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[p,[f,"Smart Lenovo "+D]],[/(avast|avg)\/([\w\.]+)/i],[[f,/(.+)/,"$1 Secure "+D],p],[/\bfocus\/([\w\.]+)/i],[p,[f,w+" Focus"]],[/\bopt\/([\w\.]+)/i],[p,[f,U+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[p,[f,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[p,[f,"Dolphin"]],[/coast\/([\w\.]+)/i],[p,[f,U+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[p,[f,"MIUI "+D]],[/fxios\/([-\w\.]+)/i],[p,[f,w]],[/\bqihu|(qi?ho?o?|360)browser/i],[[f,"360 "+D]],[/(oculus|sailfish|huawei|vivo)browser\/([\w\.]+)/i],[[f,/(.+)/,"$1 "+D],p],[/samsungbrowser\/([\w\.]+)/i],[p,[f,k+" Internet"]],[/(comodo_dragon)\/([\w\.]+)/i],[[f,/_/g," "],p],[/metasr[\/ ]?([\d\.]+)/i],[p,[f,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[f,"Sogou Mobile"],p],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345Explorer)[\/ ]?([\w\.]+)/i],[f,p],[/(lbbrowser)/i,/\[(linkedin)app\]/i],[f],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[f,B],p],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[f,p],[/\bgsa\/([\w\.]+) .*safari\//i],[p,[f,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[p,[f,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[p,[f,b+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[f,b+" WebView"],p],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[p,[f,"Android "+D]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[f,p],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[p,[f,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[p,f],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[f,[p,X,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[f,p],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[f,"Netscape"],p],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[p,[f,w+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[f,p],[/(cobalt)\/([\w\.]+)/i],[f,[p,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[y,"amd64"]],[/(ia32(?=;))/i],[[y,W]],[/((?:i[346]|x)86)[;\)]/i],[[y,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[y,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[y,"armhf"]],[/windows (ce|mobile); ppc;/i],[[y,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[y,/ower/,"",W]],[/(sun4\w)[;\)]/i],[[y,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[y,W]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[l,[g,k],[d,h]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[l,[g,k],[d,_]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[l,[g,I],[d,_]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[l,[g,I],[d,h]],[/(macintosh);/i],[l,[g,I]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[l,[g,K],[d,_]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[l,[g,O],[d,h]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[l,[g,O],[d,_]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[l,/_/g," "],[g,Y],[d,_]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[l,/_/g," "],[g,Y],[d,h]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[l,[g,"OPPO"],[d,_]],[/\b(opd2\d{3}a?) bui/i],[l,[g,"OPPO"],[d,h]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[l,[g,"Vivo"],[d,_]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[l,[g,"Realme"],[d,_]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[l,[g,P],[d,_]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[l,[g,P],[d,h]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[l,[g,N],[d,h]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[l,[g,N],[d,_]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[l,[g,"Lenovo"],[d,h]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[l,/_/g," "],[g,"Nokia"],[d,_]],[/(pixel c)\b/i],[l,[g,M],[d,h]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[l,[g,M],[d,_]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[l,[g,x],[d,_]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[l,"Xperia Tablet"],[g,x],[d,h]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[l,[g,"OnePlus"],[d,_]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[l,[g,R],[d,h]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[l,/(.+)/g,"Fire Phone $1"],[g,R],[d,_]],[/(playbook);[-\w\),; ]+(rim)/i],[l,g,[d,h]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[l,[g,C],[d,_]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[l,[g,v],[d,h]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[l,[g,v],[d,_]],[/(nexus 9)/i],[l,[g,"HTC"],[d,h]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[g,[l,/_/g," "],[d,_]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[l,[g,"Acer"],[d,h]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[l,[g,"Meizu"],[d,_]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[l,[g,"Ulefone"],[d,_]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[g,l,[d,_]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[g,l,[d,h]],[/(surface duo)/i],[l,[g,L],[d,h]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[l,[g,"Fairphone"],[d,_]],[/(u304aa)/i],[l,[g,"AT&T"],[d,_]],[/\bsie-(\w*)/i],[l,[g,"Siemens"],[d,_]],[/\b(rct\w+) b/i],[l,[g,"RCA"],[d,h]],[/\b(venue[\d ]{2,7}) b/i],[l,[g,"Dell"],[d,h]],[/\b(q(?:mv|ta)\w+) b/i],[l,[g,"Verizon"],[d,h]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[l,[g,"Barnes & Noble"],[d,h]],[/\b(tm\d{3}\w+) b/i],[l,[g,"NuVision"],[d,h]],[/\b(k88) b/i],[l,[g,"ZTE"],[d,h]],[/\b(nx\d{3}j) b/i],[l,[g,"ZTE"],[d,_]],[/\b(gen\d{3}) b.+49h/i],[l,[g,"Swiss"],[d,_]],[/\b(zur\d{3}) b/i],[l,[g,"Swiss"],[d,h]],[/\b((zeki)?tb.*\b) b/i],[l,[g,"Zeki"],[d,h]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[g,"Dragon Touch"],l,[d,h]],[/\b(ns-?\w{0,9}) b/i],[l,[g,"Insignia"],[d,h]],[/\b((nxa|next)-?\w{0,9}) b/i],[l,[g,"NextBook"],[d,h]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[g,"Voice"],l,[d,_]],[/\b(lvtel\-)?(v1[12]) b/i],[[g,"LvTel"],l,[d,_]],[/\b(ph-1) /i],[l,[g,"Essential"],[d,_]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[l,[g,"Envizen"],[d,h]],[/\b(trio[-\w\. ]+) b/i],[l,[g,"MachSpeed"],[d,h]],[/\btu_(1491) b/i],[l,[g,"Rotor"],[d,h]],[/(shield[\w ]+) b/i],[l,[g,"Nvidia"],[d,h]],[/(sprint) (\w+)/i],[g,l,[d,_]],[/(kin\.[onetw]{3})/i],[[l,/\./g," "],[g,L],[d,_]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[l,[g,G],[d,h]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[l,[g,G],[d,_]],[/smart-tv.+(samsung)/i],[g,[d,A]],[/hbbtv.+maple;(\d+)/i],[[l,/^/,"SmartTV"],[g,k],[d,A]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[g,N],[d,A]],[/(apple) ?tv/i],[g,[l,I+" TV"],[d,A]],[/crkey/i],[[l,b+"cast"],[g,M],[d,A]],[/droid.+aft(\w+)( bui|\))/i],[l,[g,R],[d,A]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[l,[g,K],[d,A]],[/(bravia[\w ]+)( bui|\))/i],[l,[g,x],[d,A]],[/(mitv-\w{5}) bui/i],[l,[g,Y],[d,A]],[/Hbbtv.*(technisat) (.*);/i],[g,l,[d,A]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[g,q],[l,q],[d,A]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[d,A]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[g,l,[d,S]],[/droid.+; (shield) bui/i],[l,[g,"Nvidia"],[d,S]],[/(playstation [345portablevi]+)/i],[l,[g,x],[d,S]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[l,[g,L],[d,S]],[/((pebble))app/i],[g,l,[d,m]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[l,[g,I],[d,m]],[/droid.+; (glass) \d/i],[l,[g,M],[d,m]],[/droid.+; (wt63?0{2,3})\)/i],[l,[g,G],[d,m]],[/(quest( \d| pro)?)/i],[l,[g,B],[d,m]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[g,[d,T]],[/(aeobc)\b/i],[l,[g,R],[d,T]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[l,[d,_]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[l,[d,h]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[d,h]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[d,_]],[/(android[-\w\. ]{0,9});.+buil/i],[l,[g,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[p,[f,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[p,[f,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[f,p],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[p,f]],os:[[/microsoft (windows) (vista|xp)/i],[f,p],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[f,[p,X,Q]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[p,X,Q],[f,"Windows"]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[p,/_/g,"."],[f,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[f,H],[p,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[p,f],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[f,p],[/\(bb(10);/i],[p,[f,C]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[p,[f,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[p,[f,w+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[p,[f,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[p,[f,"watchOS"]],[/crkey\/([\d\.]+)/i],[p,[f,b+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[f,F],p],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[f,p],[/(sunos) ?([\w\.\d]*)/i],[[f,"Solaris"],p],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[f,p]]},$=function(e,t){if(typeof e===c&&(t=e,e=o),!(this instanceof $))return new $(e,t).getResult();var r=typeof i!==a&&i.navigator?i.navigator:o,n=e||(r&&r.userAgent?r.userAgent:""),S=r&&r.userAgentData?r.userAgentData:o,A=t?function(e,t){var r={};for(var n in e)t[n]&&t[n].length%2==0?r[n]=t[n].concat(e[n]):r[n]=e[n];return r}(Z,t):Z,m=r&&r.userAgent==n;return this.getBrowser=function(){var e,t={};return t[f]=o,t[p]=o,z.call(t,n,A.browser),t[E]=typeof(e=t[p])===u?e.replace(/[^\d\.]/g,"").split(".")[0]:o,m&&r&&r.brave&&typeof r.brave.isBrave==s&&(t[f]="Brave"),t},this.getCPU=function(){var e={};return e[y]=o,z.call(e,n,A.cpu),e},this.getDevice=function(){var e={};return e[g]=o,e[l]=o,e[d]=o,z.call(e,n,A.device),m&&!e[d]&&S&&S.mobile&&(e[d]=_),m&&"Macintosh"==e[l]&&r&&typeof r.standalone!==a&&r.maxTouchPoints&&r.maxTouchPoints>2&&(e[l]="iPad",e[d]=h),e},this.getEngine=function(){var e={};return e[f]=o,e[p]=o,z.call(e,n,A.engine),e},this.getOS=function(){var e={};return e[f]=o,e[p]=o,z.call(e,n,A.os),m&&!e[f]&&S&&S.platform&&"Unknown"!=S.platform&&(e[f]=S.platform.replace(/chrome os/i,F).replace(/macos/i,H)),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return n},this.setUA=function(e){return n=typeof e===u&&e.length>500?q(e,500):e,this},this.setUA(n),this};$.VERSION="1.0.38",$.BROWSER=V([f,p,E]),$.CPU=V([y]),$.DEVICE=V([l,g,d,S,_,A,h,m,T]),$.ENGINE=$.OS=V([f,p]),typeof t!==a?(e.exports&&(t=e.exports=$),t.UAParser=$):r.amdO?(n=function(){return $}.call(t,r,t,e))===o||(e.exports=n):typeof i!==a&&(i.UAParser=$);var J=typeof i!==a&&(i.jQuery||i.Zepto);if(J&&!J.ua){var ee=new $;J.ua=ee.getResult(),J.ua.get=function(){return ee.getUA()},J.ua.set=function(e){ee.setUA(e);var t=ee.getResult();for(var r in t)J.ua[r]=t[r]}}}("object"==typeof window?window:this)},9306:function(e,t,r){"use strict";var n=r(4901),i=r(6823),o=TypeError;e.exports=function(e){if(n(e))return e;throw new o(i(e)+" is not a function")}},3506:function(e,t,r){"use strict";var n=r(3925),i=String,o=TypeError;e.exports=function(e){if(n(e))return e;throw new o("Can't set "+i(e)+" as a prototype")}},679:function(e,t,r){"use strict";var n=r(1625),i=TypeError;e.exports=function(e,t){if(n(t,e))return e;throw new i("Incorrect invocation")}},8551:function(e,t,r){"use strict";var n=r(34),i=String,o=TypeError;e.exports=function(e){if(n(e))return e;throw new o(i(e)+" is not an object")}},7811:function(e){"use strict";e.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},7394:function(e,t,r){"use strict";var n=r(4576),i=r(6706),o=r(2195),s=n.ArrayBuffer,a=n.TypeError;e.exports=s&&i(s.prototype,"byteLength","get")||function(e){if("ArrayBuffer"!==o(e))throw new a("ArrayBuffer expected");return e.byteLength}},3238:function(e,t,r){"use strict";var n=r(4576),i=r(7476),o=r(7394),s=n.ArrayBuffer,a=s&&s.prototype,c=a&&i(a.slice);e.exports=function(e){if(0!==o(e))return!1;if(!c)return!1;try{return c(e,0,0),!1}catch(e){return!0}}},5169:function(e,t,r){"use strict";var n=r(3238),i=TypeError;e.exports=function(e){if(n(e))throw new i("ArrayBuffer is detached");return e}},5636:function(e,t,r){"use strict";var n=r(4576),i=r(9504),o=r(6706),s=r(7696),a=r(5169),c=r(7394),u=r(4483),E=r(1548),l=n.structuredClone,f=n.ArrayBuffer,d=n.DataView,g=Math.min,p=f.prototype,y=d.prototype,S=i(p.slice),_=o(p,"resizable","get"),h=o(p,"maxByteLength","get"),A=i(y.getInt8),m=i(y.setInt8);e.exports=(E||u)&&function(e,t,r){var n,i=c(e),o=void 0===t?i:s(t),p=!_||!_(e);if(a(e),E&&(e=l(e,{transfer:[e]}),i===o&&(r||p)))return e;if(i>=o&&(!r||p))n=S(e,0,o);else{var y=r&&!p&&h?{maxByteLength:h(e)}:void 0;n=new f(o,y);for(var T=new d(e),R=new d(n),I=g(o,i),v=0;v<I;v++)m(R,v,A(T,v))}return E||u(e),n}},4644:function(e,t,r){"use strict";var n,i,o,s=r(7811),a=r(3724),c=r(4576),u=r(4901),E=r(34),l=r(9297),f=r(6955),d=r(6823),g=r(6699),p=r(6840),y=r(2106),S=r(1625),_=r(2787),h=r(2967),A=r(8227),m=r(3392),T=r(1181),R=T.enforce,I=T.get,v=c.Int8Array,C=v&&v.prototype,D=c.Uint8ClampedArray,b=D&&D.prototype,w=v&&_(v),M=C&&_(C),O=Object.prototype,N=c.TypeError,L=A("toStringTag"),P=m("TYPED_ARRAY_TAG"),U="TypedArrayConstructor",k=s&&!!h&&"Opera"!==f(c.opera),K=!1,x={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},Y={BigInt64Array:8,BigUint64Array:8},G=function(e){var t=_(e);if(E(t)){var r=I(t);return r&&l(r,U)?r[U]:G(t)}},B=function(e){if(!E(e))return!1;var t=f(e);return l(x,t)||l(Y,t)};for(n in x)(o=(i=c[n])&&i.prototype)?R(o)[U]=i:k=!1;for(n in Y)(o=(i=c[n])&&i.prototype)&&(R(o)[U]=i);if((!k||!u(w)||w===Function.prototype)&&(w=function(){throw new N("Incorrect invocation")},k))for(n in x)c[n]&&h(c[n],w);if((!k||!M||M===O)&&(M=w.prototype,k))for(n in x)c[n]&&h(c[n].prototype,M);if(k&&_(b)!==M&&h(b,M),a&&!l(M,L))for(n in K=!0,y(M,L,{configurable:!0,get:function(){return E(this)?this[P]:void 0}}),x)c[n]&&g(c[n],P,n);e.exports={NATIVE_ARRAY_BUFFER_VIEWS:k,TYPED_ARRAY_TAG:K&&P,aTypedArray:function(e){if(B(e))return e;throw new N("Target is not a typed array")},aTypedArrayConstructor:function(e){if(u(e)&&(!h||S(w,e)))return e;throw new N(d(e)+" is not a typed array constructor")},exportTypedArrayMethod:function(e,t,r,n){if(a){if(r)for(var i in x){var o=c[i];if(o&&l(o.prototype,e))try{delete o.prototype[e]}catch(r){try{o.prototype[e]=t}catch(e){}}}M[e]&&!r||p(M,e,r?t:k&&C[e]||t,n)}},exportTypedArrayStaticMethod:function(e,t,r){var n,i;if(a){if(h){if(r)for(n in x)if((i=c[n])&&l(i,e))try{delete i[e]}catch(e){}if(w[e]&&!r)return;try{return p(w,e,r?t:k&&w[e]||t)}catch(e){}}for(n in x)!(i=c[n])||i[e]&&!r||p(i,e,t)}},getTypedArrayConstructor:G,isView:function(e){if(!E(e))return!1;var t=f(e);return"DataView"===t||l(x,t)||l(Y,t)},isTypedArray:B,TypedArray:w,TypedArrayPrototype:M}},5370:function(e,t,r){"use strict";var n=r(6198);e.exports=function(e,t,r){for(var i=0,o=arguments.length>2?r:n(t),s=new e(o);o>i;)s[i]=t[i++];return s}},9617:function(e,t,r){"use strict";var n=r(5397),i=r(5610),o=r(6198),s=function(e){return function(t,r,s){var a=n(t),c=o(a);if(0===c)return!e&&-1;var u,E=i(s,c);if(e&&r!=r){for(;c>E;)if((u=a[E++])!=u)return!0}else for(;c>E;E++)if((e||E in a)&&a[E]===r)return e||E||0;return!e&&-1}};e.exports={includes:s(!0),indexOf:s(!1)}},3839:function(e,t,r){"use strict";var n=r(6080),i=r(7055),o=r(8981),s=r(6198),a=function(e){var t=1===e;return function(r,a,c){for(var u,E=o(r),l=i(E),f=s(l),d=n(a,c);f-- >0;)if(d(u=l[f],f,E))switch(e){case 0:return u;case 1:return f}return t?-1:void 0}};e.exports={findLast:a(0),findLastIndex:a(1)}},4598:function(e,t,r){"use strict";var n=r(9039);e.exports=function(e,t){var r=[][e];return!!r&&n((function(){r.call(null,t||function(){return 1},1)}))}},926:function(e,t,r){"use strict";var n=r(9306),i=r(8981),o=r(7055),s=r(6198),a=TypeError,c="Reduce of empty array with no initial value",u=function(e){return function(t,r,u,E){var l=i(t),f=o(l),d=s(l);if(n(r),0===d&&u<2)throw new a(c);var g=e?d-1:0,p=e?-1:1;if(u<2)for(;;){if(g in f){E=f[g],g+=p;break}if(g+=p,e?g<0:d<=g)throw new a(c)}for(;e?g>=0:d>g;g+=p)g in f&&(E=r(E,f[g],g,l));return E}};e.exports={left:u(!1),right:u(!0)}},4527:function(e,t,r){"use strict";var n=r(3724),i=r(4376),o=TypeError,s=Object.getOwnPropertyDescriptor,a=n&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(e){return e instanceof TypeError}}();e.exports=a?function(e,t){if(i(e)&&!s(e,"length").writable)throw new o("Cannot set read only .length");return e.length=t}:function(e,t){return e.length=t}},7680:function(e,t,r){"use strict";var n=r(9504);e.exports=n([].slice)},4488:function(e,t,r){"use strict";var n=r(7680),i=Math.floor,o=function(e,t){var r=e.length;if(r<8)for(var s,a,c=1;c<r;){for(a=c,s=e[c];a&&t(e[a-1],s)>0;)e[a]=e[--a];a!==c++&&(e[a]=s)}else for(var u=i(r/2),E=o(n(e,0,u),t),l=o(n(e,u),t),f=E.length,d=l.length,g=0,p=0;g<f||p<d;)e[g+p]=g<f&&p<d?t(E[g],l[p])<=0?E[g++]:l[p++]:g<f?E[g++]:l[p++];return e};e.exports=o},7628:function(e,t,r){"use strict";var n=r(6198);e.exports=function(e,t){for(var r=n(e),i=new t(r),o=0;o<r;o++)i[o]=e[r-o-1];return i}},9928:function(e,t,r){"use strict";var n=r(6198),i=r(1291),o=RangeError;e.exports=function(e,t,r,s){var a=n(e),c=i(r),u=c<0?a+c:c;if(u>=a||u<0)throw new o("Incorrect index");for(var E=new t(a),l=0;l<a;l++)E[l]=l===u?s:e[l];return E}},2195:function(e,t,r){"use strict";var n=r(9504),i=n({}.toString),o=n("".slice);e.exports=function(e){return o(i(e),8,-1)}},6955:function(e,t,r){"use strict";var n=r(2140),i=r(4901),o=r(2195),s=r(8227)("toStringTag"),a=Object,c="Arguments"===o(function(){return arguments}());e.exports=n?o:function(e){var t,r,n;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=function(e,t){try{return e[t]}catch(e){}}(t=a(e),s))?r:c?o(t):"Object"===(n=o(t))&&i(t.callee)?"Arguments":n}},7740:function(e,t,r){"use strict";var n=r(9297),i=r(5031),o=r(7347),s=r(4913);e.exports=function(e,t,r){for(var a=i(t),c=s.f,u=o.f,E=0;E<a.length;E++){var l=a[E];n(e,l)||r&&n(r,l)||c(e,l,u(t,l))}}},2211:function(e,t,r){"use strict";var n=r(9039);e.exports=!n((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},6699:function(e,t,r){"use strict";var n=r(3724),i=r(4913),o=r(6980);e.exports=n?function(e,t,r){return i.f(e,t,o(1,r))}:function(e,t,r){return e[t]=r,e}},6980:function(e){"use strict";e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},2106:function(e,t,r){"use strict";var n=r(283),i=r(4913);e.exports=function(e,t,r){return r.get&&n(r.get,t,{getter:!0}),r.set&&n(r.set,t,{setter:!0}),i.f(e,t,r)}},6840:function(e,t,r){"use strict";var n=r(4901),i=r(4913),o=r(283),s=r(9433);e.exports=function(e,t,r,a){a||(a={});var c=a.enumerable,u=void 0!==a.name?a.name:t;if(n(r)&&o(r,u,a),a.global)c?e[t]=r:s(t,r);else{try{a.unsafe?e[t]&&(c=!0):delete e[t]}catch(e){}c?e[t]=r:i.f(e,t,{value:r,enumerable:!1,configurable:!a.nonConfigurable,writable:!a.nonWritable})}return e}},9433:function(e,t,r){"use strict";var n=r(4576),i=Object.defineProperty;e.exports=function(e,t){try{i(n,e,{value:t,configurable:!0,writable:!0})}catch(r){n[e]=t}return t}},4606:function(e,t,r){"use strict";var n=r(6823),i=TypeError;e.exports=function(e,t){if(!delete e[t])throw new i("Cannot delete property "+n(t)+" of "+n(e))}},3724:function(e,t,r){"use strict";var n=r(9039);e.exports=!n((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}))},4483:function(e,t,r){"use strict";var n,i,o,s,a=r(4576),c=r(9429),u=r(1548),E=a.structuredClone,l=a.ArrayBuffer,f=a.MessageChannel,d=!1;if(u)d=function(e){E(e,{transfer:[e]})};else if(l)try{f||(n=c("worker_threads"))&&(f=n.MessageChannel),f&&(i=new f,o=new l(2),s=function(e){i.port1.postMessage(null,[e])},2===o.byteLength&&(s(o),0===o.byteLength&&(d=s)))}catch(e){}e.exports=d},4055:function(e,t,r){"use strict";var n=r(4576),i=r(34),o=n.document,s=i(o)&&i(o.createElement);e.exports=function(e){return s?o.createElement(e):{}}},6837:function(e){"use strict";var t=TypeError;e.exports=function(e){if(e>9007199254740991)throw t("Maximum allowed index exceeded");return e}},5002:function(e){"use strict";e.exports={IndexSizeError:{s:"INDEX_SIZE_ERR",c:1,m:1},DOMStringSizeError:{s:"DOMSTRING_SIZE_ERR",c:2,m:0},HierarchyRequestError:{s:"HIERARCHY_REQUEST_ERR",c:3,m:1},WrongDocumentError:{s:"WRONG_DOCUMENT_ERR",c:4,m:1},InvalidCharacterError:{s:"INVALID_CHARACTER_ERR",c:5,m:1},NoDataAllowedError:{s:"NO_DATA_ALLOWED_ERR",c:6,m:0},NoModificationAllowedError:{s:"NO_MODIFICATION_ALLOWED_ERR",c:7,m:1},NotFoundError:{s:"NOT_FOUND_ERR",c:8,m:1},NotSupportedError:{s:"NOT_SUPPORTED_ERR",c:9,m:1},InUseAttributeError:{s:"INUSE_ATTRIBUTE_ERR",c:10,m:1},InvalidStateError:{s:"INVALID_STATE_ERR",c:11,m:1},SyntaxError:{s:"SYNTAX_ERR",c:12,m:1},InvalidModificationError:{s:"INVALID_MODIFICATION_ERR",c:13,m:1},NamespaceError:{s:"NAMESPACE_ERR",c:14,m:1},InvalidAccessError:{s:"INVALID_ACCESS_ERR",c:15,m:1},ValidationError:{s:"VALIDATION_ERR",c:16,m:0},TypeMismatchError:{s:"TYPE_MISMATCH_ERR",c:17,m:1},SecurityError:{s:"SECURITY_ERR",c:18,m:1},NetworkError:{s:"NETWORK_ERR",c:19,m:1},AbortError:{s:"ABORT_ERR",c:20,m:1},URLMismatchError:{s:"URL_MISMATCH_ERR",c:21,m:1},QuotaExceededError:{s:"QUOTA_EXCEEDED_ERR",c:22,m:1},TimeoutError:{s:"TIMEOUT_ERR",c:23,m:1},InvalidNodeTypeError:{s:"INVALID_NODE_TYPE_ERR",c:24,m:1},DataCloneError:{s:"DATA_CLONE_ERR",c:25,m:1}}},8727:function(e){"use strict";e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},3709:function(e,t,r){"use strict";var n=r(2839).match(/firefox\/(\d+)/i);e.exports=!!n&&+n[1]},3763:function(e,t,r){"use strict";var n=r(2839);e.exports=/MSIE|Trident/.test(n)},6193:function(e,t,r){"use strict";var n=r(4215);e.exports="NODE"===n},2839:function(e,t,r){"use strict";var n=r(4576).navigator,i=n&&n.userAgent;e.exports=i?String(i):""},9519:function(e,t,r){"use strict";var n,i,o=r(4576),s=r(2839),a=o.process,c=o.Deno,u=a&&a.versions||c&&c.version,E=u&&u.v8;E&&(i=(n=E.split("."))[0]>0&&n[0]<4?1:+(n[0]+n[1])),!i&&s&&(!(n=s.match(/Edge\/(\d+)/))||n[1]>=74)&&(n=s.match(/Chrome\/(\d+)/))&&(i=+n[1]),e.exports=i},3607:function(e,t,r){"use strict";var n=r(2839).match(/AppleWebKit\/(\d+)\./);e.exports=!!n&&+n[1]},4215:function(e,t,r){"use strict";var n=r(4576),i=r(2839),o=r(2195),s=function(e){return i.slice(0,e.length)===e};e.exports=s("Bun/")?"BUN":s("Cloudflare-Workers")?"CLOUDFLARE":s("Deno/")?"DENO":s("Node.js/")?"NODE":n.Bun&&"string"==typeof Bun.version?"BUN":n.Deno&&"object"==typeof Deno.version?"DENO":"process"===o(n.process)?"NODE":n.window&&n.document?"BROWSER":"REST"},8574:function(e,t,r){"use strict";var n=r(9504),i=Error,o=n("".replace),s=String(new i("zxcasd").stack),a=/\n\s*at [^:]*:[^\n]*/,c=a.test(s);e.exports=function(e,t){if(c&&"string"==typeof e&&!i.prepareStackTrace)for(;t--;)e=o(e,a,"");return e}},747:function(e,t,r){"use strict";var n=r(6699),i=r(8574),o=r(4659),s=Error.captureStackTrace;e.exports=function(e,t,r,a){o&&(s?s(e,t):n(e,"stack",i(r,a)))}},4659:function(e,t,r){"use strict";var n=r(9039),i=r(6980);e.exports=!n((function(){var e=new Error("a");return!("stack"in e)||(Object.defineProperty(e,"stack",i(1,7)),7!==e.stack)}))},6518:function(e,t,r){"use strict";var n=r(4576),i=r(7347).f,o=r(6699),s=r(6840),a=r(9433),c=r(7740),u=r(2796);e.exports=function(e,t){var r,E,l,f,d,g=e.target,p=e.global,y=e.stat;if(r=p?n:y?n[g]||a(g,{}):n[g]&&n[g].prototype)for(E in t){if(f=t[E],l=e.dontCallGetSet?(d=i(r,E))&&d.value:r[E],!u(p?E:g+(y?".":"#")+E,e.forced)&&void 0!==l){if(typeof f==typeof l)continue;c(f,l)}(e.sham||l&&l.sham)&&o(f,"sham",!0),s(r,E,f,e)}}},9039:function(e){"use strict";e.exports=function(e){try{return!!e()}catch(e){return!0}}},8745:function(e,t,r){"use strict";var n=r(616),i=Function.prototype,o=i.apply,s=i.call;e.exports="object"==typeof Reflect&&Reflect.apply||(n?s.bind(o):function(){return s.apply(o,arguments)})},6080:function(e,t,r){"use strict";var n=r(7476),i=r(9306),o=r(616),s=n(n.bind);e.exports=function(e,t){return i(e),void 0===t?e:o?s(e,t):function(){return e.apply(t,arguments)}}},616:function(e,t,r){"use strict";var n=r(9039);e.exports=!n((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},9565:function(e,t,r){"use strict";var n=r(616),i=Function.prototype.call;e.exports=n?i.bind(i):function(){return i.apply(i,arguments)}},350:function(e,t,r){"use strict";var n=r(3724),i=r(9297),o=Function.prototype,s=n&&Object.getOwnPropertyDescriptor,a=i(o,"name"),c=a&&"something"===function(){}.name,u=a&&(!n||n&&s(o,"name").configurable);e.exports={EXISTS:a,PROPER:c,CONFIGURABLE:u}},6706:function(e,t,r){"use strict";var n=r(9504),i=r(9306);e.exports=function(e,t,r){try{return n(i(Object.getOwnPropertyDescriptor(e,t)[r]))}catch(e){}}},7476:function(e,t,r){"use strict";var n=r(2195),i=r(9504);e.exports=function(e){if("Function"===n(e))return i(e)}},9504:function(e,t,r){"use strict";var n=r(616),i=Function.prototype,o=i.call,s=n&&i.bind.bind(o,o);e.exports=n?s:function(e){return function(){return o.apply(e,arguments)}}},9429:function(e,t,r){"use strict";var n=r(4576),i=r(6193);e.exports=function(e){if(i){try{return n.process.getBuiltinModule(e)}catch(e){}try{return Function('return require("'+e+'")')()}catch(e){}}}},7751:function(e,t,r){"use strict";var n=r(4576),i=r(4901);e.exports=function(e,t){return arguments.length<2?(r=n[e],i(r)?r:void 0):n[e]&&n[e][t];var r}},6933:function(e,t,r){"use strict";var n=r(9504),i=r(4376),o=r(4901),s=r(2195),a=r(655),c=n([].push);e.exports=function(e){if(o(e))return e;if(i(e)){for(var t=e.length,r=[],n=0;n<t;n++){var u=e[n];"string"==typeof u?c(r,u):"number"!=typeof u&&"Number"!==s(u)&&"String"!==s(u)||c(r,a(u))}var E=r.length,l=!0;return function(e,t){if(l)return l=!1,t;if(i(this))return t;for(var n=0;n<E;n++)if(r[n]===e)return t}}}},5966:function(e,t,r){"use strict";var n=r(9306),i=r(4117);e.exports=function(e,t){var r=e[t];return i(r)?void 0:n(r)}},4576:function(e,t,r){"use strict";var n=function(e){return e&&e.Math===Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof r.g&&r.g)||n("object"==typeof this&&this)||function(){return this}()||Function("return this")()},9297:function(e,t,r){"use strict";var n=r(9504),i=r(8981),o=n({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return o(i(e),t)}},421:function(e){"use strict";e.exports={}},5917:function(e,t,r){"use strict";var n=r(3724),i=r(9039),o=r(4055);e.exports=!n&&!i((function(){return 7!==Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},7055:function(e,t,r){"use strict";var n=r(9504),i=r(9039),o=r(2195),s=Object,a=n("".split);e.exports=i((function(){return!s("z").propertyIsEnumerable(0)}))?function(e){return"String"===o(e)?a(e,""):s(e)}:s},3167:function(e,t,r){"use strict";var n=r(4901),i=r(34),o=r(2967);e.exports=function(e,t,r){var s,a;return o&&n(s=t.constructor)&&s!==r&&i(a=s.prototype)&&a!==r.prototype&&o(e,a),e}},3706:function(e,t,r){"use strict";var n=r(9504),i=r(4901),o=r(7629),s=n(Function.toString);i(o.inspectSource)||(o.inspectSource=function(e){return s(e)}),e.exports=o.inspectSource},7584:function(e,t,r){"use strict";var n=r(34),i=r(6699);e.exports=function(e,t){n(t)&&"cause"in t&&i(e,"cause",t.cause)}},1181:function(e,t,r){"use strict";var n,i,o,s=r(8622),a=r(4576),c=r(34),u=r(6699),E=r(9297),l=r(7629),f=r(6119),d=r(421),g="Object already initialized",p=a.TypeError,y=a.WeakMap;if(s||l.state){var S=l.state||(l.state=new y);S.get=S.get,S.has=S.has,S.set=S.set,n=function(e,t){if(S.has(e))throw new p(g);return t.facade=e,S.set(e,t),t},i=function(e){return S.get(e)||{}},o=function(e){return S.has(e)}}else{var _=f("state");d[_]=!0,n=function(e,t){if(E(e,_))throw new p(g);return t.facade=e,u(e,_,t),t},i=function(e){return E(e,_)?e[_]:{}},o=function(e){return E(e,_)}}e.exports={set:n,get:i,has:o,enforce:function(e){return o(e)?i(e):n(e,{})},getterFor:function(e){return function(t){var r;if(!c(t)||(r=i(t)).type!==e)throw new p("Incompatible receiver, "+e+" required");return r}}}},4376:function(e,t,r){"use strict";var n=r(2195);e.exports=Array.isArray||function(e){return"Array"===n(e)}},1108:function(e,t,r){"use strict";var n=r(6955);e.exports=function(e){var t=n(e);return"BigInt64Array"===t||"BigUint64Array"===t}},4901:function(e){"use strict";var t="object"==typeof document&&document.all;e.exports=void 0===t&&void 0!==t?function(e){return"function"==typeof e||e===t}:function(e){return"function"==typeof e}},2796:function(e,t,r){"use strict";var n=r(9039),i=r(4901),o=/#|\.prototype\./,s=function(e,t){var r=c[a(e)];return r===E||r!==u&&(i(t)?n(t):!!t)},a=s.normalize=function(e){return String(e).replace(o,".").toLowerCase()},c=s.data={},u=s.NATIVE="N",E=s.POLYFILL="P";e.exports=s},4117:function(e){"use strict";e.exports=function(e){return null==e}},34:function(e,t,r){"use strict";var n=r(4901);e.exports=function(e){return"object"==typeof e?null!==e:n(e)}},3925:function(e,t,r){"use strict";var n=r(34);e.exports=function(e){return n(e)||null===e}},6395:function(e){"use strict";e.exports=!1},757:function(e,t,r){"use strict";var n=r(7751),i=r(4901),o=r(1625),s=r(7040),a=Object;e.exports=s?function(e){return"symbol"==typeof e}:function(e){var t=n("Symbol");return i(t)&&o(t.prototype,a(e))}},6198:function(e,t,r){"use strict";var n=r(8014);e.exports=function(e){return n(e.length)}},283:function(e,t,r){"use strict";var n=r(9504),i=r(9039),o=r(4901),s=r(9297),a=r(3724),c=r(350).CONFIGURABLE,u=r(3706),E=r(1181),l=E.enforce,f=E.get,d=String,g=Object.defineProperty,p=n("".slice),y=n("".replace),S=n([].join),_=a&&!i((function(){return 8!==g((function(){}),"length",{value:8}).length})),h=String(String).split("String"),A=e.exports=function(e,t,r){"Symbol("===p(d(t),0,7)&&(t="["+y(d(t),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),r&&r.getter&&(t="get "+t),r&&r.setter&&(t="set "+t),(!s(e,"name")||c&&e.name!==t)&&(a?g(e,"name",{value:t,configurable:!0}):e.name=t),_&&r&&s(r,"arity")&&e.length!==r.arity&&g(e,"length",{value:r.arity});try{r&&s(r,"constructor")&&r.constructor?a&&g(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(e){}var n=l(e);return s(n,"source")||(n.source=S(h,"string"==typeof t?t:"")),e};Function.prototype.toString=A((function(){return o(this)&&f(this).source||u(this)}),"toString")},741:function(e){"use strict";var t=Math.ceil,r=Math.floor;e.exports=Math.trunc||function(e){var n=+e;return(n>0?r:t)(n)}},2603:function(e,t,r){"use strict";var n=r(655);e.exports=function(e,t){return void 0===e?arguments.length<2?"":t:n(e)}},4913:function(e,t,r){"use strict";var n=r(3724),i=r(5917),o=r(8686),s=r(8551),a=r(6969),c=TypeError,u=Object.defineProperty,E=Object.getOwnPropertyDescriptor,l="enumerable",f="configurable",d="writable";t.f=n?o?function(e,t,r){if(s(e),t=a(t),s(r),"function"==typeof e&&"prototype"===t&&"value"in r&&d in r&&!r[d]){var n=E(e,t);n&&n[d]&&(e[t]=r.value,r={configurable:f in r?r[f]:n[f],enumerable:l in r?r[l]:n[l],writable:!1})}return u(e,t,r)}:u:function(e,t,r){if(s(e),t=a(t),s(r),i)try{return u(e,t,r)}catch(e){}if("get"in r||"set"in r)throw new c("Accessors not supported");return"value"in r&&(e[t]=r.value),e}},7347:function(e,t,r){"use strict";var n=r(3724),i=r(9565),o=r(8773),s=r(6980),a=r(5397),c=r(6969),u=r(9297),E=r(5917),l=Object.getOwnPropertyDescriptor;t.f=n?l:function(e,t){if(e=a(e),t=c(t),E)try{return l(e,t)}catch(e){}if(u(e,t))return s(!i(o.f,e,t),e[t])}},8480:function(e,t,r){"use strict";var n=r(1828),i=r(8727).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,i)}},3717:function(e,t){"use strict";t.f=Object.getOwnPropertySymbols},2787:function(e,t,r){"use strict";var n=r(9297),i=r(4901),o=r(8981),s=r(6119),a=r(2211),c=s("IE_PROTO"),u=Object,E=u.prototype;e.exports=a?u.getPrototypeOf:function(e){var t=o(e);if(n(t,c))return t[c];var r=t.constructor;return i(r)&&t instanceof r?r.prototype:t instanceof u?E:null}},1625:function(e,t,r){"use strict";var n=r(9504);e.exports=n({}.isPrototypeOf)},1828:function(e,t,r){"use strict";var n=r(9504),i=r(9297),o=r(5397),s=r(9617).indexOf,a=r(421),c=n([].push);e.exports=function(e,t){var r,n=o(e),u=0,E=[];for(r in n)!i(a,r)&&i(n,r)&&c(E,r);for(;t.length>u;)i(n,r=t[u++])&&(~s(E,r)||c(E,r));return E}},8773:function(e,t){"use strict";var r={}.propertyIsEnumerable,n=Object.getOwnPropertyDescriptor,i=n&&!r.call({1:2},1);t.f=i?function(e){var t=n(this,e);return!!t&&t.enumerable}:r},2967:function(e,t,r){"use strict";var n=r(6706),i=r(34),o=r(7750),s=r(3506);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,r={};try{(e=n(Object.prototype,"__proto__","set"))(r,[]),t=r instanceof Array}catch(e){}return function(r,n){return o(r),s(n),i(r)?(t?e(r,n):r.__proto__=n,r):r}}():void 0)},4270:function(e,t,r){"use strict";var n=r(9565),i=r(4901),o=r(34),s=TypeError;e.exports=function(e,t){var r,a;if("string"===t&&i(r=e.toString)&&!o(a=n(r,e)))return a;if(i(r=e.valueOf)&&!o(a=n(r,e)))return a;if("string"!==t&&i(r=e.toString)&&!o(a=n(r,e)))return a;throw new s("Can't convert object to primitive value")}},5031:function(e,t,r){"use strict";var n=r(7751),i=r(9504),o=r(8480),s=r(3717),a=r(8551),c=i([].concat);e.exports=n("Reflect","ownKeys")||function(e){var t=o.f(a(e)),r=s.f;return r?c(t,r(e)):t}},1056:function(e,t,r){"use strict";var n=r(4913).f;e.exports=function(e,t,r){r in e||n(e,r,{configurable:!0,get:function(){return t[r]},set:function(e){t[r]=e}})}},7750:function(e,t,r){"use strict";var n=r(4117),i=TypeError;e.exports=function(e){if(n(e))throw new i("Can't call method on "+e);return e}},6119:function(e,t,r){"use strict";var n=r(5745),i=r(3392),o=n("keys");e.exports=function(e){return o[e]||(o[e]=i(e))}},7629:function(e,t,r){"use strict";var n=r(6395),i=r(4576),o=r(9433),s="__core-js_shared__",a=e.exports=i[s]||o(s,{});(a.versions||(a.versions=[])).push({version:"3.39.0",mode:n?"pure":"global",copyright:"Â© 2014-2024 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.39.0/LICENSE",source:"https://github.com/zloirock/core-js"})},5745:function(e,t,r){"use strict";var n=r(7629);e.exports=function(e,t){return n[e]||(n[e]=t||{})}},1548:function(e,t,r){"use strict";var n=r(4576),i=r(9039),o=r(9519),s=r(4215),a=n.structuredClone;e.exports=!!a&&!i((function(){if("DENO"===s&&o>92||"NODE"===s&&o>94||"BROWSER"===s&&o>97)return!1;var e=new ArrayBuffer(8),t=a(e,{transfer:[e]});return 0!==e.byteLength||8!==t.byteLength}))},4495:function(e,t,r){"use strict";var n=r(9519),i=r(9039),o=r(4576).String;e.exports=!!Object.getOwnPropertySymbols&&!i((function(){var e=Symbol("symbol detection");return!o(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&n&&n<41}))},5610:function(e,t,r){"use strict";var n=r(1291),i=Math.max,o=Math.min;e.exports=function(e,t){var r=n(e);return r<0?i(r+t,0):o(r,t)}},5854:function(e,t,r){"use strict";var n=r(2777),i=TypeError;e.exports=function(e){var t=n(e,"number");if("number"==typeof t)throw new i("Can't convert number to bigint");return BigInt(t)}},7696:function(e,t,r){"use strict";var n=r(1291),i=r(8014),o=RangeError;e.exports=function(e){if(void 0===e)return 0;var t=n(e),r=i(t);if(t!==r)throw new o("Wrong length or index");return r}},5397:function(e,t,r){"use strict";var n=r(7055),i=r(7750);e.exports=function(e){return n(i(e))}},1291:function(e,t,r){"use strict";var n=r(741);e.exports=function(e){var t=+e;return t!=t||0===t?0:n(t)}},8014:function(e,t,r){"use strict";var n=r(1291),i=Math.min;e.exports=function(e){var t=n(e);return t>0?i(t,9007199254740991):0}},8981:function(e,t,r){"use strict";var n=r(7750),i=Object;e.exports=function(e){return i(n(e))}},8229:function(e,t,r){"use strict";var n=r(9590),i=RangeError;e.exports=function(e,t){var r=n(e);if(r%t)throw new i("Wrong offset");return r}},9590:function(e,t,r){"use strict";var n=r(1291),i=RangeError;e.exports=function(e){var t=n(e);if(t<0)throw new i("The argument can't be less than 0");return t}},2777:function(e,t,r){"use strict";var n=r(9565),i=r(34),o=r(757),s=r(5966),a=r(4270),c=r(8227),u=TypeError,E=c("toPrimitive");e.exports=function(e,t){if(!i(e)||o(e))return e;var r,c=s(e,E);if(c){if(void 0===t&&(t="default"),r=n(c,e,t),!i(r)||o(r))return r;throw new u("Can't convert object to primitive value")}return void 0===t&&(t="number"),a(e,t)}},6969:function(e,t,r){"use strict";var n=r(2777),i=r(757);e.exports=function(e){var t=n(e,"string");return i(t)?t:t+""}},2140:function(e,t,r){"use strict";var n={};n[r(8227)("toStringTag")]="z",e.exports="[object z]"===String(n)},655:function(e,t,r){"use strict";var n=r(6955),i=String;e.exports=function(e){if("Symbol"===n(e))throw new TypeError("Cannot convert a Symbol value to a string");return i(e)}},6823:function(e){"use strict";var t=String;e.exports=function(e){try{return t(e)}catch(e){return"Object"}}},3392:function(e,t,r){"use strict";var n=r(9504),i=0,o=Math.random(),s=n(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+s(++i+o,36)}},7040:function(e,t,r){"use strict";var n=r(4495);e.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},8686:function(e,t,r){"use strict";var n=r(3724),i=r(9039);e.exports=n&&i((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},2812:function(e){"use strict";var t=TypeError;e.exports=function(e,r){if(e<r)throw new t("Not enough arguments");return e}},8622:function(e,t,r){"use strict";var n=r(4576),i=r(4901),o=n.WeakMap;e.exports=i(o)&&/native code/.test(String(o))},8227:function(e,t,r){"use strict";var n=r(4576),i=r(5745),o=r(9297),s=r(3392),a=r(4495),c=r(7040),u=n.Symbol,E=i("wks"),l=c?u.for||u:u&&u.withoutSetter||s;e.exports=function(e){return o(E,e)||(E[e]=a&&o(u,e)?u[e]:l("Symbol."+e)),E[e]}},4601:function(e,t,r){"use strict";var n=r(7751),i=r(9297),o=r(6699),s=r(1625),a=r(2967),c=r(7740),u=r(1056),E=r(3167),l=r(2603),f=r(7584),d=r(747),g=r(3724),p=r(6395);e.exports=function(e,t,r,y){var S="stackTraceLimit",_=y?2:1,h=e.split("."),A=h[h.length-1],m=n.apply(null,h);if(m){var T=m.prototype;if(!p&&i(T,"cause")&&delete T.cause,!r)return m;var R=n("Error"),I=t((function(e,t){var r=l(y?t:e,void 0),n=y?new m(e):new m;return void 0!==r&&o(n,"message",r),d(n,I,n.stack,2),this&&s(T,this)&&E(n,this,I),arguments.length>_&&f(n,arguments[_]),n}));if(I.prototype=T,"Error"!==A?a?a(I,R):c(I,R,{name:!0}):g&&S in m&&(u(I,m,S),u(I,m,"prepareStackTrace")),c(I,m),!p)try{T.name!==A&&o(T,"name",A),T.constructor=I}catch(e){}return I}}},6573:function(e,t,r){"use strict";var n=r(3724),i=r(2106),o=r(3238),s=ArrayBuffer.prototype;n&&!("detached"in s)&&i(s,"detached",{configurable:!0,get:function(){return o(this)}})},7936:function(e,t,r){"use strict";var n=r(6518),i=r(5636);i&&n({target:"ArrayBuffer",proto:!0},{transferToFixedLength:function(){return i(this,arguments.length?arguments[0]:void 0,!1)}})},8100:function(e,t,r){"use strict";var n=r(6518),i=r(5636);i&&n({target:"ArrayBuffer",proto:!0},{transfer:function(){return i(this,arguments.length?arguments[0]:void 0,!0)}})},4114:function(e,t,r){"use strict";var n=r(6518),i=r(8981),o=r(6198),s=r(4527),a=r(6837);n({target:"Array",proto:!0,arity:1,forced:r(9039)((function(){return 4294967297!==[].push.call({length:4294967296},1)}))||!function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(e){return e instanceof TypeError}}()},{push:function(e){var t=i(this),r=o(t),n=arguments.length;a(r+n);for(var c=0;c<n;c++)t[r]=arguments[c],r++;return s(t,r),r}})},2712:function(e,t,r){"use strict";var n=r(6518),i=r(926).left,o=r(4598),s=r(9519);n({target:"Array",proto:!0,forced:!r(6193)&&s>79&&s<83||!o("reduce")},{reduce:function(e){var t=arguments.length;return i(this,e,t,t>1?arguments[1]:void 0)}})},6910:function(e,t,r){"use strict";var n=r(6518),i=r(9504),o=r(9306),s=r(8981),a=r(6198),c=r(4606),u=r(655),E=r(9039),l=r(4488),f=r(4598),d=r(3709),g=r(3763),p=r(9519),y=r(3607),S=[],_=i(S.sort),h=i(S.push),A=E((function(){S.sort(void 0)})),m=E((function(){S.sort(null)})),T=f("sort"),R=!E((function(){if(p)return p<70;if(!(d&&d>3)){if(g)return!0;if(y)return y<603;var e,t,r,n,i="";for(e=65;e<76;e++){switch(t=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:r=3;break;case 68:case 71:r=4;break;default:r=2}for(n=0;n<47;n++)S.push({k:t+n,v:r})}for(S.sort((function(e,t){return t.v-e.v})),n=0;n<S.length;n++)t=S[n].k.charAt(0),i.charAt(i.length-1)!==t&&(i+=t);return"DGBEFHACIJK"!==i}}));n({target:"Array",proto:!0,forced:A||!m||!T||!R},{sort:function(e){void 0!==e&&o(e);var t=s(this);if(R)return void 0===e?_(t):_(t,e);var r,n,i=[],E=a(t);for(n=0;n<E;n++)n in t&&h(i,t[n]);for(l(i,function(e){return function(t,r){return void 0===r?-1:void 0===t?1:void 0!==e?+e(t,r)||0:u(t)>u(r)?1:-1}}(e)),r=a(i),n=0;n<r;)t[n]=i[n++];for(;n<E;)c(t,n++);return t}})},3609:function(e,t,r){"use strict";var n=r(6518),i=r(8981),o=r(6198),s=r(4527),a=r(4606),c=r(6837);n({target:"Array",proto:!0,arity:1,forced:1!==[].unshift(0)||!function(){try{Object.defineProperty([],"length",{writable:!1}).unshift()}catch(e){return e instanceof TypeError}}()},{unshift:function(e){var t=i(this),r=o(t),n=arguments.length;if(n){c(r+n);for(var u=r;u--;){var E=u+n;u in t?t[E]=t[u]:a(t,E)}for(var l=0;l<n;l++)t[l]=arguments[l]}return s(t,r+n)}})},6280:function(e,t,r){"use strict";var n=r(6518),i=r(4576),o=r(8745),s=r(4601),a="WebAssembly",c=i[a],u=7!==new Error("e",{cause:7}).cause,E=function(e,t){var r={};r[e]=s(e,t,u),n({global:!0,constructor:!0,arity:1,forced:u},r)},l=function(e,t){if(c&&c[e]){var r={};r[e]=s(a+"."+e,t,u),n({target:a,stat:!0,constructor:!0,arity:1,forced:u},r)}};E("Error",(function(e){return function(t){return o(e,this,arguments)}})),E("EvalError",(function(e){return function(t){return o(e,this,arguments)}})),E("RangeError",(function(e){return function(t){return o(e,this,arguments)}})),E("ReferenceError",(function(e){return function(t){return o(e,this,arguments)}})),E("SyntaxError",(function(e){return function(t){return o(e,this,arguments)}})),E("TypeError",(function(e){return function(t){return o(e,this,arguments)}})),E("URIError",(function(e){return function(t){return o(e,this,arguments)}})),l("CompileError",(function(e){return function(t){return o(e,this,arguments)}})),l("LinkError",(function(e){return function(t){return o(e,this,arguments)}})),l("RuntimeError",(function(e){return function(t){return o(e,this,arguments)}}))},3110:function(e,t,r){"use strict";var n=r(6518),i=r(7751),o=r(8745),s=r(9565),a=r(9504),c=r(9039),u=r(4901),E=r(757),l=r(7680),f=r(6933),d=r(4495),g=String,p=i("JSON","stringify"),y=a(/./.exec),S=a("".charAt),_=a("".charCodeAt),h=a("".replace),A=a(1..toString),m=/[\uD800-\uDFFF]/g,T=/^[\uD800-\uDBFF]$/,R=/^[\uDC00-\uDFFF]$/,I=!d||c((function(){var e=i("Symbol")("stringify detection");return"[null]"!==p([e])||"{}"!==p({a:e})||"{}"!==p(Object(e))})),v=c((function(){return'"\\udf06\\ud834"'!==p("\udf06\ud834")||'"\\udead"'!==p("\udead")})),C=function(e,t){var r=l(arguments),n=f(t);if(u(n)||void 0!==e&&!E(e))return r[1]=function(e,t){if(u(n)&&(t=s(n,this,g(e),t)),!E(t))return t},o(p,null,r)},D=function(e,t,r){var n=S(r,t-1),i=S(r,t+1);return y(T,e)&&!y(R,i)||y(R,e)&&!y(T,n)?"\\u"+A(_(e,0),16):e};p&&n({target:"JSON",stat:!0,arity:3,forced:I||v},{stringify:function(e,t,r){var n=l(arguments),i=o(I?C:p,null,n);return v&&"string"==typeof i?h(i,m,D):i}})},8140:function(e,t,r){"use strict";var n=r(4644),i=r(6198),o=r(1291),s=n.aTypedArray;(0,n.exportTypedArrayMethod)("at",(function(e){var t=s(this),r=i(t),n=o(e),a=n>=0?n:r+n;return a<0||a>=r?void 0:t[a]}))},1134:function(e,t,r){"use strict";var n=r(4644),i=r(3839).findLastIndex,o=n.aTypedArray;(0,n.exportTypedArrayMethod)("findLastIndex",(function(e){return i(o(this),e,arguments.length>1?arguments[1]:void 0)}))},1903:function(e,t,r){"use strict";var n=r(4644),i=r(3839).findLast,o=n.aTypedArray;(0,n.exportTypedArrayMethod)("findLast",(function(e){return i(o(this),e,arguments.length>1?arguments[1]:void 0)}))},8845:function(e,t,r){"use strict";var n=r(4576),i=r(9565),o=r(4644),s=r(6198),a=r(8229),c=r(8981),u=r(9039),E=n.RangeError,l=n.Int8Array,f=l&&l.prototype,d=f&&f.set,g=o.aTypedArray,p=o.exportTypedArrayMethod,y=!u((function(){var e=new Uint8ClampedArray(2);return i(d,e,{length:1,0:3},1),3!==e[1]})),S=y&&o.NATIVE_ARRAY_BUFFER_VIEWS&&u((function(){var e=new l(2);return e.set(1),e.set("2",1),0!==e[0]||2!==e[1]}));p("set",(function(e){g(this);var t=a(arguments.length>1?arguments[1]:void 0,1),r=c(e);if(y)return i(d,this,r,t);var n=this.length,o=s(r),u=0;if(o+t>n)throw new E("Wrong length");for(;u<o;)this[t+u]=r[u++]}),!y||S)},373:function(e,t,r){"use strict";var n=r(4576),i=r(7476),o=r(9039),s=r(9306),a=r(4488),c=r(4644),u=r(3709),E=r(3763),l=r(9519),f=r(3607),d=c.aTypedArray,g=c.exportTypedArrayMethod,p=n.Uint16Array,y=p&&i(p.prototype.sort),S=!(!y||o((function(){y(new p(2),null)}))&&o((function(){y(new p(2),{})}))),_=!!y&&!o((function(){if(l)return l<74;if(u)return u<67;if(E)return!0;if(f)return f<602;var e,t,r=new p(516),n=Array(516);for(e=0;e<516;e++)t=e%4,r[e]=515-e,n[e]=e-2*t+3;for(y(r,(function(e,t){return(e/4|0)-(t/4|0)})),e=0;e<516;e++)if(r[e]!==n[e])return!0}));g("sort",(function(e){return void 0!==e&&s(e),_?y(this,e):a(d(this),function(e){return function(t,r){return void 0!==e?+e(t,r)||0:r!=r?-1:t!=t?1:0===t&&0===r?1/t>0&&1/r<0?1:-1:t>r}}(e))}),!_||S)},7467:function(e,t,r){"use strict";var n=r(7628),i=r(4644),o=i.aTypedArray,s=i.exportTypedArrayMethod,a=i.getTypedArrayConstructor;s("toReversed",(function(){return n(o(this),a(this))}))},4732:function(e,t,r){"use strict";var n=r(4644),i=r(9504),o=r(9306),s=r(5370),a=n.aTypedArray,c=n.getTypedArrayConstructor,u=n.exportTypedArrayMethod,E=i(n.TypedArrayPrototype.sort);u("toSorted",(function(e){void 0!==e&&o(e);var t=a(this),r=s(c(t),t);return E(r,e)}))},9577:function(e,t,r){"use strict";var n=r(9928),i=r(4644),o=r(1108),s=r(1291),a=r(5854),c=i.aTypedArray,u=i.getTypedArrayConstructor,E=i.exportTypedArrayMethod,l=!!function(){try{new Int8Array(1).with(2,{valueOf:function(){throw 8}})}catch(e){return 8===e}}();E("with",{with:function(e,t){var r=c(this),i=s(e),E=o(r)?a(t):+t;return n(r,u(r),i,E)}}.with,!l)},4979:function(e,t,r){"use strict";var n=r(6518),i=r(4576),o=r(7751),s=r(6980),a=r(4913).f,c=r(9297),u=r(679),E=r(3167),l=r(2603),f=r(5002),d=r(8574),g=r(3724),p=r(6395),y="DOMException",S=o("Error"),_=o(y),h=function(){u(this,A);var e=arguments.length,t=l(e<1?void 0:arguments[0]),r=l(e<2?void 0:arguments[1],"Error"),n=new _(t,r),i=new S(t);return i.name=y,a(n,"stack",s(1,d(i.stack,1))),E(n,this,h),n},A=h.prototype=_.prototype,m="stack"in new S(y),T="stack"in new _(1,2),R=_&&g&&Object.getOwnPropertyDescriptor(i,y),I=!(!R||R.writable&&R.configurable),v=m&&!I&&!T;n({global:!0,constructor:!0,forced:p||v},{DOMException:v?h:_});var C=o(y),D=C.prototype;if(D.constructor!==C)for(var b in p||a(D,"constructor",s(1,C)),f)if(c(f,b)){var w=f[b],M=w.s;c(C,M)||a(C,M,s(6,w.c))}},4603:function(e,t,r){"use strict";var n=r(6840),i=r(9504),o=r(655),s=r(2812),a=URLSearchParams,c=a.prototype,u=i(c.append),E=i(c.delete),l=i(c.forEach),f=i([].push),d=new a("a=1&a=2&b=3");d.delete("a",1),d.delete("b",void 0),d+""!="a=2"&&n(c,"delete",(function(e){var t=arguments.length,r=t<2?void 0:arguments[1];if(t&&void 0===r)return E(this,e);var n=[];l(this,(function(e,t){f(n,{key:t,value:e})})),s(t,1);for(var i,a=o(e),c=o(r),d=0,g=0,p=!1,y=n.length;d<y;)i=n[d++],p||i.key===a?(p=!0,E(this,i.key)):g++;for(;g<y;)(i=n[g++]).key===a&&i.value===c||u(this,i.key,i.value)}),{enumerable:!0,unsafe:!0})},7566:function(e,t,r){"use strict";var n=r(6840),i=r(9504),o=r(655),s=r(2812),a=URLSearchParams,c=a.prototype,u=i(c.getAll),E=i(c.has),l=new a("a=1");!l.has("a",2)&&l.has("a",void 0)||n(c,"has",(function(e){var t=arguments.length,r=t<2?void 0:arguments[1];if(t&&void 0===r)return E(this,e);var n=u(this,e);s(t,1);for(var i=o(r),a=0;a<n.length;)if(n[a++]===i)return!0;return!1}),{enumerable:!0,unsafe:!0})},8721:function(e,t,r){"use strict";var n=r(3724),i=r(9504),o=r(2106),s=URLSearchParams.prototype,a=i(s.forEach);n&&!("size"in s)&&o(s,"size",{get:function(){var e=0;return a(this,(function(){e++})),e},configurable:!0,enumerable:!0})},7208:function(e,t,r){"use strict";var n=r(6518),i=r(9565);n({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return i(URL.prototype.toString,this)}})},327:function(e,t,r){"use strict";r(4114);const n=function(){let e,t=[];const r={},n={};function i(e,r){for(const n in t){const i=t[n];if(i.context===e&&i.name===r)return i.instance}return null}function o(e,t){return t[e]}function s(e,t,r){e in r&&(r[e]=t)}function a(t,r,n){let i;const o=t.__dashjs_factory_name,s=r[o];if(s){let o=s.instance;if(!s.override)return o.apply({context:r,factory:e},n);i=t.apply({context:r},n),o=o.apply({context:r,factory:e,parent:i},n);for(const e in o)i.hasOwnProperty(e)&&(i[e]=o[e])}else i=t.apply({context:r},n);return i.getClassName=function(){return o},i}return e={deleteSingletonInstances:function(e){t=t.filter((t=>t.context!==e))},extend:function(e,t,r,n){!n[e]&&t&&(n[e]={instance:t,override:r})},getClassFactory:function(e){let t=o(e.__dashjs_factory_name,n);return t||(t=function(t){return void 0===t&&(t={}),{create:function(){return a(e,t,arguments)}}},n[e.__dashjs_factory_name]=t),t},getClassFactoryByName:function(e){return o(e,n)},getSingletonFactory:function(e){let n=o(e.__dashjs_factory_name,r);return n||(n=function(r){let n;return void 0===r&&(r={}),{getInstance:function(){return n||(n=i(r,e.__dashjs_factory_name)),n||(n=a(e,r,arguments),t.push({name:e.__dashjs_factory_name,context:r,instance:n})),n}}},r[e.__dashjs_factory_name]=n),n},getSingletonFactoryByName:function(e){return o(e,r)},getSingletonInstance:i,setSingletonInstance:function(e,r,n){for(const i in t){const o=t[i];if(o.context===e&&o.name===r)return void(t[i].instance=n)}t.push({name:r,context:e,instance:n})},updateClassFactory:function(e,t){s(e,t,n)},updateSingletonFactory:function(e,t){s(e,t,r)}},e}();t.A=n},6632:function(e,t,r){"use strict";r(4114),r(6573),r(8100),r(7936),r(8140),r(1903),r(1134),r(8845),r(373),r(7467),r(4732),r(9577),r(7208),r(4603),r(7566),r(8721);var n=r(6999),i=r(8672),o=r(5009);class s{static mixin(e,t,r){let n,i={};if(e)for(let o in t)t.hasOwnProperty(o)&&(n=t[o],o in e&&(e[o]===n||o in i&&i[o]===n)||("object"==typeof e[o]&&null!==e[o]?e[o]=s.mixin(e[o],n,r):e[o]=r(n)));return e}static clone(e){if(!e||"object"!=typeof e)return e;if(e instanceof RegExp)return new RegExp(e);let t;if(e instanceof Array){t=[];for(let r=0,n=e.length;r<n;++r)r in e&&t.push(s.clone(e[r]))}else t={};return s.mixin(t,e,s.clone)}static addAdditionalQueryParameterToUrl(e,t){try{if(!t||0===t.length)return e;let r=e;return t.forEach((({key:e,value:t})=>{const n=r.includes("?")?"&":"?";r+=`${n}${encodeURIComponent(e)}=${encodeURIComponent(t)}`})),r}catch(t){return e}}static removeQueryParameterFromUrl(e,t){if(!e||!t)return e;const r=new URL(e),n=new URLSearchParams(r.search);if(!n||0===n.size||!n.has(t))return e;n.delete(t);const i=Array.from(n.entries()).map((([e,t])=>`${e}=${t}`)).join("&"),o=`${r.origin}${r.pathname}`;return i?`${o}?${i}`:o}static parseHttpHeaders(e){let t={};if(!e)return t;let r=e.trim().split("\r\n");for(let e=0,n=r.length;e<n;e++){let n=r[e],i=n.indexOf(": ");i>0&&(t[n.substring(0,i)]=n.substring(i+2))}return t}static parseQueryParams(e){const t=[],r=new URLSearchParams(e);for(const[e,n]of r.entries())t.push({key:decodeURIComponent(e),value:decodeURIComponent(n)});return t}static generateUuid(){let e=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){const r=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==t?r:3&r|8).toString(16)}))}static generateHashCode(e){let t=0;if(0===e.length)return t;for(let r=0;r<e.length;r++)t=(t<<5)-t+e.charCodeAt(r),t|=0;return t}static getRelativeUrl(e,t){try{const r=new URL(e),i=new URL(t);if(r.protocol=i.protocol,r.origin!==i.origin)return t;let o=n.relative(r.pathname.substr(0,r.pathname.lastIndexOf("/")),i.pathname.substr(0,i.pathname.lastIndexOf("/")));const s=0===o.length?1:0;return o+=i.pathname.substr(i.pathname.lastIndexOf("/")+s,i.pathname.length-1),i.pathname.length<o.length?i.pathname:o}catch(e){return t}}static getHostFromUrl(e){try{return new URL(e).host}catch(e){return null}}static parseUserAgent(e=null){try{const t=null===e&&"undefined"!=typeof navigator?navigator.userAgent.toLowerCase():"";return(0,i.UAParser)(t)}catch(e){return{}}}static stringHasProtocol(e){return/(http(s?)):\/\//i.test(e)}static bufferSourceToDataView(e){return s.toDataView(e,DataView)}static bufferSourceToInt8(e){return s.toDataView(e,Uint8Array)}static uint8ArrayToString(e){return new TextDecoder("utf-8").decode(e)}static bufferSourceToHex(e){const t=s.bufferSourceToInt8(e);let r="";for(let e of t)e=e.toString(16),1===e.length&&(e="0"+e),r+=e;return r}static toDataView(e,t){const r=s.getArrayBuffer(e);let n=1;"BYTES_PER_ELEMENT"in DataView&&(n=DataView.BYTES_PER_ELEMENT);const i=((e.byteOffset||0)+e.byteLength)/n,o=(e.byteOffset||0)/n,a=Math.floor(Math.max(0,Math.min(o,i)));return new t(r,a,Math.floor(Math.min(a+Math.max(1/0,0),i))-a)}static getArrayBuffer(e){return e instanceof ArrayBuffer?e:e.buffer}static getCodecFamily(e){const{base:t,profile:r}=s._getCodecParts(e);switch(t){case"mp4a":switch(r){case"69":case"6b":case"40.34":return o.A.CODEC_FAMILIES.MP3;case"66":case"67":case"68":case"40.2":case"40.02":case"40.5":case"40.05":case"40.29":case"40.42":return o.A.CODEC_FAMILIES.AAC;case"a5":return o.A.CODEC_FAMILIES.AC3;case"e6":return o.A.CODEC_FAMILIES.EC3;case"b2":return o.A.CODEC_FAMILIES.DTSX;case"a9":return o.A.CODEC_FAMILIES.DTSC}break;case"avc1":case"avc3":return o.A.CODEC_FAMILIES.AVC;case"hvc1":case"hvc3":return o.A.CODEC_FAMILIES.HEVC;default:return t}return t}static _getCodecParts(e){const[t,...r]=e.split(".");return{base:t,profile:r.join(".")}}}t.A=s},1743:function(e,t){"use strict";t.A=class{extend(e,t){if(!e)return;let r=!!t&&t.override,n=!!t&&t.publicOnly;for(const t in e)!e.hasOwnProperty(t)||this[t]&&!r||n&&-1===e[t].indexOf("public_")||(this[t]=e[t])}}},3991:function(e,t){"use strict";t.A=class{extend(e,t){if(!e)return;let r=!!t&&t.override,n=!!t&&t.publicOnly;for(const t in e)!e.hasOwnProperty(t)||this[t]&&!r||n&&-1===e[t].indexOf("public_")||(this[t]=e[t])}}},4821:function(e,t){"use strict";t.A={ACCESSIBILITY:"Accessibility",ADAPTATION_SET:"AdaptationSet",ADAPTATION_SETS:"adaptationSets",ADAPTATION_SET_SWITCHING_SCHEME_ID_URI:"urn:mpeg:dash:adaptation-set-switching:2016",ADD:"add",ASSET_IDENTIFIER:"AssetIdentifier",AUDIO_CHANNEL_CONFIGURATION:"AudioChannelConfiguration",AUDIO_SAMPLING_RATE:"audioSamplingRate",AVAILABILITY_END_TIME:"availabilityEndTime",AVAILABILITY_START_TIME:"availabilityStartTime",AVAILABILITY_TIME_COMPLETE:"availabilityTimeComplete",AVAILABILITY_TIME_OFFSET:"availabilityTimeOffset",BANDWITH:"bandwidth",BASE_URL:"BaseURL",BITSTREAM_SWITCHING:"BitstreamSwitching",BITSTREAM_SWITCHING_MINUS:"bitstreamSwitching",BYTE_RANGE:"byteRange",CAPTION:"caption",CENC_DEFAULT_KID:"cenc:default_KID",CLIENT_DATA_REPORTING:"ClientDataReporting",CLIENT_REQUIREMENT:"clientRequirement",CMCD_PARAMETERS:"CMCDParameters",CODECS:"codecs",CODEC_PRIVATE_DATA:"codecPrivateData",CODING_DEPENDENCY:"codingDependency",CONTENT_COMPONENT:"ContentComponent",CONTENT_PROTECTION:"ContentProtection",CONTENT_STEERING:"ContentSteering",CONTENT_STEERING_RESPONSE:{VERSION:"VERSION",TTL:"TTL",RELOAD_URI:"RELOAD-URI",PATHWAY_PRIORITY:"PATHWAY-PRIORITY",PATHWAY_CLONES:"PATHWAY-CLONES",BASE_ID:"BASE-ID",ID:"ID",URI_REPLACEMENT:"URI-REPLACEMENT",HOST:"HOST",PARAMS:"PARAMS"},CONTENT_TYPE:"contentType",DEFAULT_SERVICE_LOCATION:"defaultServiceLocation",DEPENDENCY_ID:"dependencyId",DURATION:"duration",DVB_PRIORITY:"dvb:priority",DVB_WEIGHT:"dvb:weight",DVB_URL:"dvb:url",DVB_MIMETYPE:"dvb:mimeType",DVB_FONTFAMILY:"dvb:fontFamily",DYNAMIC:"dynamic",END_NUMBER:"endNumber",ESSENTIAL_PROPERTY:"EssentialProperty",EVENT:"Event",EVENT_STREAM:"EventStream",FORCED_SUBTITLE:"forced-subtitle",FRAMERATE:"frameRate",FRAME_PACKING:"FramePacking",GROUP_LABEL:"GroupLabel",HEIGHT:"height",ID:"id",INBAND:"inband",INBAND_EVENT_STREAM:"InbandEventStream",INDEX:"index",INDEX_RANGE:"indexRange",INITIALIZATION:"Initialization",INITIALIZATION_MINUS:"initialization",LA_URL:"Laurl",LA_URL_LOWER_CASE:"laurl",LABEL:"Label",LANG:"lang",LOCATION:"Location",MAIN:"main",MAXIMUM_SAP_PERIOD:"maximumSAPPeriod",MAX_PLAYOUT_RATE:"maxPlayoutRate",MAX_SEGMENT_DURATION:"maxSegmentDuration",MAX_SUBSEGMENT_DURATION:"maxSubsegmentDuration",MEDIA:"media",MEDIA_PRESENTATION_DURATION:"mediaPresentationDuration",MEDIA_RANGE:"mediaRange",MEDIA_STREAM_STRUCTURE_ID:"mediaStreamStructureId",METRICS:"Metrics",METRICS_MINUS:"metrics",MIME_TYPE:"mimeType",MINIMUM_UPDATE_PERIOD:"minimumUpdatePeriod",MIN_BUFFER_TIME:"minBufferTime",MP4_PROTECTION_SCHEME:"urn:mpeg:dash:mp4protection:2011",MPD:"MPD",MPD_TYPE:"mpd",MPD_PATCH_TYPE:"mpdpatch",ORDER:"order",ORIGINAL_MPD_ID:"mpdId",ORIGINAL_PUBLISH_TIME:"originalPublishTime",PATCH_LOCATION:"PatchLocation",PERIOD:"Period",PRESELECTION:"Preselection",PRESELECTION_COMPONENTS:"preselectionComponents",PRESENTATION_TIME:"presentationTime",PRESENTATION_TIME_OFFSET:"presentationTimeOffset",PRO:"pro",PRODUCER_REFERENCE_TIME:"ProducerReferenceTime",PRODUCER_REFERENCE_TIME_TYPE:{ENCODER:"encoder",CAPTURED:"captured",APPLICATION:"application"},PROFILES:"profiles",PSSH:"pssh",PUBLISH_TIME:"publishTime",QUALITY_RANKING:"qualityRanking",QUERY_BEFORE_START:"queryBeforeStart",QUERY_PART:"$querypart$",RANGE:"range",RATING:"Rating",REF:"ref",REF_ID:"refId",REMOVE:"remove",REPLACE:"replace",REPORTING:"Reporting",REPRESENTATION:"Representation",REPRESENTATION_INDEX:"RepresentationIndex",ROBUSTNESS:"robustness",ROLE:"Role",S:"S",SAR:"sar",SCAN_TYPE:"scanType",SEGMENT_ALIGNMENT:"segmentAlignment",SEGMENT_BASE:"SegmentBase",SEGMENT_LIST:"SegmentList",SEGMENT_PROFILES:"segmentProfiles",SEGMENT_SEQUENCE_PROPERTIES:"SegmentSequenceProperties",SEGMENT_TEMPLATE:"SegmentTemplate",SEGMENT_TIMELINE:"SegmentTimeline",SEGMENT_TYPE:"segment",SEGMENT_URL:"SegmentURL",SERVICE_DESCRIPTION:"ServiceDescription",SERVICE_DESCRIPTION_LATENCY:"Latency",SERVICE_DESCRIPTION_OPERATING_BANDWIDTH:"OperatingBandwidth",SERVICE_DESCRIPTION_OPERATING_QUALITY:"OperatingQuality",SERVICE_DESCRIPTION_PLAYBACK_RATE:"PlaybackRate",SERVICE_DESCRIPTION_SCOPE:"Scope",SERVICE_LOCATION:"serviceLocation",SERVICE_LOCATIONS:"serviceLocations",SOURCE_URL:"sourceURL",START:"start",START_NUMBER:"startNumber",START_WITH_SAP:"startWithSAP",STATIC:"static",STEERING_TYPE:"steering",SUBSET:"Subset",SUBTITLE:"subtitle",SUB_REPRESENTATION:"SubRepresentation",SUB_SEGMENT_ALIGNMENT:"subsegmentAlignment",SUGGESTED_PRESENTATION_DELAY:"suggestedPresentationDelay",SUPPLEMENTAL_PROPERTY:"SupplementalProperty",SUPPLEMENTAL_CODECS:"scte214:supplementalCodecs",TAG:"tag",TIMESCALE:"timescale",TIMESHIFT_BUFFER_DEPTH:"timeShiftBufferDepth",TTL:"ttl",TYPE:"type",UTC_TIMING:"UTCTiming",VALUE:"value",VIEWPOINT:"Viewpoint",WALL_CLOCK_TIME:"wallClockTime",WIDTH:"width"}},5009:function(e,t){"use strict";t.A={STREAM:"stream",VIDEO:"video",ENHANCEMENT:"enhancement",AUDIO:"audio",TEXT:"text",MUXED:"muxed",IMAGE:"image",STPP:"stpp",TTML:"ttml",VTT:"vtt",WVTT:"wvtt",CONTENT_STEERING:"contentSteering",LIVE_CATCHUP_MODE_DEFAULT:"liveCatchupModeDefault",LIVE_CATCHUP_MODE_LOLP:"liveCatchupModeLoLP",MOVING_AVERAGE_SLIDING_WINDOW:"slidingWindow",MOVING_AVERAGE_EWMA:"ewma",BAD_ARGUMENT_ERROR:"Invalid Arguments",MISSING_CONFIG_ERROR:"Missing config parameter(s)",TRACK_SWITCH_MODE_ALWAYS_REPLACE:"alwaysReplace",TRACK_SWITCH_MODE_NEVER_REPLACE:"neverReplace",TRACK_SELECTION_MODE_FIRST_TRACK:"firstTrack",TRACK_SELECTION_MODE_HIGHEST_BITRATE:"highestBitrate",TRACK_SELECTION_MODE_HIGHEST_EFFICIENCY:"highestEfficiency",TRACK_SELECTION_MODE_LOWEST_STARTUP_DELAY:"lowestStartupDelay",TRACK_SELECTION_MODE_WIDEST_RANGE:"widestRange",CMCD_QUERY_KEY:"CMCD",CMCD_MODE_QUERY:"query",CMCD_MODE_HEADER:"header",CMCD_AVAILABLE_KEYS:["br","d","ot","tb","bl","dl","mtp","nor","nrr","su","bs","rtp","cid","pr","sf","sid","st","v"],CMCD_V2_AVAILABLE_KEYS:["msd","ltc"],CMCD_AVAILABLE_REQUESTS:["segment","mpd","xlink","steering","other"],INITIALIZE:"initialize",TEXT_SHOWING:"showing",TEXT_HIDDEN:"hidden",TEXT_DISABLED:"disabled",ACCESSIBILITY_CEA608_SCHEME:"urn:scte:dash:cc:cea-608:2015",CC1:"CC1",CC3:"CC3",UTF8:"utf-8",SCHEME_ID_URI:"schemeIdUri",START_TIME:"starttime",SERVICE_DESCRIPTION_DVB_LL_SCHEME:"urn:dvb:dash:lowlatency:scope:2019",SUPPLEMENTAL_PROPERTY_DVB_LL_SCHEME:"urn:dvb:dash:lowlatency:critical:2019",CTA_5004_2023_SCHEME:"urn:mpeg:dash:cta-5004:2023",THUMBNAILS_SCHEME_ID_URIS:["http://dashif.org/thumbnail_tile","http://dashif.org/guidelines/thumbnail_tile"],FONT_DOWNLOAD_DVB_SCHEME:"urn:dvb:dash:fontdownload:2014",COLOUR_PRIMARIES_SCHEME_ID_URI:"urn:mpeg:mpegB:cicp:ColourPrimaries",URL_QUERY_INFO_SCHEME:"urn:mpeg:dash:urlparam:2014",EXT_URL_QUERY_INFO_SCHEME:"urn:mpeg:dash:urlparam:2016",MATRIX_COEFFICIENTS_SCHEME_ID_URI:"urn:mpeg:mpegB:cicp:MatrixCoefficients",TRANSFER_CHARACTERISTICS_SCHEME_ID_URI:"urn:mpeg:mpegB:cicp:TransferCharacteristics",SEGMENT_SEQUENCE_REPRESENTATION_SCHEME_ID_URI:"urn:mpeg:dash:ssr:2023",HDR_METADATA_FORMAT_SCHEME_ID_URI:"urn:dvb:dash:hdr-dmi",HDR_METADATA_FORMAT_VALUES:{ST2094_10:"ST2094-10",SL_HDR2:"SL-HDR2",ST2094_40:"ST2094-40"},MEDIA_CAPABILITIES_API:{COLORGAMUT:{SRGB:"srgb",P3:"p3",REC2020:"rec2020"},TRANSFERFUNCTION:{SRGB:"srgb",PQ:"pq",HLG:"hlg"},HDR_METADATATYPE:{SMPTE_ST_2094_10:"smpteSt2094-10",SLHDR2:"slhdr2",SMPTE_ST_2094_40:"smpteSt2094-40"}},XML:"XML",ARRAY_BUFFER:"ArrayBuffer",DVB_REPORTING_URL:"dvb:reportingUrl",DVB_PROBABILITY:"dvb:probability",OFF_MIMETYPE:"application/font-sfnt",WOFF_MIMETYPE:"application/font-woff",VIDEO_ELEMENT_READY_STATES:{HAVE_NOTHING:0,HAVE_METADATA:1,HAVE_CURRENT_DATA:2,HAVE_FUTURE_DATA:3,HAVE_ENOUGH_DATA:4},FILE_LOADER_TYPES:{FETCH:"fetch_loader",XHR:"xhr_loader"},THROUGHPUT_TYPES:{LATENCY:"throughput_type_latency",BANDWIDTH:"throughput_type_bandwidth"},THROUGHPUT_CALCULATION_MODES:{EWMA:"throughputCalculationModeEwma",ZLEMA:"throughputCalculationModeZlema",ARITHMETIC_MEAN:"throughputCalculationModeArithmeticMean",BYTE_SIZE_WEIGHTED_ARITHMETIC_MEAN:"throughputCalculationModeByteSizeWeightedArithmeticMean",DATE_WEIGHTED_ARITHMETIC_MEAN:"throughputCalculationModeDateWeightedArithmeticMean",HARMONIC_MEAN:"throughputCalculationModeHarmonicMean",BYTE_SIZE_WEIGHTED_HARMONIC_MEAN:"throughputCalculationModeByteSizeWeightedHarmonicMean",DATE_WEIGHTED_HARMONIC_MEAN:"throughputCalculationModeDateWeightedHarmonicMean"},LOW_LATENCY_DOWNLOAD_TIME_CALCULATION_MODE:{MOOF_PARSING:"lowLatencyDownloadTimeCalculationModeMoofParsing",DOWNLOADED_DATA:"lowLatencyDownloadTimeCalculationModeDownloadedData",AAST:"lowLatencyDownloadTimeCalculationModeAast"},RULES_TYPES:{QUALITY_SWITCH_RULES:"qualitySwitchRules",ABANDON_FRAGMENT_RULES:"abandonFragmentRules"},QUALITY_SWITCH_RULES:{BOLA_RULE:"BolaRule",THROUGHPUT_RULE:"ThroughputRule",INSUFFICIENT_BUFFER_RULE:"InsufficientBufferRule",SWITCH_HISTORY_RULE:"SwitchHistoryRule",DROPPED_FRAMES_RULE:"DroppedFramesRule",LEARN_TO_ADAPT_RULE:"L2ARule",LOL_PLUS_RULE:"LoLPRule"},ABANDON_FRAGMENT_RULES:{ABANDON_REQUEST_RULE:"AbandonRequestsRule"},ID3_SCHEME_ID_URI:"https://aomedia.org/emsg/ID3",COMMON_ACCESS_TOKEN_HEADER:"common-access-token",DASH_ROLE_SCHEME_ID:"urn:mpeg:dash:role:2011",CODEC_FAMILIES:{MP3:"mp3",AAC:"aac",AC3:"ac3",EC3:"ec3",DTSX:"dtsx",DTSC:"dtsc",AVC:"avc",HEVC:"hevc"}}},7324:function(e,t){"use strict";t.A={CLEARKEY_KEYSTEM_STRING:"org.w3.clearkey",WIDEVINE_KEYSTEM_STRING:"com.widevine.alpha",PLAYREADY_KEYSTEM_STRING:"com.microsoft.playready",PLAYREADY_RECOMMENDATION_KEYSTEM_STRING:"com.microsoft.playready.recommendation",WIDEVINE_UUID:"edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",PLAYREADY_UUID:"9a04f079-9840-4286-ab92-e65be0885f95",CLEARKEY_UUID:"e2719d58-a985-b3c9-781a-b030af78d30e",W3C_CLEARKEY_UUID:"1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",INITIALIZATION_DATA_TYPE_CENC:"cenc",INITIALIZATION_DATA_TYPE_KEYIDS:"keyids",INITIALIZATION_DATA_TYPE_WEBM:"webm",ENCRYPTION_SCHEME_CENC:"cenc",ENCRYPTION_SCHEME_CBCS:"cbcs",MEDIA_KEY_MESSAGE_TYPES:{LICENSE_REQUEST:"license-request",LICENSE_RENEWAL:"license-renewal",LICENSE_RELEASE:"license-release",INDIVIDUALIZATION_REQUEST:"individualization-request"},ROBUSTNESS_STRINGS:{WIDEVINE:{SW_SECURE_CRYPTO:"SW_SECURE_CRYPTO",SW_SECURE_DECODE:"SW_SECURE_DECODE",HW_SECURE_CRYPTO:"HW_SECURE_CRYPTO",HW_SECURE_DECODE:"HW_SECURE_DECODE",HW_SECURE_ALL:"HW_SECURE_ALL"}},MEDIA_KEY_STATUSES:{USABLE:"usable",EXPIRED:"expired",RELEASED:"released",OUTPUT_RESTRICTED:"output-restricted",OUTPUT_DOWNSCALED:"output-downscaled",STATUS_PENDING:"status-pending",INTERNAL_ERROR:"internal-error"}}},4592:function(e,t,r){"use strict";var n=r(3991);class i extends n.A{constructor(){super(),this.INTERNAL_KEY_MESSAGE="internalKeyMessage",this.INTERNAL_KEY_STATUSES_CHANGED="internalkeyStatusesChanged",this.KEY_ADDED="public_keyAdded",this.KEY_ERROR="public_keyError",this.KEY_MESSAGE="public_keyMessage",this.KEY_SESSION_CLOSED="public_keySessionClosed",this.KEY_SESSION_CREATED="public_keySessionCreated",this.KEY_SESSION_REMOVED="public_keySessionRemoved",this.KEY_STATUSES_CHANGED="public_keyStatusesChanged",this.KEY_STATUSES_MAP_UPDATED="keyStatusesMapUpdated",this.KEY_SYSTEM_ACCESS_COMPLETE="public_keySystemAccessComplete",this.KEY_SYSTEM_SELECTED="public_keySystemSelected",this.LICENSE_REQUEST_COMPLETE="public_licenseRequestComplete",this.LICENSE_REQUEST_SENDING="public_licenseRequestSending",this.NEED_KEY="needkey",this.PROTECTION_CREATED="public_protectioncreated",this.PROTECTION_DESTROYED="public_protectiondestroyed",this.SERVER_CERTIFICATE_UPDATED="serverCertificateUpdated",this.TEARDOWN_COMPLETE="protectionTeardownComplete",this.VIDEO_ELEMENT_SELECTED="videoElementSelected",this.KEY_SESSION_UPDATED="public_keySessionUpdated"}}let o=new i;t.A=o},5028:function(e,t,r){"use strict";var n=r(1743);class i extends n.A{constructor(){super(),this.MEDIA_KEYERR_CODE=100,this.MEDIA_KEYERR_UNKNOWN_CODE=101,this.MEDIA_KEYERR_CLIENT_CODE=102,this.MEDIA_KEYERR_SERVICE_CODE=103,this.MEDIA_KEYERR_OUTPUT_CODE=104,this.MEDIA_KEYERR_HARDWARECHANGE_CODE=105,this.MEDIA_KEYERR_DOMAIN_CODE=106,this.MEDIA_KEY_MESSAGE_ERROR_CODE=107,this.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_CODE=108,this.SERVER_CERTIFICATE_UPDATED_ERROR_CODE=109,this.KEY_STATUS_CHANGED_EXPIRED_ERROR_CODE=110,this.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_CODE=111,this.KEY_SYSTEM_ACCESS_DENIED_ERROR_CODE=112,this.KEY_SESSION_CREATED_ERROR_CODE=113,this.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE=114,this.MEDIA_KEYERR_UNKNOWN_MESSAGE="An unspecified error occurred. This value is used for errors that don't match any of the other codes.",this.MEDIA_KEYERR_CLIENT_MESSAGE="The Key System could not be installed or updated.",this.MEDIA_KEYERR_SERVICE_MESSAGE="The message passed into update indicated an error from the license service.",this.MEDIA_KEYERR_OUTPUT_MESSAGE="There is no available output device with the required characteristics for the content protection system.",this.MEDIA_KEYERR_HARDWARECHANGE_MESSAGE="A hardware configuration change caused a content protection error.",this.MEDIA_KEYERR_DOMAIN_MESSAGE="An error occurred in a multi-device domain licensing configuration. The most common error is a failure to join the domain.",this.MEDIA_KEY_MESSAGE_ERROR_MESSAGE="Multiple key sessions were creates with a user-agent that does not support sessionIDs!! Unpredictable behavior ahead!",this.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_MESSAGE="DRM: Empty key message from CDM",this.SERVER_CERTIFICATE_UPDATED_ERROR_MESSAGE="Error updating server certificate -- ",this.KEY_STATUS_CHANGED_EXPIRED_ERROR_MESSAGE="DRM: KeyStatusChange error! -- License has expired",this.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_MESSAGE="DRM: No license server URL specified!",this.KEY_SYSTEM_ACCESS_DENIED_ERROR_MESSAGE="DRM: KeySystem Access Denied! -- ",this.KEY_SESSION_CREATED_ERROR_MESSAGE="DRM: unable to create session! --",this.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE="DRM: licenser error! --"}}let o=new i;t.A=o},9355:function(e,t){"use strict";t.A=class{constructor(e,t,r){this.code=e||null,this.message=t||null,this.data=r||null}}},1451:function(e,t,r){"use strict";r.d(t,{G:function(){return n}});class n{constructor(){this.tcpid=null,this.type=null,this.url=null,this.actualurl=null,this.range=null,this.trequest=null,this.tresponse=null,this.responsecode=null,this.interval=null,this.trace=[],this.cmsd=null,this._stream=null,this._tfinish=null,this._mediaduration=null,this._responseHeaders=null,this._serviceLocation=null,this._fileLoaderType=null,this._resourceTimingValues=null}}n.GET="GET",n.HEAD="HEAD",n.MPD_TYPE="MPD",n.XLINK_EXPANSION_TYPE="XLinkExpansion",n.INIT_SEGMENT_TYPE="InitializationSegment",n.INDEX_SEGMENT_TYPE="IndexSegment",n.MEDIA_SEGMENT_TYPE="MediaSegment",n.BITSTREAM_SWITCHING_SEGMENT_TYPE="BitstreamSwitchingSegment",n.MSS_FRAGMENT_INFO_SEGMENT_TYPE="FragmentInfoSegment",n.DVB_REPORTING_TYPE="DVBReporting",n.LICENSE="license",n.CONTENT_STEERING_TYPE="ContentSteering",n.OTHER_TYPE="other"}},t={};function r(n){var i=t[n];if(void 0!==i)return i.exports;var o=t[n]={exports:{}};return e[n].call(o.exports,o,o.exports,r),o.exports}r.amdO={},r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};var n={};return function(){"use strict";r.d(n,{default:function(){return de}}),r(6280),r(4114),r(2712),r(6910),r(6573),r(8100),r(7936),r(3110),r(8140),r(1903),r(1134),r(8845),r(373),r(7467),r(4732),r(9577);var e=r(4821),t=r(7324);const i={prefixes:["clearkey","dashif","ck"]};class o{static findMp4ProtectionElement(r){let n=null;for(let i=0;i<r.length;++i){let o=r[i];o.schemeIdUri&&o.schemeIdUri.toLowerCase()===e.A.MP4_PROTECTION_SCHEME&&o.value&&(o.value.toLowerCase()===t.A.ENCRYPTION_SCHEME_CENC||o.value.toLowerCase()===t.A.ENCRYPTION_SCHEME_CBCS)&&(n=o)}return n}static getPSSHData(e){let t=8,r=new DataView(e),n=r.getUint8(t);return t+=20,n>0&&(t+=4+16*r.getUint32(t)),t+=4,e.slice(t)}static getPSSHForKeySystem(e,t){let r=o.parsePSSHList(t);return e&&r.hasOwnProperty(e.uuid.toLowerCase())?r[e.uuid.toLowerCase()]:null}static parseInitDataFromContentProtection(e,t){return"pssh"in e&&e.pssh?(e.pssh.__text=e.pssh.__text.replace(/\r?\n|\r/g,"").replace(/\s+/g,""),t.decodeArray(e.pssh.__text).buffer):null}static parsePSSHList(e){if(null==e)return[];let t=new DataView(e.buffer||e),r={},n=0;for(;;){let e,i,o,s,a,c,u=n;if(n>=t.buffer.byteLength)break;if(e=t.getUint32(n),i=n+e,n+=4,1886614376===t.getUint32(n))if(n+=4,o=t.getUint8(n),0===o||1===o){for(n++,n+=3,s="",a=0;a<4;a++)c=t.getUint8(n+a).toString(16),s+=1===c.length?"0"+c:c;for(n+=4,s+="-",a=0;a<2;a++)c=t.getUint8(n+a).toString(16),s+=1===c.length?"0"+c:c;for(n+=2,s+="-",a=0;a<2;a++)c=t.getUint8(n+a).toString(16),s+=1===c.length?"0"+c:c;for(n+=2,s+="-",a=0;a<2;a++)c=t.getUint8(n+a).toString(16),s+=1===c.length?"0"+c:c;for(n+=2,s+="-",a=0;a<6;a++)c=t.getUint8(n+a).toString(16),s+=1===c.length?"0"+c:c;n+=6,s=s.toLowerCase(),n+=4,r[s]=t.buffer.slice(u,i),n=i}else n=i;else n=i}return r}static getLicenseServerUrlFromMediaInfo(e,t){try{if(!e||0===e.length)return null;let r=0,n=null;for(;r<e.length&&!n;){const o=e[r];if(o&&o.contentProtection&&o.contentProtection.length>0){const e=o.contentProtection.filter((e=>e.schemeIdUri&&e.schemeIdUri===t));if(e&&e.length>0){let t=0;for(;t<e.length&&!n;){const r=e[t];r.laUrl&&r.laUrl.__prefix&&i.prefixes.includes(r.laUrl.__prefix)&&r.laUrl.__text&&(n=r.laUrl.__text),t+=1}}}r+=1}return n}catch(e){return null}}static hexKidToBufferSource(e){const t=e.replace(/-/g,"");return new Uint8Array(t.match(/[\da-f]{2}/gi).map((function(e){return parseInt(e,16)}))).buffer}}var s=o,a=class{constructor(e,t){this.contentType=e,this.robustness=t}},c=class{constructor(e,r,n,i,o,s){this.initDataTypes=s&&s.length>0?s:[t.A.INITIALIZATION_DATA_TYPE_CENC],e&&e.length&&(this.audioCapabilities=e),r&&r.length&&(this.videoCapabilities=r),this.distinctiveIdentifier=n,this.persistentState=i,this.sessionTypes=o}},u=r(5028),E=r(9355),l=class{constructor(e,t,r,n,i,o,s,a){this.url=e,this.method=t,this.responseType=r,this.headers=n,this.withCredentials=i,this.messageType=o,this.sessionId=s,this.data=a}},f=class{constructor(e,t,r){this.url=e,this.headers=t,this.data=r}},d=r(1451),g=r(6632),p=r(5009),y=r(327);function S(e){const r=(e=e||{}).BASE64,n=e.cmcdModel,i=e.constants,o=e.customParametersModel,y=e.debug,S=e.eventBus,_=e.events,h=e.protectionKeyController,A=e.settings;let m,T,R,I,v,C,D,b,w,M,O,N,L=e.protectionModel,P=[];function U(){if(!(S&&S.hasOwnProperty("on")&&h&&h.hasOwnProperty("getSupportedKeySystemMetadataFromContentProtection")))throw new Error("Missing config parameter(s)")}function k(e,t){O||I?O&&K():function(e,t){if(I)return;var n;I=!0;const i=function(e){const t=[];for(let r=0;r<e.length;r++){const n=x(e[r]);t.push({ks:e[r].ks,configs:[n],protData:e[r].protData})}return t}(e=(n=e).sort(((e,t)=>(m&&m[e.ks.systemString]&&m[e.ks.systemString].priority>=0?m[e.ks.systemString].priority:n.length)-(m&&m[t.ks.systemString]&&m[t.ks.systemString].priority>=0?m[t.ks.systemString].priority:n.length))));let o;L.requestKeySystemAccess(i).then((e=>(o=e.data,function(e){let t=e&&e.selectedSystemString?e.selectedSystemString:e.keySystem.systemString;return D.info("DRM: KeySystem Access Granted for system string ("+t+")!  Selecting key system..."),L.selectKeySystem(e)}(o)))).then((e=>{!function(e,t){try{O=e,I=!1,S.trigger(_.KEY_SYSTEM_SELECTED,{data:t});const n=B(O);n&&n.serverCertificate&&n.serverCertificate.length>0&&L.setServerCertificate(r.decodeArray(n.serverCertificate).buffer),K()}catch(e){D.error(e)}}(e,o)})).catch((e=>{!function(e,t){O=null,I=!1,t||S.trigger(_.KEY_SYSTEM_SELECTED,{data:null,error:new E.A(u.A.KEY_SYSTEM_ACCESS_DENIED_ERROR_CODE,u.A.KEY_SYSTEM_ACCESS_DENIED_ERROR_MESSAGE+"Error selecting key system! -- "+e.error)})}(e,t)}))}(e,t)}function K(){let e;for(let r=0;r<w.length;r++)for(e=0;e<w[r].length;e++)if(O===w[r][e].ks){t=w[r][e],h.isClearKey(O)&&function(e){if(e.protData&&e.protData.hasOwnProperty("clearkeys")&&0!==Object.keys(e.protData.clearkeys).length){const t={kids:Object.keys(e.protData.clearkeys)};e.initData=(new TextEncoder).encode(JSON.stringify(t))}}(t),t.sessionId?Y(t):null!==t.initData&&G(t);break}var t;w=[]}function x(e){const r=e.protData,n=[],o=[],s=r&&r.initDataTypes&&r.initDataTypes.length>0?r.initDataTypes:[t.A.INITIALIZATION_DATA_TYPE_CENC],u=r&&r.audioRobustness&&r.audioRobustness.length>0?r.audioRobustness:M,E=r&&r.videoRobustness&&r.videoRobustness.length>0?r.videoRobustness:M,l=e.sessionType,f=r&&r.distinctiveIdentifier?r.distinctiveIdentifier:"optional",d=r&&r.persistentState?r.persistentState:"temporary"===l?"optional":"required";return b.forEach((e=>{e.type===i.AUDIO?n.push(new a(e.codec,u)):e.type===i.VIDEO&&o.push(new a(e.codec,E))})),new c(n,o,f,d,[l],s)}function Y(e){U(),L.loadKeySession(e)}function G(e){if(e&&function(e){if(!e)return!1;try{const t=L.getSessionTokens();for(let r=0;r<t.length;r++)if(t[r].getKeyId()===e)return!0;return!1}catch(e){return!1}}(e.keyId))return;!function(){if(!A)return;const e=A.get().streaming.protection.keepProtectionMediaKeys,t=A.get().streaming.protection.keepProtectionMediaKeysMaximumOpenSessions;if("number"!=typeof t||t<=0)return;if(!e)return void D.warn("DRM: keepProtectionMediaKeysMaximumOpenSessions is set to "+t+", but keepProtectionMediaKeys is not enabled. Therefore, keepProtectionMediaKeysMaximumOpenSessions will be ignored.");if(!L||"function"!=typeof L.getSessionTokens)return;const r=L.getSessionTokens()||[];if(r.length<t)return;const n=r[0];n&&(D.info("DRM: Maximum number of open MediaKeySessions reached ("+t+"), closing oldest session."),H(n))}();const t=s.getPSSHForKeySystem(O,e?e.initData:null);if(t){if(F(t))return;try{e.initData=t,L.createKeySession(e)}catch(e){S.trigger(_.KEY_SESSION_CREATED,{data:null,error:new E.A(u.A.KEY_SESSION_CREATED_ERROR_CODE,u.A.KEY_SESSION_CREATED_ERROR_MESSAGE+e.message)})}}else e&&e.initData?L.createKeySession(e):S.trigger(_.KEY_SESSION_CREATED,{data:null,error:new E.A(u.A.KEY_SESSION_CREATED_ERROR_CODE,u.A.KEY_SESSION_CREATED_ERROR_MESSAGE+"Selected key system is "+(O?O.systemString:null)+".  needkey/encrypted event contains no initData corresponding to that key system!")})}function B(e){if(e){const t=e.systemString;if(m)return t in m?m[t]:null}return null}function F(e){if(!e)return!1;try{const t=L.getAllInitData();for(let r=0;r<t.length;r++)if(h.initDataEquals(e,t[r]))return D.debug("DRM: Ignoring initData because we have already seen it!"),!0;return!1}catch(e){return!1}}function H(e){U(),L.closeKeySession(e)}function V(e){U(),e?(L.setMediaElement(e),S.on(_.NEED_KEY,$,T)):null===e&&(L.setMediaElement(e),S.off(_.NEED_KEY,$,T))}function j(e){D.debug("DRM: onKeyMessage");const r=e.data;S.trigger(_.KEY_MESSAGE,{data:r});const n=r.messageType?r.messageType:t.A.MEDIA_KEY_MESSAGE_TYPES.LICENSE_REQUEST,i=r.message,a=r.sessionToken,c=B(O),p=h.getLicenseServerModelInstance(O,c,n),y={sessionToken:a,messageType:n};if(i&&0!==i.byteLength){if(!p)return D.debug("DRM: License server request not required for this message (type = "+e.data.messageType+").  Session ID = "+a.getSessionId()),void W(y);if(h.isClearKey(O)){const e=h.processClearKeyLicenseRequest(O,c,i);if(e&&e.keyPairs&&e.keyPairs.length>0)return D.debug("DRM: ClearKey license request handled by application!"),W(y),void L.updateKeySession(a,e)}!function(e,r,n){const i=e.sessionToken,a=e.messageType?e.messageType:t.A.MEDIA_KEY_MESSAGE_TYPES.LICENSE_REQUEST,c={sessionToken:i,messageType:a},p=O?O.systemString:null;let y=function(e,t,r,n,i){let o=null;const a=n.message;if(e&&e.serverURL){const r=e.serverURL;"string"==typeof r&&""!==r?o=r:"object"==typeof r&&r.hasOwnProperty(t)&&(o=r[t])}else if(e&&e.laURL&&""!==e.laURL)o=e.laURL;else if(o=s.getLicenseServerUrlFromMediaInfo(b,O.schemeIdURI),!o&&!h.isClearKey(O)){const e=s.getPSSHData(r.initData);o=O.getLicenseServerURLFromInitData(e),o||(o=n.laURL)}return o=i.getServerURLFromMessage(o,a,t),o}(n,a,i,e,r);if(!y)return void W(c,new E.A(u.A.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_CODE,u.A.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_MESSAGE));const S={};let _=!1;n&&X(S,n.httpRequestHeaders);const m=e.message;X(S,O.getRequestHeadersFromMessage(m)),Object.keys(S).forEach((e=>{"authorization"===e.toLowerCase()&&(_=!0)})),n&&"boolean"==typeof n.withCredentials&&(_=n.withCredentials);const T=function(e){if(L)if(e.status>=200&&e.status<=299){const t=g.A.parseHttpHeaders(e.getAllResponseHeaders?e.getAllResponseHeaders():null);let n=new f(e.responseURL,t,e.response);Z(o.getLicenseResponseFilters(),n).then((()=>{const t=r.getLicenseMessage(n.data,p,a);null!==t?(W(c),L.updateKeySession(i,t)):Q(e,c,p,a,r)}))}else Q(e,c,p,a,r)},R=function(e){W(c,new E.A(u.A.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE,u.A.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE+p+' update, XHR aborted. status is "'+e.statusText+'" ('+e.status+"), readyState is "+e.readyState))},I=function(e){W(c,new E.A(u.A.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE,u.A.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE+p+' update, XHR error. status is "'+e.statusText+'" ('+e.status+"), readyState is "+e.readyState))},v=O.getLicenseRequestFromMessage(m),C=r.getHTTPMethod(a),D=r.getResponseType(p,a),w=n&&!isNaN(n.httpTimeout)?n.httpTimeout:8e3,M=i.getSessionId()||null;let N=new l(y,C,D,S,_,a,M,v);const P=isNaN(A.get().streaming.retryAttempts[d.G.LICENSE])?3:A.get().streaming.retryAttempts[d.G.LICENSE];Z(o.getLicenseRequestFilters(),N).then((()=>{q(N,P,w,T,R,I)}))}(r,p,c)}else W(y,new E.A(u.A.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_CODE,u.A.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_MESSAGE))}function W(e,t=null){S.trigger(_.LICENSE_REQUEST_COMPLETE,{data:e,error:t})}function q(e,t,r,i,o,s){const a=new XMLHttpRequest,c=n.getCmcdParametersFromManifest();if(n.isCmcdEnabled()&&(c.mode?c.mode:A.get().streaming.cmcd.mode)===p.A.CMCD_MODE_QUERY){const t=n.getQueryParameter({url:e.url,type:d.G.LICENSE});t&&(e.url=g.A.addAdditionalQueryParameterToUrl(e.url,[t]))}a.open(e.method,e.url,!0),a.responseType=e.responseType,a.withCredentials=e.withCredentials,r>0&&(a.timeout=r);for(const t in e.headers)a.setRequestHeader(t,e.headers[t]);if(n.isCmcdEnabled()&&(c.mode?c.mode:A.get().streaming.cmcd.mode)===p.A.CMCD_MODE_HEADER){const t=n.getHeaderParameters({url:e.url,type:d.G.LICENSE});if(t)for(const e in t){let r=t[e];r&&a.setRequestHeader(e,r)}}const u=function(){t--;const n=isNaN(A.get().streaming.retryIntervals[d.G.LICENSE])?1e3:A.get().streaming.retryIntervals[d.G.LICENSE];v=setTimeout((function(){q(e,t,r,i,o,s)}),n)};a.onload=function(){C=null,this.status>=200&&this.status<=299||t<=0?i(this):(D.warn("License request failed ("+this.status+"). Retrying it... Pending retries: "+t),u())},a.ontimeout=a.onerror=function(){C=null,t<=0?s(this):(D.warn("License request network request failed . Retrying it... Pending retries: "+t),u())},a.onabort=function(){o(this)},S.trigger(_.LICENSE_REQUEST_SENDING,{url:e.url,headers:e.headers,payload:e.data,sessionId:e.sessionId}),C=a,a.send(e.data)}function z(){C&&(C.onloadend=C.onerror=C.onprogress=void 0,C.abort(),C=null),v&&(clearTimeout(v),v=null)}function X(e,t){if(t)for(const r in t)e[r]=t[r]}function Q(e,t,r,n,i){let o="NONE",s=null;e.response&&(o=i.getErrorResponse(e.response,r,n),s={serverResponse:e.response||null,responseCode:e.status||null,responseText:e.statusText||null}),W(t,new E.A(u.A.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE,u.A.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE+r+' update, XHR complete. status is "'+e.statusText+'" ('+e.status+"), readyState is "+e.readyState+".  Response is "+o,s))}function Z(e,t){return e?e.reduce(((e,r)=>e.then((()=>r(t)))),Promise.resolve()):Promise.resolve()}function $(e,r){if(A.get().streaming.protection.ignoreEmeEncryptedEvent)return;if(D.debug("DRM: onNeedKey"),e.key.initDataType!==t.A.INITIALIZATION_DATA_TYPE_CENC)return void D.warn("DRM:  Only 'cenc' initData is supported!  Ignoring initData of type: "+e.key.initDataType);if(0===b.length&&(D.warn("DRM: onNeedKey called before initializeForMedia, wait until initialized"),(r=void 0===r?1:r+1)<5))return void P.push(setTimeout((()=>{$(e,r)}),500));let n=e.key.initData;if(ArrayBuffer.isView(n)&&(n=n.buffer),O){const e=s.getPSSHForKeySystem(O,n);if(e&&F(e))return}D.debug("DRM: initData:",String.fromCharCode.apply(null,new Uint8Array(n)));const i=h.getSupportedKeySystemMetadataFromSegmentPssh(n,m,N);0!==i.length?function(e){w.push(e),k(e,!1)}(i):D.debug("DRM: Received needkey event with initData, but we don't support any of the key systems!")}function J(e,t){if(e.size<=0)return!1;if(t.size>0&&[...e].every((e=>{const r=t.get(e);return void 0!==r&&""!==r})))return!0;const r=L.getSessionTokens();if(r&&r.length>0){const t=r.filter((t=>[...e].includes(t.normalizedKeyId)));if(t.some((e=>!e.hasTriggeredKeyStatusMapUpdate))||0===t.length)return!1}return!A.get().streaming.protection.ignoreKeyStatuses&&e&&e.size>0&&t&&t.size>0}return T={areKeyIdsExpired:function(e){try{return!!J(e,R)&&[...e].every((e=>R.get(e)===t.A.MEDIA_KEY_STATUSES.EXPIRED))}catch(e){return D.error(e),!1}},areKeyIdsUsable:function(e){try{return!J(e,R)||[...e].some((e=>{const r=R.get(e);return r&&r!==t.A.MEDIA_KEY_STATUSES.INTERNAL_ERROR&&r!==t.A.MEDIA_KEY_STATUSES.OUTPUT_RESTRICTED}))}catch(e){return D.error(e),!0}},clearMediaInfoArray:function(){b=[]},closeKeySession:H,createKeySession:G,getKeySystems:function(){return h?h.getKeySystems():[]},getSupportedKeySystemMetadataFromContentProtection:function(e){return U(),h.getSupportedKeySystemMetadataFromContentProtection(e,m,N)},handleKeySystemFromManifest:function(){if(!b||0===b.length)return;let e=[];b.forEach((t=>{const r=h.getSupportedKeySystemMetadataFromContentProtection(t.contentProtection,m,N);r.length>0&&(0===e.length&&(e=r),w.push(r))})),e&&e.length>0&&k(e,!0)},initializeForMedia:function(e){if(!e)throw new Error("mediaInfo can not be null or undefined");U(),b.push(e)},loadKeySession:Y,removeKeySession:function(e){U(),L.removeKeySession(e)},reset:function(){S.off(_.INTERNAL_KEY_MESSAGE,j,T),U(),z(),V(null),O=null,I=!1,R=new Map,L&&(L.reset(),L=null),P.forEach((e=>clearTimeout(e))),P=[],b=[],w=[]},setKeySystems:function(e){h&&h.setKeySystems(e)},setMediaElement:V,setProtectionData:function(e){m=e,h.setProtectionData(e)},setRobustnessLevel:function(e){M=e},setServerCertificate:function(e){return U(),L.setServerCertificate(e)},setSessionType:function(e){N=e},stop:function(){z(),L&&L.stop()},updateKeyStatusesMap:function(e){try{if(!e||!e.sessionToken||!e.parsedKeyStatuses)return;e.sessionToken.hasTriggeredKeyStatusMapUpdate=!0;const r=e.parsedKeyStatuses,n=g.A.parseUserAgent(),i=n&&n.browser&&n.browser.name&&"edge"===n.browser.name.toLowerCase();r.forEach((e=>{i&&O.uuid===t.A.PLAYREADY_UUID&&e.keyId&&16===e.keyId.byteLength&&function(e){const t=g.A.bufferSourceToDataView(e),r=t.getUint32(0,!0),n=t.getUint16(4,!0),i=t.getUint16(6,!0);t.setUint32(0,r,!1),t.setUint16(4,n,!1),t.setUint16(6,i,!1)}(e.keyId);const r=g.A.bufferSourceToHex(e.keyId).slice(0,32);r&&""!==r&&R.set(r,e.status)})),S.trigger(_.KEY_STATUSES_MAP_UPDATED,{keyStatusMap:R})}catch(e){D.error(e)}}},D=y.getLogger(T),w=[],b=[],N="temporary",M="",C=null,v=null,R=new Map,S.on(_.INTERNAL_KEY_MESSAGE,j,T),T}S.__dashjs_factory_name="ProtectionController";var _=y.A.getClassFactory(S);r(3609),r(4979);var h=class{constructor(e,t){this.keyID=e,this.key=t}},A=class{constructor(e,t){if(t&&"persistent"!==t&&"temporary"!==t)throw new Error("Invalid ClearKey key set type!  Must be one of 'persistent' or 'temporary'");this.keyPairs=e,this.type=t}toJWK(){let e,t=this.keyPairs.length,r={keys:[]};for(e=0;e<t;e++){let t={kty:"oct",alg:"A128KW",kid:this.keyPairs[e].keyID,k:this.keyPairs[e].key};r.keys.push(t)}this.type&&(r.type=this.type);let n=JSON.stringify(r);const i=n.length;let o=new ArrayBuffer(i),s=new Uint8Array(o);for(e=0;e<i;e++)s[e]=n.charCodeAt(e);return o}};const m=t.A.CLEARKEY_UUID,T=t.A.CLEARKEY_KEYSTEM_STRING,R="urn:uuid:"+m;function I(e){let t;const r=(e=e||{}).BASE64;return t={uuid:m,schemeIdURI:R,systemString:T,getInitData:function(e,t){try{let n=s.parseInitDataFromContentProtection(e,r);if(!n&&t){const e={kids:[function(e){try{let t=e.replace(/-/g,"");return t=btoa(t.match(/\w{2}/g).map((e=>String.fromCharCode(parseInt(e,16)))).join("")),t.replace(/=/g,"").replace(/\//g,"_").replace(/\+/g,"-")}catch(e){return null}}(t.cencDefaultKid)]};n=(new TextEncoder).encode(JSON.stringify(e))}return n}catch(e){return null}},getRequestHeadersFromMessage:function(){return{"Content-Type":"application/json"}},getLicenseRequestFromMessage:function(e){return JSON.stringify(JSON.parse(String.fromCharCode.apply(null,new Uint8Array(e))))},getLicenseServerURLFromInitData:function(){return null},getCDMData:function(){return null},getClearKeysFromProtectionData:function(e,t){let r=null;if(e){const n=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(t))),i=[];for(let t=0;t<n.kids.length;t++){const r=n.kids[t],o=e.clearkeys&&e.clearkeys.hasOwnProperty(r)?e.clearkeys[r]:null;if(!o)throw new Error("DRM: ClearKey keyID ("+r+") is not known!");i.push(new h(r,o))}r=new A(i)}return r}},t}I.__dashjs_factory_name="KeySystemClearKey";var v=y.A.getSingletonFactory(I);const C=t.A.W3C_CLEARKEY_UUID,D=t.A.CLEARKEY_KEYSTEM_STRING,b="urn:uuid:"+C;function w(e){let t;const r=e.BASE64,n=e.debug.getLogger(t);return t={uuid:C,schemeIdURI:b,systemString:D,getInitData:function(e){return s.parseInitDataFromContentProtection(e,r)},getRequestHeadersFromMessage:function(){return null},getLicenseRequestFromMessage:function(e){return new Uint8Array(e)},getLicenseServerURLFromInitData:function(){return null},getCDMData:function(){return null},getClearKeysFromProtectionData:function(e,t){let r=null;if(e){const i=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(t))),o=[];for(let t=0;t<i.kids.length;t++){const r=i.kids[t],n=e.clearkeys&&e.clearkeys.hasOwnProperty(r)?e.clearkeys[r]:null;if(!n)throw new Error("DRM: ClearKey keyID ("+r+") is not known!");o.push(new h(r,n))}r=new A(o),n.warn("ClearKey schemeIdURI is using W3C Common PSSH systemID (1077efec-c0b2-4d02-ace3-3c1e52e2fb4b) in Content Protection. See DASH-IF IOP v4.1 section 7.6.2.4")}return r}},t}w.__dashjs_factory_name="KeySystemW3CClearKey";var M=y.A.getSingletonFactory(w);const O=t.A.WIDEVINE_UUID,N=t.A.WIDEVINE_KEYSTEM_STRING,L="urn:uuid:"+O;function P(e){let t;const r=(e=e||{}).BASE64;return t={uuid:O,schemeIdURI:L,systemString:N,getInitData:function(e){return s.parseInitDataFromContentProtection(e,r)},getRequestHeadersFromMessage:function(){return null},getLicenseRequestFromMessage:function(e){return new Uint8Array(e)},getLicenseServerURLFromInitData:function(){return null},getCDMData:function(){return null}},t}P.__dashjs_factory_name="KeySystemWidevine";var U=y.A.getSingletonFactory(P);const k=t.A.PLAYREADY_UUID,K=t.A.PLAYREADY_KEYSTEM_STRING,x="urn:uuid:"+k;function Y(e){let t,r="utf-16";const n=(e=e||{}).BASE64,i=e.settings;function o(){if(!n||!n.hasOwnProperty("decodeArray")||!n.hasOwnProperty("decodeArray"))throw new Error("Missing config parameter(s)")}return t={uuid:k,schemeIdURI:x,systemString:K,getInitData:function(e){const t=new Uint8Array([112,115,115,104,0,0,0,0]),r=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]);let i,a,c,u,E,l=0,f=null;if(o(),!e)return null;if("pssh"in e&&e.pssh)return s.parseInitDataFromContentProtection(e,n);if("pro"in e&&e.pro)f=n.decodeArray(e.pro.__text);else{if(!("prheader"in e)||!e.prheader)return null;f=n.decodeArray(e.prheader.__text)}return i=f.length,a=4+t.length+r.length+4+i,c=new ArrayBuffer(a),u=new Uint8Array(c),E=new DataView(c),E.setUint32(l,a),l+=4,u.set(t,l),l+=t.length,u.set(r,l),l+=r.length,E.setUint32(l,i),l+=4,u.set(f,l),l+=i,u.buffer},getRequestHeadersFromMessage:function(e){let t,n;const o={},s=new DOMParser;if(i&&i.get().streaming.protection.detectPlayreadyMessageFormat&&"utf-16"===r&&e&&e.byteLength%2==1)return o["Content-Type"]="text/xml; charset=utf-8",o;const a="utf-16"===r?new Uint16Array(e):new Uint8Array(e);t=String.fromCharCode.apply(null,a),n=s.parseFromString(t,"application/xml");const c=n.getElementsByTagName("name"),u=n.getElementsByTagName("value");for(let e=0;e<c.length;e++)o[c[e].childNodes[0].nodeValue]=u[e].childNodes[0].nodeValue;return o.hasOwnProperty("Content")&&(o["Content-Type"]=o.Content,delete o.Content),o.hasOwnProperty("Content-Type")||(o["Content-Type"]="text/xml; charset=utf-8"),o},getLicenseRequestFromMessage:function(e){let t=null;const s=new DOMParser;if(i&&i.get().streaming.protection.detectPlayreadyMessageFormat&&"utf-16"===r&&e&&e.byteLength%2==1)return e;const a="utf-16"===r?new Uint16Array(e):new Uint8Array(e);o();const c=String.fromCharCode.apply(null,a),u=s.parseFromString(c,"application/xml");if(!u.getElementsByTagName("PlayReadyKeyMessage")[0])return e;{const e=u.getElementsByTagName("Challenge")[0].childNodes[0].nodeValue;e&&(t=n.decode(e))}return t},getLicenseServerURLFromInitData:function(e){if(e){const t=new DataView(e),r=t.getUint16(4,!0);let n=6;const i=new DOMParser;for(let o=0;o<r;o++){const r=t.getUint16(n,!0);n+=2;const o=t.getUint16(n,!0);if(n+=2,1!==r){n+=o;continue}const s=e.slice(n,n+o),a=String.fromCharCode.apply(null,new Uint16Array(s)),c=i.parseFromString(a,"application/xml");if(c.getElementsByTagName("LA_URL")[0]){const e=c.getElementsByTagName("LA_URL")[0].childNodes[0].nodeValue;if(e)return e}if(c.getElementsByTagName("LUI_URL")[0]){const e=c.getElementsByTagName("LUI_URL")[0].childNodes[0].nodeValue;if(e)return e}}}return null},getCDMData:function(e){let t,r,i,s;if(o(),!e)return null;for(t=[],s=0;s<e.length;++s)t.push(e.charCodeAt(s)),t.push(0);for(t=String.fromCharCode.apply(null,t),t=n.encode(t),r='<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0" Proactive="false"><CustomData encoding="base64encoded">%CUSTOMDATA%</CustomData></LicenseAcquisition></PlayReadyCDMData>'.replace("%CUSTOMDATA%",t),i=[],s=0;s<r.length;++s)i.push(r.charCodeAt(s)),i.push(0);return new Uint8Array(i).buffer},setPlayReadyMessageFormat:function(e){if("utf-8"!==e&&"utf-16"!==e)throw new Error('Specified message format is not one of "utf-8" or "utf-16"');r=e}},t}Y.__dashjs_factory_name="KeySystemPlayReady";var G=y.A.getSingletonFactory(Y);function B(e){const r=(e=e||{}).BASE64,n={};let i;return n[t.A.WIDEVINE_KEYSTEM_STRING]={responseType:"json",getLicenseMessage:function(e){return r.decodeArray(e.license)},getErrorResponse:function(e){return e}},n[t.A.PLAYREADY_KEYSTEM_STRING]={responseType:"arraybuffer",getLicenseMessage:function(e){return e},getErrorResponse:function(e){return String.fromCharCode.apply(null,new Uint8Array(e))}},i={getServerURLFromMessage:function(e){return e},getHTTPMethod:function(){return"POST"},getResponseType:function(e){return n[e].responseType},getLicenseMessage:function(e,t){return function(){if(!r||!r.hasOwnProperty("decodeArray"))throw new Error("Missing config parameter(s)")}(),n[t].getLicenseMessage(e)},getErrorResponse:function(e,t){return n[t].getErrorResponse(e)}},i}B.__dashjs_factory_name="DRMToday";var F=y.A.getSingletonFactory(B);function H(){let e;const t="http://schemas.xmlsoap.org/soap/envelope/";function r(e){const t=String.fromCharCode.apply(null,new Uint8Array(e));return decodeURIComponent(escape(t))}function n(e){if(window.DOMParser){const n=r(e),i=(new window.DOMParser).parseFromString(n,"text/xml"),o=i?i.getElementsByTagNameNS(t,"Envelope")[0]:null,s=o?o.getElementsByTagNameNS(t,"Body")[0]:null;if(s&&s.getElementsByTagNameNS(t,"Fault")[0])return null}return e}function i(e){let n="",i="",o="",s=-1,a=-1;if(window.DOMParser){const c=r(e),u=(new window.DOMParser).parseFromString(c,"text/xml"),E=u?u.getElementsByTagNameNS(t,"Envelope")[0]:null,l=E?E.getElementsByTagNameNS(t,"Body")[0]:null,f=l?l.getElementsByTagNameNS(t,"Fault")[0]:null,d=f?f.getElementsByTagName("detail")[0]:null,g=d?d.getElementsByTagName("Exception")[0]:null;let p=null;if(null===f)return c;p=f.getElementsByTagName("faultstring")[0].firstChild,n=p?p.nodeValue:null,null!==g&&(p=g.getElementsByTagName("StatusCode")[0],i=p?p.firstChild.nodeValue:null,p=g.getElementsByTagName("Message")[0],o=p?p.firstChild.nodeValue:null,s=o?o.lastIndexOf("[")+1:-1,a=o?o.indexOf("]"):-1,o=o?o.substring(s,a):"")}let c=`code: ${i}, name: ${n}`;return o&&(c+=`, message: ${o}`),c}return e={getServerURLFromMessage:function(e){return e},getHTTPMethod:function(){return"POST"},getResponseType:function(){return"arraybuffer"},getLicenseMessage:function(e){return n.call(this,e)},getErrorResponse:function(e){return i.call(this,e)}},e}H.__dashjs_factory_name="PlayReady";var V=y.A.getSingletonFactory(H);function j(){let e;return e={getServerURLFromMessage:function(e){return e},getHTTPMethod:function(){return"POST"},getResponseType:function(){return"arraybuffer"},getLicenseMessage:function(e){return e},getErrorResponse:function(e){return String.fromCharCode.apply(null,new Uint8Array(e))}},e}j.__dashjs_factory_name="Widevine";var W=y.A.getSingletonFactory(j);function q(){let e;return e={getServerURLFromMessage:function(e){return e},getHTTPMethod:function(){return"POST"},getResponseType:function(){return"json"},getLicenseMessage:function(e){if(!e.hasOwnProperty("keys"))return null;let t=[];for(let r=0;r<e.keys.length;r++){let n=e.keys[r],i=n.kid.replace(/=/g,""),o=n.k.replace(/=/g,"");t.push(new h(i,o))}return new A(t)},getErrorResponse:function(e){return String.fromCharCode.apply(null,new Uint8Array(e))}},e}q.__dashjs_factory_name="ClearKey";var z=y.A.getSingletonFactory(q),X=class{constructor(e){this.ks=e.ks,this.keyId=e.keyId,this.initData=e.initData,this.protData=e.protData,this.cdmData=e.cdmData,this.sessionId=e.sessionId,this.sessionType=e.sessionType}};function Q(){let e,r,n,i,o,a,c,u,E=this.context;function l(e,t){return t&&e in t?t[e]:null}function f(e,t){return e&&e.sessionId?e.sessionId:t&&t.sessionId?t.sessionId:null}function d(e,t){return e&&e.sessionType?e.sessionType:t}return e={getKeySystemBySystemString:function(e){for(let t=0;t<i.length;t++)if(i[t].systemString===e)return i[t];return null},getKeySystems:function(){return i},getLicenseServerModelInstance:function(e,r,n){if(n===t.A.MEDIA_KEY_MESSAGE_TYPES.LICENSE_RELEASE||n===t.A.MEDIA_KEY_MESSAGE_TYPES.INDIVIDUALIZATION_REQUEST)return null;let i=null;return r&&r.hasOwnProperty("drmtoday")?i=F(E).getInstance({BASE64:o}):e.systemString===t.A.WIDEVINE_KEYSTEM_STRING?i=W(E).getInstance():e.systemString===t.A.PLAYREADY_KEYSTEM_STRING?i=V(E).getInstance():e.systemString===t.A.CLEARKEY_KEYSTEM_STRING&&(i=z(E).getInstance()),i},getSupportedKeySystemMetadataFromContentProtection:function(e,t,r){let n,o,a,c,u=[];if(!e||!e.length)return u;const E=s.findMp4ProtectionElement(e);for(a=0;a<i.length;a++){o=i[a];const s=l(o.systemString,t);for(c=0;c<e.length;c++)if(n=e[c],n.schemeIdUri.toLowerCase()===o.schemeIdURI){let e=o.getInitData(n,E);const t=new X({ks:i[a],keyId:n.keyId,initData:e,protData:s,cdmData:o.getCDMData(s?s.cdmData:null),sessionId:f(s,n),sessionType:d(s,r)});s?u.unshift(t):u.push(t)}}return u},getSupportedKeySystemMetadataFromSegmentPssh:function(e,t,r){let n,o,a=[],c=s.parsePSSHList(e);for(let e=0;e<i.length;++e){n=i[e],o=n.systemString;const s=l(o,t);n.uuid in c&&a.push({ks:n,initData:c[n.uuid],protData:s,cdmData:n.getCDMData(s?s.cdmData:null),sessionId:f(s),sessionType:d(s,r)})}return a},initDataEquals:function(e,t){if(e.byteLength===t.byteLength){let r=new Uint8Array(e),n=new Uint8Array(t);for(let e=0;e<r.length;e++)if(r[e]!==n[e])return!1;return!0}return!1},initialize:function(){let e;i=[],e=G(E).getInstance({BASE64:o,settings:a}),i.push(e),e=U(E).getInstance({BASE64:o}),i.push(e),e=v(E).getInstance({BASE64:o}),i.push(e),c=e,e=M(E).getInstance({BASE64:o,debug:r}),i.push(e),u=e},isClearKey:function(e){return e===c||e===u},processClearKeyLicenseRequest:function(e,t,r){try{return e.getClearKeysFromProtectionData(t,r)}catch(e){return n.error("Failed to retrieve clearkeys from ProtectionData"),null}},setConfig:function(t){t&&(t.debug&&(r=t.debug,n=r.getLogger(e)),t.BASE64&&(o=t.BASE64),t.settings&&(a=t.settings))},setKeySystems:function(e){i=e},setProtectionData:function(e){for(var t,r,n=0;n<i.length;n++){var o=i[n];o.hasOwnProperty("init")&&o.init((t=o.systemString,r=void 0,r=null,e&&(r=t in e?e[t]:null),r))}}},e}Q.__dashjs_factory_name="ProtectionKeyController";var Z=y.A.getSingletonFactory(Q),$=r(4592),J=class{constructor(e,t){this.initData=e,this.initDataType=t}},ee=class{constructor(e,r,n,i){this.sessionToken=e,this.message=r,this.defaultURL=n,this.messageType=i||t.A.MEDIA_KEY_MESSAGE_TYPES.LICENSE_REQUEST}},te=class{constructor(e,t){this.keySystem=e,this.ksConfiguration=t,this.nativeMediaKeySystemAccessObject=null,this.selectedSystemString=null}};const re={};function ne(e){e=e||{};const r=this.context,n=e.eventBus,i=e.events,o=e.debug;let s,a,c,l,f,d,g,p;function y(e,t,r,o){if(void 0===navigator.requestMediaKeySystemAccess||"function"!=typeof navigator.requestMediaKeySystemAccess){const e="Insecure origins are not allowed";return n.trigger(i.KEY_SYSTEM_ACCESS_COMPLETE,{error:e}),void o({error:e})}const s=e[t].protData&&e[t].protData.systemStringPriority?e[t].protData.systemStringPriority:null,a=e[t].configs,c=e[t].ks;let u=c.systemString;(function(e,t){return new Promise(((r,n)=>{S(e,t,0,r,n)}))})(s||(re[u]?re[u]:[u]),a).then((e=>{const t=e&&e.nativeMediaKeySystemAccessObject&&"function"==typeof e.nativeMediaKeySystemAccessObject.getConfiguration?e.nativeMediaKeySystemAccessObject.getConfiguration():null,o=new te(c,t);o.selectedSystemString=e.selectedSystemString,o.nativeMediaKeySystemAccessObject=e.nativeMediaKeySystemAccessObject,n.trigger(i.KEY_SYSTEM_ACCESS_COMPLETE,{data:o}),r({data:o})})).catch((s=>{if(t+1<e.length)y(e,t+1,r,o);else{const e="Key system access denied! ";n.trigger(i.KEY_SYSTEM_ACCESS_COMPLETE,{error:e+s.message}),o({error:e+s.message})}}))}function S(e,t,r,n,i){const o=e[r];a.debug(`Requesting key system access for system string ${o}`),navigator.requestMediaKeySystemAccess(o,t).then((e=>{n({nativeMediaKeySystemAccessObject:e,selectedSystemString:o})})).catch((o=>{r+1<e.length?S(e,t,r+1,n,i):i(o)}))}function _(e){if(!e||!e.session)return Promise.resolve;const t=e.session;return t.removeEventListener("keystatuseschange",e),t.removeEventListener("message",e),t.close()}function h(e){for(let t=0;t<d.length;t++)if(d[t]===e){d.splice(t,1);break}}function A(e,r){const o={session:e,keyId:r.keyId,normalizedKeyId:r&&r.keyId&&"string"==typeof r.keyId?r.keyId.replace(/-/g,"").toLowerCase():"",initData:r.initData,sessionId:r.sessionId,sessionType:r.sessionType,hasTriggeredKeyStatusMapUpdate:!1,handleEvent:function(e){switch(e.type){case"keystatuseschange":this._onKeyStatusesChange(e);break;case"message":this._onKeyMessage(e)}},_onKeyStatusesChange:function(e){n.trigger(i.KEY_STATUSES_CHANGED,{data:this});const t=[];e.target.keyStatuses.forEach((function(){t.push(m(arguments))})),n.trigger(i.INTERNAL_KEY_STATUSES_CHANGED,{parsedKeyStatuses:t,sessionToken:o})},_onKeyMessage:function(e){let t=ArrayBuffer.isView(e.message)?e.message.buffer:e.message;n.trigger(i.INTERNAL_KEY_MESSAGE,{data:new ee(this,t,void 0,e.messageType)})},getKeyId:function(){return this.keyId},getSessionId:function(){return e.sessionId},getSessionType:function(){return this.sessionType},getExpirationTime:function(){return e.expiration},getKeyStatuses:function(){return e.keyStatuses},getUsable:function(){let r=!1;return e.keyStatuses.forEach((function(){m(arguments).status===t.A.MEDIA_KEY_STATUSES.USABLE&&(r=!0)})),r}};return e.addEventListener("keystatuseschange",o),e.addEventListener("message",o),e.closed.then((()=>{h(o),a.debug("DRM: Session closed.  SessionID = "+o.getSessionId()),n.trigger(i.KEY_SESSION_CLOSED,{data:o.getSessionId()})})),d.push(o),o}function m(e){let t,r;return e&&e.length>0&&(e[0]&&("string"==typeof e[0]?t=e[0]:r=e[0]),e[1]&&("string"==typeof e[1]?t=e[1]:r=e[1])),{status:t,keyId:r}}return s={closeKeySession:function(e){_(e).catch((function(t){h(e),n.trigger(i.KEY_SESSION_CLOSED,{data:null,error:"Error closing session ("+e.getSessionId()+") "+t.name})}))},createKeySession:function(e){if(!c||!f)throw new Error("Can not create sessions until you have selected a key system");const r=f.createSession(e.sessionType),o=A(r,e),s=c.systemString===t.A.CLEARKEY_KEYSTEM_STRING&&(e.initData||e.protData&&e.protData.clearkeys)?t.A.INITIALIZATION_DATA_TYPE_KEYIDS:t.A.INITIALIZATION_DATA_TYPE_CENC;r.generateRequest(s,e.initData).then((function(){a.debug("DRM: Session created.  SessionID = "+o.getSessionId()),n.trigger(i.KEY_SESSION_CREATED,{data:o})})).catch((function(e){h(o),n.trigger(i.KEY_SESSION_CREATED,{data:null,error:new E.A(u.A.KEY_SESSION_CREATED_ERROR_CODE,u.A.KEY_SESSION_CREATED_ERROR_MESSAGE+"Error generating key request -- "+e.name)})}))},getAllInitData:function(){const e=[];for(let t=0;t<d.length;t++)d[t].initData&&e.push(d[t].initData);return e},getSessionTokens:function(){return d},loadKeySession:function(e){if(!c||!f)throw new Error("Can not load sessions until you have selected a key system");const t=e.sessionId;for(let e=0;e<d.length;e++)if(t===d[e].sessionId)return void a.warn("DRM: Ignoring session ID because we have already seen it!");const r=f.createSession(e.sessionType),o=A(r,e);o.hasTriggeredKeyStatusMapUpdate=!0,r.load(t).then((function(e){e?(a.debug("DRM: Session loaded.  SessionID = "+o.getSessionId()),n.trigger(i.KEY_SESSION_CREATED,{data:o})):(h(o),n.trigger(i.KEY_SESSION_CREATED,{data:null,error:new E.A(u.A.KEY_SESSION_CREATED_ERROR_CODE,u.A.KEY_SESSION_CREATED_ERROR_MESSAGE+"Could not load session! Invalid Session ID ("+t+")")}))})).catch((function(e){h(o),n.trigger(i.KEY_SESSION_CREATED,{data:null,error:new E.A(u.A.KEY_SESSION_CREATED_ERROR_CODE,u.A.KEY_SESSION_CREATED_ERROR_MESSAGE+"Could not load session ("+t+")! "+e.name)})}))},removeKeySession:function(e){e.session.remove().then((function(){a.debug("DRM: Session removed.  SessionID = "+e.getSessionId()),n.trigger(i.KEY_SESSION_REMOVED,{data:e.getSessionId()})}),(function(t){n.trigger(i.KEY_SESSION_REMOVED,{data:null,error:"Error removing session ("+e.getSessionId()+"). "+t.name})}))},requestKeySystemAccess:function(e){return new Promise(((t,r)=>{y(e,0,t,r)}))},reset:function(){const e=d.length;let t;if(0!==e){const o=function(e){h(e),0===d.length&&(l?(l.removeEventListener("encrypted",g),l.setMediaKeys(null).then((function(){n.trigger(i.TEARDOWN_COMPLETE)}))):n.trigger(i.TEARDOWN_COMPLETE))};for(let n=0;n<e;n++)t=d[n],r=t,_(t),o(r)}else n.trigger(i.TEARDOWN_COMPLETE);var r},selectKeySystem:function(e){return new Promise(((t,r)=>{e.nativeMediaKeySystemAccessObject.createMediaKeys().then((t=>(c=e.keySystem,f=t,l?l.setMediaKeys(f):Promise.resolve()))).then((()=>{t(c)})).catch((function(){r({error:"Error selecting keys system ("+e.keySystem.systemString+")! Could not create MediaKeys -- TODO"})}))}))},setMediaElement:function(e){l!==e&&(l&&(l.removeEventListener("encrypted",g),l.setMediaKeys&&l.setMediaKeys(null)),l=e,l&&(l.addEventListener("encrypted",g),l.setMediaKeys&&f&&l.setMediaKeys(f)))},setServerCertificate:function(e){return new Promise((t=>{f.setServerCertificate(e).then((function(){a.info("DRM: License server certificate successfully updated."),n.trigger(i.SERVER_CERTIFICATE_UPDATED),t()})).catch((e=>{n.trigger(i.SERVER_CERTIFICATE_UPDATED,{error:new E.A(u.A.SERVER_CERTIFICATE_UPDATED_ERROR_CODE,u.A.SERVER_CERTIFICATE_UPDATED_ERROR_MESSAGE+e.name)}),t()}))}))},stop:function(){let e;for(let t=0;t<d.length;t++)e=d[t],e.getUsable()||(_(e),h(e))},updateKeySession:function(e,t){const r=e.session;p.isClearKey(c)&&(t=t.toJWK()),r.update(t).then((()=>{n.trigger(i.KEY_SESSION_UPDATED)})).catch((function(t){n.trigger(i.KEY_ERROR,{error:new E.A(u.A.MEDIA_KEYERR_CODE,"Error sending update() message! "+t.name,e)})}))}},a=o.getLogger(s),c=null,l=null,f=null,d=[],p=Z(r).getInstance(),g={handleEvent:function(e){if("encrypted"===e.type&&e.initData){let t=ArrayBuffer.isView(e.initData)?e.initData.buffer:e.initData;n.trigger(i.NEED_KEY,{key:new J(t,e.initDataType)})}}},s}re[t.A.PLAYREADY_KEYSTEM_STRING]=[t.A.PLAYREADY_KEYSTEM_STRING,t.A.PLAYREADY_RECOMMENDATION_KEYSTEM_STRING],re[t.A.WIDEVINE_KEYSTEM_STRING]=[t.A.WIDEVINE_KEYSTEM_STRING],re[t.A.CLEARKEY_KEYSTEM_STRING]=[t.A.CLEARKEY_KEYSTEM_STRING],ne.__dashjs_factory_name="DefaultProtectionModel";var ie=y.A.getClassFactory(ne);function oe(e){e=e||{};const r=this.context,n=e.eventBus,i=e.events,o=e.debug,s=e.api;let a,l,f,d,g,p,y,S,_;function h(){try{for(let e=0;e<y.length;e++)A(y[e]);f&&f.removeEventListener(s.needkey,S),n.trigger(i.TEARDOWN_COMPLETE)}catch(e){n.trigger(i.TEARDOWN_COMPLETE,{error:"Error tearing down key sessions and MediaKeys! -- "+e.message})}}function A(e){const t=e.session;t.removeEventListener(s.error,e),t.removeEventListener(s.message,e),t.removeEventListener(s.ready,e),t.removeEventListener(s.close,e);for(let t=0;t<y.length;t++)if(y[t]===e){y.splice(t,1);break}t[s.release]()}function m(){let e=null;const t=function(){f.removeEventListener("loadedmetadata",e),f[s.setMediaKeys](g),n.trigger(i.VIDEO_ELEMENT_SELECTED)};f.readyState>=1?t():(e=t.bind(this),f.addEventListener("loadedmetadata",e))}return a={getAllInitData:function(){const e=[];for(let t=0;t<y.length;t++)e.push(y[t].initData);return e},getSessionTokens:function(){return y},requestKeySystemAccess:function(e){return new Promise(((t,r)=>{let o=!1;for(let r=0;r<e.length;r++){const a=e[r].ks.systemString,u=e[r].configs;let E=null,l=null;for(let e=0;e<u.length;e++){const r=u[e].audioCapabilities,f=u[e].videoCapabilities;if(r&&0!==r.length){E=[];for(let e=0;e<r.length;e++)window[s.MediaKeys].isTypeSupported(a,r[e].contentType)&&E.push(r[e])}if(f&&0!==f.length){l=[];for(let e=0;e<f.length;e++)window[s.MediaKeys].isTypeSupported(a,f[e].contentType)&&l.push(f[e])}if(!E&&!l||E&&0===E.length||l&&0===l.length)continue;o=!0;const d=new c(E,l),g=_.getKeySystemBySystemString(a),p=new te(g,d);n.trigger(i.KEY_SYSTEM_ACCESS_COMPLETE,{data:p}),t({data:p});break}}if(!o){const e="Key system access denied! -- No valid audio/video content configurations detected!";n.trigger(i.KEY_SYSTEM_ACCESS_COMPLETE,{error:e}),r({error:e})}}))},selectKeySystem:function(e){return new Promise(((t,r)=>{try{g=e.mediaKeys=new window[s.MediaKeys](e.keySystem.systemString),d=e.keySystem,p=e,f&&m(),t(d)}catch(e){r({error:"Error selecting keys system ("+d.systemString+")! Could not create MediaKeys -- TODO"})}}))},setMediaElement:function(e){f!==e&&(f&&f.removeEventListener(s.needkey,S),f=e,f&&(f.addEventListener(s.needkey,S),g&&m()))},createKeySession:function(e){if(!d||!g||!p)throw new Error("Can not create sessions until you have selected a key system");let t=null;if(p.ksConfiguration.videoCapabilities&&p.ksConfiguration.videoCapabilities.length>0&&(t=p.ksConfiguration.videoCapabilities[0]),null===t&&p.ksConfiguration.audioCapabilities&&p.ksConfiguration.audioCapabilities.length>0&&(t=p.ksConfiguration.audioCapabilities[0]),null===t)throw new Error("Can not create sessions for unknown content types.");const r=t.contentType,o=g.createSession(r,new Uint8Array(e.initData),e.cdmData?new Uint8Array(e.cdmData):null),a=function(e,t){return{session:e,keyId:t.keyId,normalizedKeyId:t&&t.keyId&&"string"==typeof t.keyId?t.keyId.replace(/-/g,"").toLowerCase():"",initData:t.initData,hasTriggeredKeyStatusMapUpdate:!1,getKeyId:function(){return this.keyId},getSessionId:function(){return this.session.sessionId},getExpirationTime:function(){return NaN},getSessionType:function(){return"temporary"},getKeyStatuses:function(){return{size:0,has:()=>!1,get:()=>{}}},handleEvent:function(e){switch(e.type){case s.error:let t="KeyError";n.trigger(i.KEY_ERROR,{error:new E.A(u.A.MEDIA_KEYERR_CODE,t,this)});break;case s.message:let r=ArrayBuffer.isView(e.message)?e.message.buffer:e.message;n.trigger(i.INTERNAL_KEY_MESSAGE,{data:new ee(this,r,e.destinationURL)});break;case s.ready:l.debug("DRM: Key added."),n.trigger(i.KEY_ADDED);break;case s.close:l.debug("DRM: Session closed.  SessionID = "+this.getSessionId()),n.trigger(i.KEY_SESSION_CLOSED,{data:this.getSessionId()})}}}}(o,e);o.addEventListener(s.error,a),o.addEventListener(s.message,a),o.addEventListener(s.ready,a),o.addEventListener(s.close,a),y.push(a),l.debug("DRM: Session created.  SessionID = "+a.getSessionId()),n.trigger(i.KEY_SESSION_CREATED,{data:a})},updateKeySession:function(e,t){const r=e.session;_.isClearKey(d)?r.update(new Uint8Array(t.toJWK())):r.update(new Uint8Array(t)),n.trigger(i.KEY_SESSION_UPDATED)},closeKeySession:A,setServerCertificate:function(){return Promise.resolve()},loadKeySession:function(){},removeKeySession:function(){},stop:h,reset:h},l=o.getLogger(a),f=null,d=null,g=null,p=null,y=[],_=Z(r).getInstance(),S={handleEvent:function(e){if(e.type===s.needkey&&e.initData){const r=ArrayBuffer.isView(e.initData)?e.initData.buffer:e.initData;n.trigger(i.NEED_KEY,{key:new J(r,t.A.INITIALIZATION_DATA_TYPE_CENC)})}}},a}oe.__dashjs_factory_name="ProtectionModel_3Feb2014";var se=y.A.getClassFactory(oe);function ae(e){e=e||{};const r=this.context,n=e.eventBus,i=e.events,o=e.debug,s=e.api,a=e.errHandler;let l,f,d,g,p,y,S,_,h;function A(){d&&R();for(let e=0;e<S.length;e++)m(S[e]);n.trigger(i.TEARDOWN_COMPLETE)}function m(e){try{d[s.cancelKeyRequest](g.systemString,e.sessionId)}catch(t){n.trigger(i.KEY_SESSION_CLOSED,{data:null,error:"Error closing session ("+e.sessionId+") "+t.message})}}function T(e,t){if(t&&e){const r=e.length;for(let n=0;n<r;n++)if(e[n].sessionId==t)return e[n];return null}return null}function R(){d.removeEventListener(s.keyerror,h),d.removeEventListener(s.needkey,h),d.removeEventListener(s.keymessage,h),d.removeEventListener(s.keyadded,h)}return l={getAllInitData:function(){const e=[];for(let t=0;t<y.length;t++)e.push(y[t].initData);for(let t=0;t<S.length;t++)e.push(S[t].initData);return e},getSessionTokens:function(){return S.concat(y)},requestKeySystemAccess:function(e){return new Promise(((t,r)=>{let o=d;o||(o=document.createElement("video"));let s=!1;for(let r=0;r<e.length;r++){const a=e[r].ks.systemString,u=e[r].configs;let E=null,l=null;for(let e=0;e<u.length;e++){const r=u[e].videoCapabilities;if(r&&0!==r.length){l=[];for(let e=0;e<r.length;e++)""!==o.canPlayType(r[e].contentType,a)&&l.push(r[e])}if(!E&&!l||E&&0===E.length||l&&0===l.length)continue;s=!0;const f=new c(E,l),d=p.getKeySystemBySystemString(a),g=new te(d,f);n.trigger(i.KEY_SYSTEM_ACCESS_COMPLETE,{data:g}),t({data:g});break}}if(!s){const e="Key system access denied! -- No valid audio/video content configurations detected!";n.trigger(i.KEY_SYSTEM_ACCESS_COMPLETE,{error:e}),r({error:e})}}))},selectKeySystem:function(e){return g=e.keySystem,Promise.resolve(g)},setMediaElement:function(e){if(d!==e){if(d){R();for(var t=0;t<S.length;t++)m(S[t]);S=[]}d=e,d&&(d.addEventListener(s.keyerror,h),d.addEventListener(s.needkey,h),d.addEventListener(s.keymessage,h),d.addEventListener(s.keyadded,h),n.trigger(i.VIDEO_ELEMENT_SELECTED))}},createKeySession:function(e){if(!g)throw new Error("Can not create sessions until you have selected a key system");if(_||0===S.length){const t={sessionId:null,keyId:e.keyId,normalizedKeyId:e&&e.keyId&&"string"==typeof e.keyId?e.keyId.replace(/-/g,"").toLowerCase():"",initData:e.initData,hasTriggeredKeyStatusMapUpdate:!1,getKeyId:function(){return this.keyId},getSessionId:function(){return this.sessionId},getExpirationTime:function(){return NaN},getSessionType:function(){return"temporary"},getKeyStatuses:function(){return{size:0,has:()=>!1,get:()=>{}}}};return y.push(t),d[s.generateKeyRequest](g.systemString,new Uint8Array(e.initData)),t}throw new Error("Multiple sessions not allowed!")},updateKeySession:function(e,t){const r=e.sessionId;if(p.isClearKey(g))for(let e=0;e<t.keyPairs.length;e++)d[s.addKey](g.systemString,t.keyPairs[e].key,t.keyPairs[e].keyID,r);else d[s.addKey](g.systemString,new Uint8Array(t),new Uint8Array(e.initData),r);n.trigger(i.KEY_SESSION_UPDATED)},closeKeySession:m,setServerCertificate:function(){return Promise.resolve()},loadKeySession:function(){},removeKeySession:function(){},stop:A,reset:A},f=o.getLogger(l),d=null,g=null,y=[],S=[],p=Z(r).getInstance(),h={handleEvent:function(e){let r=null;switch(e.type){case s.needkey:let o=ArrayBuffer.isView(e.initData)?e.initData.buffer:e.initData;n.trigger(i.NEED_KEY,{key:new J(o,t.A.INITIALIZATION_DATA_TYPE_CENC)});break;case s.keyerror:if(r=T(S,e.sessionId),r||(r=T(y,e.sessionId)),r){let t=u.A.MEDIA_KEYERR_CODE,o="";switch(e.errorCode.code){case 1:t=u.A.MEDIA_KEYERR_UNKNOWN_CODE,o+="MEDIA_KEYERR_UNKNOWN - "+u.A.MEDIA_KEYERR_UNKNOWN_MESSAGE;break;case 2:t=u.A.MEDIA_KEYERR_CLIENT_CODE,o+="MEDIA_KEYERR_CLIENT - "+u.A.MEDIA_KEYERR_CLIENT_MESSAGE;break;case 3:t=u.A.MEDIA_KEYERR_SERVICE_CODE,o+="MEDIA_KEYERR_SERVICE - "+u.A.MEDIA_KEYERR_SERVICE_MESSAGE;break;case 4:t=u.A.MEDIA_KEYERR_OUTPUT_CODE,o+="MEDIA_KEYERR_OUTPUT - "+u.A.MEDIA_KEYERR_OUTPUT_MESSAGE;break;case 5:t=u.A.MEDIA_KEYERR_HARDWARECHANGE_CODE,o+="MEDIA_KEYERR_HARDWARECHANGE - "+u.A.MEDIA_KEYERR_HARDWARECHANGE_MESSAGE;break;case 6:t=u.A.MEDIA_KEYERR_DOMAIN_CODE,o+="MEDIA_KEYERR_DOMAIN - "+u.A.MEDIA_KEYERR_DOMAIN_MESSAGE}o+="  System Code = "+e.systemCode,n.trigger(i.KEY_ERROR,{error:new E.A(t,o,r)})}else f.error("No session token found for key error");break;case s.keyadded:r=T(S,e.sessionId),r||(r=T(y,e.sessionId)),r?(f.debug("DRM: Key added."),n.trigger(i.KEY_ADDED,{data:r})):f.debug("No session token found for key added");break;case s.keymessage:if(_=null!==e.sessionId&&void 0!==e.sessionId,_?(r=T(S,e.sessionId),!r&&y.length>0&&(r=y.shift(),S.push(r),r.sessionId=e.sessionId,n.trigger(i.KEY_SESSION_CREATED,{data:r}))):y.length>0&&(r=y.shift(),S.push(r),0!==y.length&&a.error(new E.A(u.A.MEDIA_KEY_MESSAGE_ERROR_CODE,u.A.MEDIA_KEY_MESSAGE_ERROR_MESSAGE))),r){let t=ArrayBuffer.isView(e.message)?e.message.buffer:e.message;r.keyMessage=t,n.trigger(i.INTERNAL_KEY_MESSAGE,{data:new ee(r,t,e.defaultURL)})}else f.warn("No session token found for key message")}}},l}ae.__dashjs_factory_name="ProtectionModel_01b";var ce=y.A.getClassFactory(ae);const ue=[{generateKeyRequest:"generateKeyRequest",addKey:"addKey",cancelKeyRequest:"cancelKeyRequest",needkey:"needkey",keyerror:"keyerror",keyadded:"keyadded",keymessage:"keymessage"},{generateKeyRequest:"webkitGenerateKeyRequest",addKey:"webkitAddKey",cancelKeyRequest:"webkitCancelKeyRequest",needkey:"webkitneedkey",keyerror:"webkitkeyerror",keyadded:"webkitkeyadded",keymessage:"webkitkeymessage"}],Ee=[{setMediaKeys:"setMediaKeys",MediaKeys:"MediaKeys",release:"close",needkey:"needkey",error:"keyerror",message:"keymessage",ready:"keyadded",close:"keyclose"},{setMediaKeys:"msSetMediaKeys",MediaKeys:"MSMediaKeys",release:"close",needkey:"msneedkey",error:"mskeyerror",message:"mskeymessage",ready:"mskeyadded",close:"mskeyclose"}];function le(){let e;const t=this.context;function r(e,t){for(let r=0;r<t.length;r++){const n=t[r];if("function"==typeof e[n[Object.keys(n)[0]]])return n}return null}return e={createProtectionSystem:function(n){let i=null;const o=Z(t).getInstance();o.setConfig({debug:n.debug,BASE64:n.BASE64,settings:n.settings}),o.initialize();let s=function(n){const i=n.debug,o=i.getLogger(e),s=n.eventBus,a=n.errHandler,c=n.videoModel?n.videoModel.getElement():null;return c&&void 0===c.onencrypted||c&&void 0===c.mediaKeys?r(c,Ee)?(o.info("EME detected on this user agent! (ProtectionModel_3Feb2014)"),se(t).create({debug:i,eventBus:s,events:n.events,api:r(c,Ee)})):r(c,ue)?(o.info("EME detected on this user agent! (ProtectionModel_01b)"),ce(t).create({debug:i,eventBus:s,errHandler:a,events:n.events,api:r(c,ue)})):(o.warn("No supported version of EME detected on this user agent! - Attempts to play encrypted content will fail!"),null):(o.info("EME detected on this user agent! (DefaultProtectionModel"),ie(t).create({debug:i,eventBus:s,events:n.events}))}(n);return s&&(i=_(t).create({BASE64:n.BASE64,cmcdModel:n.cmcdModel,constants:n.constants,customParametersModel:n.customParametersModel,debug:n.debug,eventBus:n.eventBus,events:n.events,protectionKeyController:o,protectionModel:s,settings:n.settings}),n.capabilities.setEncryptedMediaSupported(!0)),i}},e}le.__dashjs_factory_name="Protection";const fe=y.A.getClassFactory(le);fe.events=$.A,fe.errors=u.A,y.A.updateClassFactory(le.__dashjs_factory_name,fe);var de=fe}(),n.default}()}));
//# sourceMappingURL=dash.protection.min.js.map