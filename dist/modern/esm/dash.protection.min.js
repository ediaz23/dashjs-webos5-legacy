var e={6999:function(e,t,n){function r(e){if("string"!=typeof e)throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}function i(e,t){for(var n,r="",i=0,o=-1,s=0,a=0;a<=e.length;++a){if(a<e.length)n=e.charCodeAt(a);else{if(47===n)break;n=47}if(47===n){if(o===a-1||1===s);else if(o!==a-1&&2===s){if(r.length<2||2!==i||46!==r.charCodeAt(r.length-1)||46!==r.charCodeAt(r.length-2))if(r.length>2){var u=r.lastIndexOf("/");if(u!==r.length-1){-1===u?(r="",i=0):i=(r=r.slice(0,u)).length-1-r.lastIndexOf("/"),o=a,s=0;continue}}else if(2===r.length||1===r.length){r="",i=0,o=a,s=0;continue}t&&(r.length>0?r+="/..":r="..",i=2)}else r.length>0?r+="/"+e.slice(o+1,a):r=e.slice(o+1,a),i=a-o-1;o=a,s=0}else 46===n&&-1!==s?++s:s=-1}return r}n(6280),n(3110);var o={resolve:function(){for(var e,t="",n=!1,o=arguments.length-1;o>=-1&&!n;o--){var s;o>=0?s=arguments[o]:(void 0===e&&(e=process.cwd()),s=e),r(s),0!==s.length&&(t=s+"/"+t,n=47===s.charCodeAt(0))}return t=i(t,!n),n?t.length>0?"/"+t:"/":t.length>0?t:"."},normalize:function(e){if(r(e),0===e.length)return".";var t=47===e.charCodeAt(0),n=47===e.charCodeAt(e.length-1);return 0!==(e=i(e,!t)).length||t||(e="."),e.length>0&&n&&(e+="/"),t?"/"+e:e},isAbsolute:function(e){return r(e),e.length>0&&47===e.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var e,t=0;t<arguments.length;++t){var n=arguments[t];r(n),n.length>0&&(void 0===e?e=n:e+="/"+n)}return void 0===e?".":o.normalize(e)},relative:function(e,t){if(r(e),r(t),e===t)return"";if((e=o.resolve(e))===(t=o.resolve(t)))return"";for(var n=1;n<e.length&&47===e.charCodeAt(n);++n);for(var i=e.length,s=i-n,a=1;a<t.length&&47===t.charCodeAt(a);++a);for(var u=t.length-a,c=s<u?s:u,l=-1,E=0;E<=c;++E){if(E===c){if(u>c){if(47===t.charCodeAt(a+E))return t.slice(a+E+1);if(0===E)return t.slice(a+E)}else s>c&&(47===e.charCodeAt(n+E)?l=E:0===E&&(l=0));break}var f=e.charCodeAt(n+E);if(f!==t.charCodeAt(a+E))break;47===f&&(l=E)}var d="";for(E=n+l+1;E<=i;++E)E!==i&&47!==e.charCodeAt(E)||(0===d.length?d+="..":d+="/..");return d.length>0?d+t.slice(a+l):(a+=l,47===t.charCodeAt(a)&&++a,t.slice(a))},_makeLong:function(e){return e},dirname:function(e){if(r(e),0===e.length)return".";for(var t=e.charCodeAt(0),n=47===t,i=-1,o=!0,s=e.length-1;s>=1;--s)if(47===(t=e.charCodeAt(s))){if(!o){i=s;break}}else o=!1;return-1===i?n?"/":".":n&&1===i?"//":e.slice(0,i)},basename:function(e,t){if(void 0!==t&&"string"!=typeof t)throw new TypeError('"ext" argument must be a string');r(e);var n,i=0,o=-1,s=!0;if(void 0!==t&&t.length>0&&t.length<=e.length){if(t.length===e.length&&t===e)return"";var a=t.length-1,u=-1;for(n=e.length-1;n>=0;--n){var c=e.charCodeAt(n);if(47===c){if(!s){i=n+1;break}}else-1===u&&(s=!1,u=n+1),a>=0&&(c===t.charCodeAt(a)?-1==--a&&(o=n):(a=-1,o=u))}return i===o?o=u:-1===o&&(o=e.length),e.slice(i,o)}for(n=e.length-1;n>=0;--n)if(47===e.charCodeAt(n)){if(!s){i=n+1;break}}else-1===o&&(s=!1,o=n+1);return-1===o?"":e.slice(i,o)},extname:function(e){r(e);for(var t=-1,n=0,i=-1,o=!0,s=0,a=e.length-1;a>=0;--a){var u=e.charCodeAt(a);if(47!==u)-1===i&&(o=!1,i=a+1),46===u?-1===t?t=a:1!==s&&(s=1):-1!==t&&(s=-1);else if(!o){n=a+1;break}}return-1===t||-1===i||0===s||1===s&&t===i-1&&t===n+1?"":e.slice(t,i)},format:function(e){if(null===e||"object"!=typeof e)throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return function(e,t){var n=t.dir||t.root,r=t.base||(t.name||"")+(t.ext||"");return n?n===t.root?n+r:n+"/"+r:r}(0,e)},parse:function(e){r(e);var t={root:"",dir:"",base:"",ext:"",name:""};if(0===e.length)return t;var n,i=e.charCodeAt(0),o=47===i;o?(t.root="/",n=1):n=0;for(var s=-1,a=0,u=-1,c=!0,l=e.length-1,E=0;l>=n;--l)if(47!==(i=e.charCodeAt(l)))-1===u&&(c=!1,u=l+1),46===i?-1===s?s=l:1!==E&&(E=1):-1!==s&&(E=-1);else if(!c){a=l+1;break}return-1===s||-1===u||0===E||1===E&&s===u-1&&s===a+1?-1!==u&&(t.base=t.name=0===a&&o?e.slice(1,u):e.slice(a,u)):(0===a&&o?(t.name=e.slice(1,s),t.base=e.slice(1,u)):(t.name=e.slice(a,s),t.base=e.slice(a,u)),t.ext=e.slice(s,u)),a>0?t.dir=e.slice(0,a-1):o&&(t.dir="/"),t},sep:"/",delimiter:":",win32:null,posix:null};o.posix=o,e.exports=o},8672:function(e,t,n){var r;!function(i,o){var s="function",a="undefined",u="object",c="string",l="major",E="model",f="name",d="type",g="vendor",p="version",y="architecture",S="console",_="mobile",h="tablet",m="smarttv",T="wearable",R="embedded",A="Amazon",I="Apple",v="ASUS",C="BlackBerry",D="Browser",b="Chrome",w="Firefox",M="Google",O="Huawei",N="LG",L="Microsoft",P="Motorola",U="Opera",k="Samsung",K="Sharp",x="Sony",Y="Xiaomi",G="Zebra",B="Facebook",F="Chromium OS",H="Mac OS",V=function(e){for(var t={},n=0;n<e.length;n++)t[e[n].toUpperCase()]=e[n];return t},j=function(e,t){return typeof e===c&&-1!==W(t).indexOf(W(e))},W=function(e){return e.toLowerCase()},q=function(e,t){if(typeof e===c)return e=e.replace(/^\s\s*/,""),typeof t===a?e:e.substring(0,500)},z=function(e,t){for(var n,r,i,a,c,l,E=0;E<t.length&&!c;){var f=t[E],d=t[E+1];for(n=r=0;n<f.length&&!c&&f[n];)if(c=f[n++].exec(e))for(i=0;i<d.length;i++)l=c[++r],typeof(a=d[i])===u&&a.length>0?2===a.length?typeof a[1]==s?this[a[0]]=a[1].call(this,l):this[a[0]]=a[1]:3===a.length?typeof a[1]!==s||a[1].exec&&a[1].test?this[a[0]]=l?l.replace(a[1],a[2]):o:this[a[0]]=l?a[1].call(this,l,a[2]):o:4===a.length&&(this[a[0]]=l?a[3].call(this,l.replace(a[1],a[2])):o):this[a]=l||o;E+=2}},X=function(e,t){for(var n in t)if(typeof t[n]===u&&t[n].length>0){for(var r=0;r<t[n].length;r++)if(j(t[n][r],e))return"?"===n?o:n}else if(j(t[n],e))return"?"===n?o:n;return e},Q={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},Z={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[p,[f,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[p,[f,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[f,p],[/opios[\/ ]+([\w\.]+)/i],[p,[f,U+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[p,[f,U+" GX"]],[/\bopr\/([\w\.]+)/i],[p,[f,U]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[p,[f,"Baidu"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim)\s?(?:browser)?[\/ ]?([\w\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[f,p],[/\bddg\/([\w\.]+)/i],[p,[f,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[p,[f,"UC"+D]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[p,[f,"WeChat"]],[/konqueror\/([\w\.]+)/i],[p,[f,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[p,[f,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[p,[f,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[p,[f,"Smart Lenovo "+D]],[/(avast|avg)\/([\w\.]+)/i],[[f,/(.+)/,"$1 Secure "+D],p],[/\bfocus\/([\w\.]+)/i],[p,[f,w+" Focus"]],[/\bopt\/([\w\.]+)/i],[p,[f,U+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[p,[f,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[p,[f,"Dolphin"]],[/coast\/([\w\.]+)/i],[p,[f,U+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[p,[f,"MIUI "+D]],[/fxios\/([-\w\.]+)/i],[p,[f,w]],[/\bqihu|(qi?ho?o?|360)browser/i],[[f,"360 "+D]],[/(oculus|sailfish|huawei|vivo)browser\/([\w\.]+)/i],[[f,/(.+)/,"$1 "+D],p],[/samsungbrowser\/([\w\.]+)/i],[p,[f,k+" Internet"]],[/(comodo_dragon)\/([\w\.]+)/i],[[f,/_/g," "],p],[/metasr[\/ ]?([\d\.]+)/i],[p,[f,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[f,"Sogou Mobile"],p],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345Explorer)[\/ ]?([\w\.]+)/i],[f,p],[/(lbbrowser)/i,/\[(linkedin)app\]/i],[f],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[f,B],p],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[f,p],[/\bgsa\/([\w\.]+) .*safari\//i],[p,[f,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[p,[f,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[p,[f,b+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[f,b+" WebView"],p],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[p,[f,"Android "+D]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[f,p],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[p,[f,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[p,f],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[f,[p,X,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[f,p],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[f,"Netscape"],p],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[p,[f,w+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[f,p],[/(cobalt)\/([\w\.]+)/i],[f,[p,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[y,"amd64"]],[/(ia32(?=;))/i],[[y,W]],[/((?:i[346]|x)86)[;\)]/i],[[y,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[y,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[y,"armhf"]],[/windows (ce|mobile); ppc;/i],[[y,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[y,/ower/,"",W]],[/(sun4\w)[;\)]/i],[[y,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[y,W]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[E,[g,k],[d,h]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[E,[g,k],[d,_]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[E,[g,I],[d,_]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[E,[g,I],[d,h]],[/(macintosh);/i],[E,[g,I]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[E,[g,K],[d,_]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[E,[g,O],[d,h]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[E,[g,O],[d,_]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[E,/_/g," "],[g,Y],[d,_]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[E,/_/g," "],[g,Y],[d,h]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[E,[g,"OPPO"],[d,_]],[/\b(opd2\d{3}a?) bui/i],[E,[g,"OPPO"],[d,h]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[E,[g,"Vivo"],[d,_]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[E,[g,"Realme"],[d,_]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[E,[g,P],[d,_]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[E,[g,P],[d,h]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[E,[g,N],[d,h]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[E,[g,N],[d,_]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[E,[g,"Lenovo"],[d,h]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[E,/_/g," "],[g,"Nokia"],[d,_]],[/(pixel c)\b/i],[E,[g,M],[d,h]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[E,[g,M],[d,_]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[E,[g,x],[d,_]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[E,"Xperia Tablet"],[g,x],[d,h]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[E,[g,"OnePlus"],[d,_]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[E,[g,A],[d,h]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[E,/(.+)/g,"Fire Phone $1"],[g,A],[d,_]],[/(playbook);[-\w\),; ]+(rim)/i],[E,g,[d,h]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[E,[g,C],[d,_]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[E,[g,v],[d,h]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[E,[g,v],[d,_]],[/(nexus 9)/i],[E,[g,"HTC"],[d,h]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[g,[E,/_/g," "],[d,_]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[E,[g,"Acer"],[d,h]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[E,[g,"Meizu"],[d,_]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[E,[g,"Ulefone"],[d,_]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[g,E,[d,_]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[g,E,[d,h]],[/(surface duo)/i],[E,[g,L],[d,h]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[E,[g,"Fairphone"],[d,_]],[/(u304aa)/i],[E,[g,"AT&T"],[d,_]],[/\bsie-(\w*)/i],[E,[g,"Siemens"],[d,_]],[/\b(rct\w+) b/i],[E,[g,"RCA"],[d,h]],[/\b(venue[\d ]{2,7}) b/i],[E,[g,"Dell"],[d,h]],[/\b(q(?:mv|ta)\w+) b/i],[E,[g,"Verizon"],[d,h]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[E,[g,"Barnes & Noble"],[d,h]],[/\b(tm\d{3}\w+) b/i],[E,[g,"NuVision"],[d,h]],[/\b(k88) b/i],[E,[g,"ZTE"],[d,h]],[/\b(nx\d{3}j) b/i],[E,[g,"ZTE"],[d,_]],[/\b(gen\d{3}) b.+49h/i],[E,[g,"Swiss"],[d,_]],[/\b(zur\d{3}) b/i],[E,[g,"Swiss"],[d,h]],[/\b((zeki)?tb.*\b) b/i],[E,[g,"Zeki"],[d,h]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[g,"Dragon Touch"],E,[d,h]],[/\b(ns-?\w{0,9}) b/i],[E,[g,"Insignia"],[d,h]],[/\b((nxa|next)-?\w{0,9}) b/i],[E,[g,"NextBook"],[d,h]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[g,"Voice"],E,[d,_]],[/\b(lvtel\-)?(v1[12]) b/i],[[g,"LvTel"],E,[d,_]],[/\b(ph-1) /i],[E,[g,"Essential"],[d,_]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[E,[g,"Envizen"],[d,h]],[/\b(trio[-\w\. ]+) b/i],[E,[g,"MachSpeed"],[d,h]],[/\btu_(1491) b/i],[E,[g,"Rotor"],[d,h]],[/(shield[\w ]+) b/i],[E,[g,"Nvidia"],[d,h]],[/(sprint) (\w+)/i],[g,E,[d,_]],[/(kin\.[onetw]{3})/i],[[E,/\./g," "],[g,L],[d,_]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[E,[g,G],[d,h]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[E,[g,G],[d,_]],[/smart-tv.+(samsung)/i],[g,[d,m]],[/hbbtv.+maple;(\d+)/i],[[E,/^/,"SmartTV"],[g,k],[d,m]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[g,N],[d,m]],[/(apple) ?tv/i],[g,[E,I+" TV"],[d,m]],[/crkey/i],[[E,b+"cast"],[g,M],[d,m]],[/droid.+aft(\w+)( bui|\))/i],[E,[g,A],[d,m]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[E,[g,K],[d,m]],[/(bravia[\w ]+)( bui|\))/i],[E,[g,x],[d,m]],[/(mitv-\w{5}) bui/i],[E,[g,Y],[d,m]],[/Hbbtv.*(technisat) (.*);/i],[g,E,[d,m]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[g,q],[E,q],[d,m]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[d,m]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[g,E,[d,S]],[/droid.+; (shield) bui/i],[E,[g,"Nvidia"],[d,S]],[/(playstation [345portablevi]+)/i],[E,[g,x],[d,S]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[E,[g,L],[d,S]],[/((pebble))app/i],[g,E,[d,T]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[E,[g,I],[d,T]],[/droid.+; (glass) \d/i],[E,[g,M],[d,T]],[/droid.+; (wt63?0{2,3})\)/i],[E,[g,G],[d,T]],[/(quest( \d| pro)?)/i],[E,[g,B],[d,T]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[g,[d,R]],[/(aeobc)\b/i],[E,[g,A],[d,R]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[E,[d,_]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[E,[d,h]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[d,h]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[d,_]],[/(android[-\w\. ]{0,9});.+buil/i],[E,[g,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[p,[f,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[p,[f,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[f,p],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[p,f]],os:[[/microsoft (windows) (vista|xp)/i],[f,p],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[f,[p,X,Q]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[p,X,Q],[f,"Windows"]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[p,/_/g,"."],[f,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[f,H],[p,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[p,f],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[f,p],[/\(bb(10);/i],[p,[f,C]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[p,[f,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[p,[f,w+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[p,[f,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[p,[f,"watchOS"]],[/crkey\/([\d\.]+)/i],[p,[f,b+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[f,F],p],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[f,p],[/(sunos) ?([\w\.\d]*)/i],[[f,"Solaris"],p],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[f,p]]},$=function(e,t){if(typeof e===u&&(t=e,e=o),!(this instanceof $))return new $(e,t).getResult();var n=typeof i!==a&&i.navigator?i.navigator:o,r=e||(n&&n.userAgent?n.userAgent:""),S=n&&n.userAgentData?n.userAgentData:o,m=t?function(e,t){var n={};for(var r in e)t[r]&&t[r].length%2==0?n[r]=t[r].concat(e[r]):n[r]=e[r];return n}(Z,t):Z,T=n&&n.userAgent==r;return this.getBrowser=function(){var e,t={};return t[f]=o,t[p]=o,z.call(t,r,m.browser),t[l]=typeof(e=t[p])===c?e.replace(/[^\d\.]/g,"").split(".")[0]:o,T&&n&&n.brave&&typeof n.brave.isBrave==s&&(t[f]="Brave"),t},this.getCPU=function(){var e={};return e[y]=o,z.call(e,r,m.cpu),e},this.getDevice=function(){var e={};return e[g]=o,e[E]=o,e[d]=o,z.call(e,r,m.device),T&&!e[d]&&S&&S.mobile&&(e[d]=_),T&&"Macintosh"==e[E]&&n&&typeof n.standalone!==a&&n.maxTouchPoints&&n.maxTouchPoints>2&&(e[E]="iPad",e[d]=h),e},this.getEngine=function(){var e={};return e[f]=o,e[p]=o,z.call(e,r,m.engine),e},this.getOS=function(){var e={};return e[f]=o,e[p]=o,z.call(e,r,m.os),T&&!e[f]&&S&&S.platform&&"Unknown"!=S.platform&&(e[f]=S.platform.replace(/chrome os/i,F).replace(/macos/i,H)),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return r},this.setUA=function(e){return r=typeof e===c&&e.length>500?q(e,500):e,this},this.setUA(r),this};$.VERSION="1.0.38",$.BROWSER=V([f,p,l]),$.CPU=V([y]),$.DEVICE=V([E,g,d,S,_,m,h,T,R]),$.ENGINE=$.OS=V([f,p]),typeof t!==a?(e.exports&&(t=e.exports=$),t.UAParser=$):n.amdO?(r=function(){return $}.call(t,n,t,e))===o||(e.exports=r):typeof i!==a&&(i.UAParser=$);var J=typeof i!==a&&(i.jQuery||i.Zepto);if(J&&!J.ua){var ee=new $;J.ua=ee.getResult(),J.ua.get=function(){return ee.getUA()},J.ua.set=function(e){ee.setUA(e);var t=ee.getResult();for(var n in t)J.ua[n]=t[n]}}}("object"==typeof window?window:this)},9306:function(e,t,n){var r=n(4901),i=n(6823),o=TypeError;e.exports=function(e){if(r(e))return e;throw new o(i(e)+" is not a function")}},3506:function(e,t,n){var r=n(3925),i=String,o=TypeError;e.exports=function(e){if(r(e))return e;throw new o("Can't set "+i(e)+" as a prototype")}},679:function(e,t,n){var r=n(1625),i=TypeError;e.exports=function(e,t){if(r(t,e))return e;throw new i("Incorrect invocation")}},8551:function(e,t,n){var r=n(34),i=String,o=TypeError;e.exports=function(e){if(r(e))return e;throw new o(i(e)+" is not an object")}},7811:function(e){e.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},7394:function(e,t,n){var r=n(4576),i=n(6706),o=n(2195),s=r.ArrayBuffer,a=r.TypeError;e.exports=s&&i(s.prototype,"byteLength","get")||function(e){if("ArrayBuffer"!==o(e))throw new a("ArrayBuffer expected");return e.byteLength}},3238:function(e,t,n){var r=n(4576),i=n(7476),o=n(7394),s=r.ArrayBuffer,a=s&&s.prototype,u=a&&i(a.slice);e.exports=function(e){if(0!==o(e))return!1;if(!u)return!1;try{return u(e,0,0),!1}catch(e){return!0}}},5169:function(e,t,n){var r=n(3238),i=TypeError;e.exports=function(e){if(r(e))throw new i("ArrayBuffer is detached");return e}},5636:function(e,t,n){var r=n(4576),i=n(9504),o=n(6706),s=n(7696),a=n(5169),u=n(7394),c=n(4483),l=n(1548),E=r.structuredClone,f=r.ArrayBuffer,d=r.DataView,g=Math.min,p=f.prototype,y=d.prototype,S=i(p.slice),_=o(p,"resizable","get"),h=o(p,"maxByteLength","get"),m=i(y.getInt8),T=i(y.setInt8);e.exports=(l||c)&&function(e,t,n){var r,i=u(e),o=void 0===t?i:s(t),p=!_||!_(e);if(a(e),l&&(e=E(e,{transfer:[e]}),i===o&&(n||p)))return e;if(i>=o&&(!n||p))r=S(e,0,o);else{var y=n&&!p&&h?{maxByteLength:h(e)}:void 0;r=new f(o,y);for(var R=new d(e),A=new d(r),I=g(o,i),v=0;v<I;v++)T(A,v,m(R,v))}return l||c(e),r}},4644:function(e,t,n){var r,i,o,s=n(7811),a=n(3724),u=n(4576),c=n(4901),l=n(34),E=n(9297),f=n(6955),d=n(6823),g=n(6699),p=n(6840),y=n(2106),S=n(1625),_=n(2787),h=n(2967),m=n(8227),T=n(3392),R=n(1181),A=R.enforce,I=R.get,v=u.Int8Array,C=v&&v.prototype,D=u.Uint8ClampedArray,b=D&&D.prototype,w=v&&_(v),M=C&&_(C),O=Object.prototype,N=u.TypeError,L=m("toStringTag"),P=T("TYPED_ARRAY_TAG"),U="TypedArrayConstructor",k=s&&!!h&&"Opera"!==f(u.opera),K=!1,x={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},Y={BigInt64Array:8,BigUint64Array:8},G=function(e){var t=_(e);if(l(t)){var n=I(t);return n&&E(n,U)?n[U]:G(t)}},B=function(e){if(!l(e))return!1;var t=f(e);return E(x,t)||E(Y,t)};for(r in x)(o=(i=u[r])&&i.prototype)?A(o)[U]=i:k=!1;for(r in Y)(o=(i=u[r])&&i.prototype)&&(A(o)[U]=i);if((!k||!c(w)||w===Function.prototype)&&(w=function(){throw new N("Incorrect invocation")},k))for(r in x)u[r]&&h(u[r],w);if((!k||!M||M===O)&&(M=w.prototype,k))for(r in x)u[r]&&h(u[r].prototype,M);if(k&&_(b)!==M&&h(b,M),a&&!E(M,L))for(r in K=!0,y(M,L,{configurable:!0,get:function(){return l(this)?this[P]:void 0}}),x)u[r]&&g(u[r],P,r);e.exports={NATIVE_ARRAY_BUFFER_VIEWS:k,TYPED_ARRAY_TAG:K&&P,aTypedArray:function(e){if(B(e))return e;throw new N("Target is not a typed array")},aTypedArrayConstructor:function(e){if(c(e)&&(!h||S(w,e)))return e;throw new N(d(e)+" is not a typed array constructor")},exportTypedArrayMethod:function(e,t,n,r){if(a){if(n)for(var i in x){var o=u[i];if(o&&E(o.prototype,e))try{delete o.prototype[e]}catch(n){try{o.prototype[e]=t}catch(e){}}}M[e]&&!n||p(M,e,n?t:k&&C[e]||t,r)}},exportTypedArrayStaticMethod:function(e,t,n){var r,i;if(a){if(h){if(n)for(r in x)if((i=u[r])&&E(i,e))try{delete i[e]}catch(e){}if(w[e]&&!n)return;try{return p(w,e,n?t:k&&w[e]||t)}catch(e){}}for(r in x)!(i=u[r])||i[e]&&!n||p(i,e,t)}},getTypedArrayConstructor:G,isView:function(e){if(!l(e))return!1;var t=f(e);return"DataView"===t||E(x,t)||E(Y,t)},isTypedArray:B,TypedArray:w,TypedArrayPrototype:M}},5370:function(e,t,n){var r=n(6198);e.exports=function(e,t,n){for(var i=0,o=arguments.length>2?n:r(t),s=new e(o);o>i;)s[i]=t[i++];return s}},9617:function(e,t,n){var r=n(5397),i=n(5610),o=n(6198),s=function(e){return function(t,n,s){var a=r(t),u=o(a);if(0===u)return!e&&-1;var c,l=i(s,u);if(e&&n!=n){for(;u>l;)if((c=a[l++])!=c)return!0}else for(;u>l;l++)if((e||l in a)&&a[l]===n)return e||l||0;return!e&&-1}};e.exports={includes:s(!0),indexOf:s(!1)}},3839:function(e,t,n){var r=n(6080),i=n(7055),o=n(8981),s=n(6198),a=function(e){var t=1===e;return function(n,a,u){for(var c,l=o(n),E=i(l),f=s(E),d=r(a,u);f-- >0;)if(d(c=E[f],f,l))switch(e){case 0:return c;case 1:return f}return t?-1:void 0}};e.exports={findLast:a(0),findLastIndex:a(1)}},4598:function(e,t,n){var r=n(9039);e.exports=function(e,t){var n=[][e];return!!n&&r((function(){n.call(null,t||function(){return 1},1)}))}},926:function(e,t,n){var r=n(9306),i=n(8981),o=n(7055),s=n(6198),a=TypeError,u="Reduce of empty array with no initial value",c=function(e){return function(t,n,c,l){var E=i(t),f=o(E),d=s(E);if(r(n),0===d&&c<2)throw new a(u);var g=e?d-1:0,p=e?-1:1;if(c<2)for(;;){if(g in f){l=f[g],g+=p;break}if(g+=p,e?g<0:d<=g)throw new a(u)}for(;e?g>=0:d>g;g+=p)g in f&&(l=n(l,f[g],g,E));return l}};e.exports={left:c(!1),right:c(!0)}},4527:function(e,t,n){var r=n(3724),i=n(4376),o=TypeError,s=Object.getOwnPropertyDescriptor,a=r&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(e){return e instanceof TypeError}}();e.exports=a?function(e,t){if(i(e)&&!s(e,"length").writable)throw new o("Cannot set read only .length");return e.length=t}:function(e,t){return e.length=t}},7680:function(e,t,n){var r=n(9504);e.exports=r([].slice)},4488:function(e,t,n){var r=n(7680),i=Math.floor,o=function(e,t){var n=e.length;if(n<8)for(var s,a,u=1;u<n;){for(a=u,s=e[u];a&&t(e[a-1],s)>0;)e[a]=e[--a];a!==u++&&(e[a]=s)}else for(var c=i(n/2),l=o(r(e,0,c),t),E=o(r(e,c),t),f=l.length,d=E.length,g=0,p=0;g<f||p<d;)e[g+p]=g<f&&p<d?t(l[g],E[p])<=0?l[g++]:E[p++]:g<f?l[g++]:E[p++];return e};e.exports=o},7628:function(e,t,n){var r=n(6198);e.exports=function(e,t){for(var n=r(e),i=new t(n),o=0;o<n;o++)i[o]=e[n-o-1];return i}},9928:function(e,t,n){var r=n(6198),i=n(1291),o=RangeError;e.exports=function(e,t,n,s){var a=r(e),u=i(n),c=u<0?a+u:u;if(c>=a||c<0)throw new o("Incorrect index");for(var l=new t(a),E=0;E<a;E++)l[E]=E===c?s:e[E];return l}},2195:function(e,t,n){var r=n(9504),i=r({}.toString),o=r("".slice);e.exports=function(e){return o(i(e),8,-1)}},6955:function(e,t,n){var r=n(2140),i=n(4901),o=n(2195),s=n(8227)("toStringTag"),a=Object,u="Arguments"===o(function(){return arguments}());e.exports=r?o:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=a(e),s))?n:u?o(t):"Object"===(r=o(t))&&i(t.callee)?"Arguments":r}},7740:function(e,t,n){var r=n(9297),i=n(5031),o=n(7347),s=n(4913);e.exports=function(e,t,n){for(var a=i(t),u=s.f,c=o.f,l=0;l<a.length;l++){var E=a[l];r(e,E)||n&&r(n,E)||u(e,E,c(t,E))}}},2211:function(e,t,n){var r=n(9039);e.exports=!r((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},6699:function(e,t,n){var r=n(3724),i=n(4913),o=n(6980);e.exports=r?function(e,t,n){return i.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},6980:function(e){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},2106:function(e,t,n){var r=n(283),i=n(4913);e.exports=function(e,t,n){return n.get&&r(n.get,t,{getter:!0}),n.set&&r(n.set,t,{setter:!0}),i.f(e,t,n)}},6840:function(e,t,n){var r=n(4901),i=n(4913),o=n(283),s=n(9433);e.exports=function(e,t,n,a){a||(a={});var u=a.enumerable,c=void 0!==a.name?a.name:t;if(r(n)&&o(n,c,a),a.global)u?e[t]=n:s(t,n);else{try{a.unsafe?e[t]&&(u=!0):delete e[t]}catch(e){}u?e[t]=n:i.f(e,t,{value:n,enumerable:!1,configurable:!a.nonConfigurable,writable:!a.nonWritable})}return e}},9433:function(e,t,n){var r=n(4576),i=Object.defineProperty;e.exports=function(e,t){try{i(r,e,{value:t,configurable:!0,writable:!0})}catch(n){r[e]=t}return t}},4606:function(e,t,n){var r=n(6823),i=TypeError;e.exports=function(e,t){if(!delete e[t])throw new i("Cannot delete property "+r(t)+" of "+r(e))}},3724:function(e,t,n){var r=n(9039);e.exports=!r((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}))},4483:function(e,t,n){var r,i,o,s,a=n(4576),u=n(9429),c=n(1548),l=a.structuredClone,E=a.ArrayBuffer,f=a.MessageChannel,d=!1;if(c)d=function(e){l(e,{transfer:[e]})};else if(E)try{f||(r=u("worker_threads"))&&(f=r.MessageChannel),f&&(i=new f,o=new E(2),s=function(e){i.port1.postMessage(null,[e])},2===o.byteLength&&(s(o),0===o.byteLength&&(d=s)))}catch(e){}e.exports=d},4055:function(e,t,n){var r=n(4576),i=n(34),o=r.document,s=i(o)&&i(o.createElement);e.exports=function(e){return s?o.createElement(e):{}}},6837:function(e){var t=TypeError;e.exports=function(e){if(e>9007199254740991)throw t("Maximum allowed index exceeded");return e}},5002:function(e){e.exports={IndexSizeError:{s:"INDEX_SIZE_ERR",c:1,m:1},DOMStringSizeError:{s:"DOMSTRING_SIZE_ERR",c:2,m:0},HierarchyRequestError:{s:"HIERARCHY_REQUEST_ERR",c:3,m:1},WrongDocumentError:{s:"WRONG_DOCUMENT_ERR",c:4,m:1},InvalidCharacterError:{s:"INVALID_CHARACTER_ERR",c:5,m:1},NoDataAllowedError:{s:"NO_DATA_ALLOWED_ERR",c:6,m:0},NoModificationAllowedError:{s:"NO_MODIFICATION_ALLOWED_ERR",c:7,m:1},NotFoundError:{s:"NOT_FOUND_ERR",c:8,m:1},NotSupportedError:{s:"NOT_SUPPORTED_ERR",c:9,m:1},InUseAttributeError:{s:"INUSE_ATTRIBUTE_ERR",c:10,m:1},InvalidStateError:{s:"INVALID_STATE_ERR",c:11,m:1},SyntaxError:{s:"SYNTAX_ERR",c:12,m:1},InvalidModificationError:{s:"INVALID_MODIFICATION_ERR",c:13,m:1},NamespaceError:{s:"NAMESPACE_ERR",c:14,m:1},InvalidAccessError:{s:"INVALID_ACCESS_ERR",c:15,m:1},ValidationError:{s:"VALIDATION_ERR",c:16,m:0},TypeMismatchError:{s:"TYPE_MISMATCH_ERR",c:17,m:1},SecurityError:{s:"SECURITY_ERR",c:18,m:1},NetworkError:{s:"NETWORK_ERR",c:19,m:1},AbortError:{s:"ABORT_ERR",c:20,m:1},URLMismatchError:{s:"URL_MISMATCH_ERR",c:21,m:1},QuotaExceededError:{s:"QUOTA_EXCEEDED_ERR",c:22,m:1},TimeoutError:{s:"TIMEOUT_ERR",c:23,m:1},InvalidNodeTypeError:{s:"INVALID_NODE_TYPE_ERR",c:24,m:1},DataCloneError:{s:"DATA_CLONE_ERR",c:25,m:1}}},8727:function(e){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},3709:function(e,t,n){var r=n(2839).match(/firefox\/(\d+)/i);e.exports=!!r&&+r[1]},3763:function(e,t,n){var r=n(2839);e.exports=/MSIE|Trident/.test(r)},6193:function(e,t,n){var r=n(4215);e.exports="NODE"===r},2839:function(e,t,n){var r=n(4576).navigator,i=r&&r.userAgent;e.exports=i?String(i):""},9519:function(e,t,n){var r,i,o=n(4576),s=n(2839),a=o.process,u=o.Deno,c=a&&a.versions||u&&u.version,l=c&&c.v8;l&&(i=(r=l.split("."))[0]>0&&r[0]<4?1:+(r[0]+r[1])),!i&&s&&(!(r=s.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=s.match(/Chrome\/(\d+)/))&&(i=+r[1]),e.exports=i},3607:function(e,t,n){var r=n(2839).match(/AppleWebKit\/(\d+)\./);e.exports=!!r&&+r[1]},4215:function(e,t,n){var r=n(4576),i=n(2839),o=n(2195),s=function(e){return i.slice(0,e.length)===e};e.exports=s("Bun/")?"BUN":s("Cloudflare-Workers")?"CLOUDFLARE":s("Deno/")?"DENO":s("Node.js/")?"NODE":r.Bun&&"string"==typeof Bun.version?"BUN":r.Deno&&"object"==typeof Deno.version?"DENO":"process"===o(r.process)?"NODE":r.window&&r.document?"BROWSER":"REST"},8574:function(e,t,n){var r=n(9504),i=Error,o=r("".replace),s=String(new i("zxcasd").stack),a=/\n\s*at [^:]*:[^\n]*/,u=a.test(s);e.exports=function(e,t){if(u&&"string"==typeof e&&!i.prepareStackTrace)for(;t--;)e=o(e,a,"");return e}},747:function(e,t,n){var r=n(6699),i=n(8574),o=n(4659),s=Error.captureStackTrace;e.exports=function(e,t,n,a){o&&(s?s(e,t):r(e,"stack",i(n,a)))}},4659:function(e,t,n){var r=n(9039),i=n(6980);e.exports=!r((function(){var e=new Error("a");return!("stack"in e)||(Object.defineProperty(e,"stack",i(1,7)),7!==e.stack)}))},6518:function(e,t,n){var r=n(4576),i=n(7347).f,o=n(6699),s=n(6840),a=n(9433),u=n(7740),c=n(2796);e.exports=function(e,t){var n,l,E,f,d,g=e.target,p=e.global,y=e.stat;if(n=p?r:y?r[g]||a(g,{}):r[g]&&r[g].prototype)for(l in t){if(f=t[l],E=e.dontCallGetSet?(d=i(n,l))&&d.value:n[l],!c(p?l:g+(y?".":"#")+l,e.forced)&&void 0!==E){if(typeof f==typeof E)continue;u(f,E)}(e.sham||E&&E.sham)&&o(f,"sham",!0),s(n,l,f,e)}}},9039:function(e){e.exports=function(e){try{return!!e()}catch(e){return!0}}},8745:function(e,t,n){var r=n(616),i=Function.prototype,o=i.apply,s=i.call;e.exports="object"==typeof Reflect&&Reflect.apply||(r?s.bind(o):function(){return s.apply(o,arguments)})},6080:function(e,t,n){var r=n(7476),i=n(9306),o=n(616),s=r(r.bind);e.exports=function(e,t){return i(e),void 0===t?e:o?s(e,t):function(){return e.apply(t,arguments)}}},616:function(e,t,n){var r=n(9039);e.exports=!r((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},9565:function(e,t,n){var r=n(616),i=Function.prototype.call;e.exports=r?i.bind(i):function(){return i.apply(i,arguments)}},350:function(e,t,n){var r=n(3724),i=n(9297),o=Function.prototype,s=r&&Object.getOwnPropertyDescriptor,a=i(o,"name"),u=a&&"something"===function(){}.name,c=a&&(!r||r&&s(o,"name").configurable);e.exports={EXISTS:a,PROPER:u,CONFIGURABLE:c}},6706:function(e,t,n){var r=n(9504),i=n(9306);e.exports=function(e,t,n){try{return r(i(Object.getOwnPropertyDescriptor(e,t)[n]))}catch(e){}}},7476:function(e,t,n){var r=n(2195),i=n(9504);e.exports=function(e){if("Function"===r(e))return i(e)}},9504:function(e,t,n){var r=n(616),i=Function.prototype,o=i.call,s=r&&i.bind.bind(o,o);e.exports=r?s:function(e){return function(){return o.apply(e,arguments)}}},9429:function(e,t,n){var r=n(4576),i=n(6193);e.exports=function(e){if(i){try{return r.process.getBuiltinModule(e)}catch(e){}try{return Function('return require("'+e+'")')()}catch(e){}}}},7751:function(e,t,n){var r=n(4576),i=n(4901);e.exports=function(e,t){return arguments.length<2?(n=r[e],i(n)?n:void 0):r[e]&&r[e][t];var n}},6933:function(e,t,n){var r=n(9504),i=n(4376),o=n(4901),s=n(2195),a=n(655),u=r([].push);e.exports=function(e){if(o(e))return e;if(i(e)){for(var t=e.length,n=[],r=0;r<t;r++){var c=e[r];"string"==typeof c?u(n,c):"number"!=typeof c&&"Number"!==s(c)&&"String"!==s(c)||u(n,a(c))}var l=n.length,E=!0;return function(e,t){if(E)return E=!1,t;if(i(this))return t;for(var r=0;r<l;r++)if(n[r]===e)return t}}}},5966:function(e,t,n){var r=n(9306),i=n(4117);e.exports=function(e,t){var n=e[t];return i(n)?void 0:r(n)}},4576:function(e,t,n){var r=function(e){return e&&e.Math===Math&&e};e.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof n.g&&n.g)||r("object"==typeof this&&this)||function(){return this}()||Function("return this")()},9297:function(e,t,n){var r=n(9504),i=n(8981),o=r({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return o(i(e),t)}},421:function(e){e.exports={}},5917:function(e,t,n){var r=n(3724),i=n(9039),o=n(4055);e.exports=!r&&!i((function(){return 7!==Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},7055:function(e,t,n){var r=n(9504),i=n(9039),o=n(2195),s=Object,a=r("".split);e.exports=i((function(){return!s("z").propertyIsEnumerable(0)}))?function(e){return"String"===o(e)?a(e,""):s(e)}:s},3167:function(e,t,n){var r=n(4901),i=n(34),o=n(2967);e.exports=function(e,t,n){var s,a;return o&&r(s=t.constructor)&&s!==n&&i(a=s.prototype)&&a!==n.prototype&&o(e,a),e}},3706:function(e,t,n){var r=n(9504),i=n(4901),o=n(7629),s=r(Function.toString);i(o.inspectSource)||(o.inspectSource=function(e){return s(e)}),e.exports=o.inspectSource},7584:function(e,t,n){var r=n(34),i=n(6699);e.exports=function(e,t){r(t)&&"cause"in t&&i(e,"cause",t.cause)}},1181:function(e,t,n){var r,i,o,s=n(8622),a=n(4576),u=n(34),c=n(6699),l=n(9297),E=n(7629),f=n(6119),d=n(421),g="Object already initialized",p=a.TypeError,y=a.WeakMap;if(s||E.state){var S=E.state||(E.state=new y);S.get=S.get,S.has=S.has,S.set=S.set,r=function(e,t){if(S.has(e))throw new p(g);return t.facade=e,S.set(e,t),t},i=function(e){return S.get(e)||{}},o=function(e){return S.has(e)}}else{var _=f("state");d[_]=!0,r=function(e,t){if(l(e,_))throw new p(g);return t.facade=e,c(e,_,t),t},i=function(e){return l(e,_)?e[_]:{}},o=function(e){return l(e,_)}}e.exports={set:r,get:i,has:o,enforce:function(e){return o(e)?i(e):r(e,{})},getterFor:function(e){return function(t){var n;if(!u(t)||(n=i(t)).type!==e)throw new p("Incompatible receiver, "+e+" required");return n}}}},4376:function(e,t,n){var r=n(2195);e.exports=Array.isArray||function(e){return"Array"===r(e)}},1108:function(e,t,n){var r=n(6955);e.exports=function(e){var t=r(e);return"BigInt64Array"===t||"BigUint64Array"===t}},4901:function(e){var t="object"==typeof document&&document.all;e.exports=void 0===t&&void 0!==t?function(e){return"function"==typeof e||e===t}:function(e){return"function"==typeof e}},2796:function(e,t,n){var r=n(9039),i=n(4901),o=/#|\.prototype\./,s=function(e,t){var n=u[a(e)];return n===l||n!==c&&(i(t)?r(t):!!t)},a=s.normalize=function(e){return String(e).replace(o,".").toLowerCase()},u=s.data={},c=s.NATIVE="N",l=s.POLYFILL="P";e.exports=s},4117:function(e){e.exports=function(e){return null==e}},34:function(e,t,n){var r=n(4901);e.exports=function(e){return"object"==typeof e?null!==e:r(e)}},3925:function(e,t,n){var r=n(34);e.exports=function(e){return r(e)||null===e}},6395:function(e){e.exports=!1},757:function(e,t,n){var r=n(7751),i=n(4901),o=n(1625),s=n(7040),a=Object;e.exports=s?function(e){return"symbol"==typeof e}:function(e){var t=r("Symbol");return i(t)&&o(t.prototype,a(e))}},6198:function(e,t,n){var r=n(8014);e.exports=function(e){return r(e.length)}},283:function(e,t,n){var r=n(9504),i=n(9039),o=n(4901),s=n(9297),a=n(3724),u=n(350).CONFIGURABLE,c=n(3706),l=n(1181),E=l.enforce,f=l.get,d=String,g=Object.defineProperty,p=r("".slice),y=r("".replace),S=r([].join),_=a&&!i((function(){return 8!==g((function(){}),"length",{value:8}).length})),h=String(String).split("String"),m=e.exports=function(e,t,n){"Symbol("===p(d(t),0,7)&&(t="["+y(d(t),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),n&&n.getter&&(t="get "+t),n&&n.setter&&(t="set "+t),(!s(e,"name")||u&&e.name!==t)&&(a?g(e,"name",{value:t,configurable:!0}):e.name=t),_&&n&&s(n,"arity")&&e.length!==n.arity&&g(e,"length",{value:n.arity});try{n&&s(n,"constructor")&&n.constructor?a&&g(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(e){}var r=E(e);return s(r,"source")||(r.source=S(h,"string"==typeof t?t:"")),e};Function.prototype.toString=m((function(){return o(this)&&f(this).source||c(this)}),"toString")},741:function(e){var t=Math.ceil,n=Math.floor;e.exports=Math.trunc||function(e){var r=+e;return(r>0?n:t)(r)}},2603:function(e,t,n){var r=n(655);e.exports=function(e,t){return void 0===e?arguments.length<2?"":t:r(e)}},4913:function(e,t,n){var r=n(3724),i=n(5917),o=n(8686),s=n(8551),a=n(6969),u=TypeError,c=Object.defineProperty,l=Object.getOwnPropertyDescriptor,E="enumerable",f="configurable",d="writable";t.f=r?o?function(e,t,n){if(s(e),t=a(t),s(n),"function"==typeof e&&"prototype"===t&&"value"in n&&d in n&&!n[d]){var r=l(e,t);r&&r[d]&&(e[t]=n.value,n={configurable:f in n?n[f]:r[f],enumerable:E in n?n[E]:r[E],writable:!1})}return c(e,t,n)}:c:function(e,t,n){if(s(e),t=a(t),s(n),i)try{return c(e,t,n)}catch(e){}if("get"in n||"set"in n)throw new u("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},7347:function(e,t,n){var r=n(3724),i=n(9565),o=n(8773),s=n(6980),a=n(5397),u=n(6969),c=n(9297),l=n(5917),E=Object.getOwnPropertyDescriptor;t.f=r?E:function(e,t){if(e=a(e),t=u(t),l)try{return E(e,t)}catch(e){}if(c(e,t))return s(!i(o.f,e,t),e[t])}},8480:function(e,t,n){var r=n(1828),i=n(8727).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},3717:function(e,t){t.f=Object.getOwnPropertySymbols},2787:function(e,t,n){var r=n(9297),i=n(4901),o=n(8981),s=n(6119),a=n(2211),u=s("IE_PROTO"),c=Object,l=c.prototype;e.exports=a?c.getPrototypeOf:function(e){var t=o(e);if(r(t,u))return t[u];var n=t.constructor;return i(n)&&t instanceof n?n.prototype:t instanceof c?l:null}},1625:function(e,t,n){var r=n(9504);e.exports=r({}.isPrototypeOf)},1828:function(e,t,n){var r=n(9504),i=n(9297),o=n(5397),s=n(9617).indexOf,a=n(421),u=r([].push);e.exports=function(e,t){var n,r=o(e),c=0,l=[];for(n in r)!i(a,n)&&i(r,n)&&u(l,n);for(;t.length>c;)i(r,n=t[c++])&&(~s(l,n)||u(l,n));return l}},8773:function(e,t){var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,i=r&&!n.call({1:2},1);t.f=i?function(e){var t=r(this,e);return!!t&&t.enumerable}:n},2967:function(e,t,n){var r=n(6706),i=n(34),o=n(7750),s=n(3506);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=r(Object.prototype,"__proto__","set"))(n,[]),t=n instanceof Array}catch(e){}return function(n,r){return o(n),s(r),i(n)?(t?e(n,r):n.__proto__=r,n):n}}():void 0)},4270:function(e,t,n){var r=n(9565),i=n(4901),o=n(34),s=TypeError;e.exports=function(e,t){var n,a;if("string"===t&&i(n=e.toString)&&!o(a=r(n,e)))return a;if(i(n=e.valueOf)&&!o(a=r(n,e)))return a;if("string"!==t&&i(n=e.toString)&&!o(a=r(n,e)))return a;throw new s("Can't convert object to primitive value")}},5031:function(e,t,n){var r=n(7751),i=n(9504),o=n(8480),s=n(3717),a=n(8551),u=i([].concat);e.exports=r("Reflect","ownKeys")||function(e){var t=o.f(a(e)),n=s.f;return n?u(t,n(e)):t}},1056:function(e,t,n){var r=n(4913).f;e.exports=function(e,t,n){n in e||r(e,n,{configurable:!0,get:function(){return t[n]},set:function(e){t[n]=e}})}},7750:function(e,t,n){var r=n(4117),i=TypeError;e.exports=function(e){if(r(e))throw new i("Can't call method on "+e);return e}},6119:function(e,t,n){var r=n(5745),i=n(3392),o=r("keys");e.exports=function(e){return o[e]||(o[e]=i(e))}},7629:function(e,t,n){var r=n(6395),i=n(4576),o=n(9433),s="__core-js_shared__",a=e.exports=i[s]||o(s,{});(a.versions||(a.versions=[])).push({version:"3.39.0",mode:r?"pure":"global",copyright:"Â© 2014-2024 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.39.0/LICENSE",source:"https://github.com/zloirock/core-js"})},5745:function(e,t,n){var r=n(7629);e.exports=function(e,t){return r[e]||(r[e]=t||{})}},1548:function(e,t,n){var r=n(4576),i=n(9039),o=n(9519),s=n(4215),a=r.structuredClone;e.exports=!!a&&!i((function(){if("DENO"===s&&o>92||"NODE"===s&&o>94||"BROWSER"===s&&o>97)return!1;var e=new ArrayBuffer(8),t=a(e,{transfer:[e]});return 0!==e.byteLength||8!==t.byteLength}))},4495:function(e,t,n){var r=n(9519),i=n(9039),o=n(4576).String;e.exports=!!Object.getOwnPropertySymbols&&!i((function(){var e=Symbol("symbol detection");return!o(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},5610:function(e,t,n){var r=n(1291),i=Math.max,o=Math.min;e.exports=function(e,t){var n=r(e);return n<0?i(n+t,0):o(n,t)}},5854:function(e,t,n){var r=n(2777),i=TypeError;e.exports=function(e){var t=r(e,"number");if("number"==typeof t)throw new i("Can't convert number to bigint");return BigInt(t)}},7696:function(e,t,n){var r=n(1291),i=n(8014),o=RangeError;e.exports=function(e){if(void 0===e)return 0;var t=r(e),n=i(t);if(t!==n)throw new o("Wrong length or index");return n}},5397:function(e,t,n){var r=n(7055),i=n(7750);e.exports=function(e){return r(i(e))}},1291:function(e,t,n){var r=n(741);e.exports=function(e){var t=+e;return t!=t||0===t?0:r(t)}},8014:function(e,t,n){var r=n(1291),i=Math.min;e.exports=function(e){var t=r(e);return t>0?i(t,9007199254740991):0}},8981:function(e,t,n){var r=n(7750),i=Object;e.exports=function(e){return i(r(e))}},8229:function(e,t,n){var r=n(9590),i=RangeError;e.exports=function(e,t){var n=r(e);if(n%t)throw new i("Wrong offset");return n}},9590:function(e,t,n){var r=n(1291),i=RangeError;e.exports=function(e){var t=r(e);if(t<0)throw new i("The argument can't be less than 0");return t}},2777:function(e,t,n){var r=n(9565),i=n(34),o=n(757),s=n(5966),a=n(4270),u=n(8227),c=TypeError,l=u("toPrimitive");e.exports=function(e,t){if(!i(e)||o(e))return e;var n,u=s(e,l);if(u){if(void 0===t&&(t="default"),n=r(u,e,t),!i(n)||o(n))return n;throw new c("Can't convert object to primitive value")}return void 0===t&&(t="number"),a(e,t)}},6969:function(e,t,n){var r=n(2777),i=n(757);e.exports=function(e){var t=r(e,"string");return i(t)?t:t+""}},2140:function(e,t,n){var r={};r[n(8227)("toStringTag")]="z",e.exports="[object z]"===String(r)},655:function(e,t,n){var r=n(6955),i=String;e.exports=function(e){if("Symbol"===r(e))throw new TypeError("Cannot convert a Symbol value to a string");return i(e)}},6823:function(e){var t=String;e.exports=function(e){try{return t(e)}catch(e){return"Object"}}},3392:function(e,t,n){var r=n(9504),i=0,o=Math.random(),s=r(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+s(++i+o,36)}},7040:function(e,t,n){var r=n(4495);e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},8686:function(e,t,n){var r=n(3724),i=n(9039);e.exports=r&&i((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},2812:function(e){var t=TypeError;e.exports=function(e,n){if(e<n)throw new t("Not enough arguments");return e}},8622:function(e,t,n){var r=n(4576),i=n(4901),o=r.WeakMap;e.exports=i(o)&&/native code/.test(String(o))},8227:function(e,t,n){var r=n(4576),i=n(5745),o=n(9297),s=n(3392),a=n(4495),u=n(7040),c=r.Symbol,l=i("wks"),E=u?c.for||c:c&&c.withoutSetter||s;e.exports=function(e){return o(l,e)||(l[e]=a&&o(c,e)?c[e]:E("Symbol."+e)),l[e]}},4601:function(e,t,n){var r=n(7751),i=n(9297),o=n(6699),s=n(1625),a=n(2967),u=n(7740),c=n(1056),l=n(3167),E=n(2603),f=n(7584),d=n(747),g=n(3724),p=n(6395);e.exports=function(e,t,n,y){var S="stackTraceLimit",_=y?2:1,h=e.split("."),m=h[h.length-1],T=r.apply(null,h);if(T){var R=T.prototype;if(!p&&i(R,"cause")&&delete R.cause,!n)return T;var A=r("Error"),I=t((function(e,t){var n=E(y?t:e,void 0),r=y?new T(e):new T;return void 0!==n&&o(r,"message",n),d(r,I,r.stack,2),this&&s(R,this)&&l(r,this,I),arguments.length>_&&f(r,arguments[_]),r}));if(I.prototype=R,"Error"!==m?a?a(I,A):u(I,A,{name:!0}):g&&S in T&&(c(I,T,S),c(I,T,"prepareStackTrace")),u(I,T),!p)try{R.name!==m&&o(R,"name",m),R.constructor=I}catch(e){}return I}}},6573:function(e,t,n){var r=n(3724),i=n(2106),o=n(3238),s=ArrayBuffer.prototype;r&&!("detached"in s)&&i(s,"detached",{configurable:!0,get:function(){return o(this)}})},7936:function(e,t,n){var r=n(6518),i=n(5636);i&&r({target:"ArrayBuffer",proto:!0},{transferToFixedLength:function(){return i(this,arguments.length?arguments[0]:void 0,!1)}})},8100:function(e,t,n){var r=n(6518),i=n(5636);i&&r({target:"ArrayBuffer",proto:!0},{transfer:function(){return i(this,arguments.length?arguments[0]:void 0,!0)}})},4114:function(e,t,n){var r=n(6518),i=n(8981),o=n(6198),s=n(4527),a=n(6837);r({target:"Array",proto:!0,arity:1,forced:n(9039)((function(){return 4294967297!==[].push.call({length:4294967296},1)}))||!function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(e){return e instanceof TypeError}}()},{push:function(e){var t=i(this),n=o(t),r=arguments.length;a(n+r);for(var u=0;u<r;u++)t[n]=arguments[u],n++;return s(t,n),n}})},2712:function(e,t,n){var r=n(6518),i=n(926).left,o=n(4598),s=n(9519);r({target:"Array",proto:!0,forced:!n(6193)&&s>79&&s<83||!o("reduce")},{reduce:function(e){var t=arguments.length;return i(this,e,t,t>1?arguments[1]:void 0)}})},6910:function(e,t,n){var r=n(6518),i=n(9504),o=n(9306),s=n(8981),a=n(6198),u=n(4606),c=n(655),l=n(9039),E=n(4488),f=n(4598),d=n(3709),g=n(3763),p=n(9519),y=n(3607),S=[],_=i(S.sort),h=i(S.push),m=l((function(){S.sort(void 0)})),T=l((function(){S.sort(null)})),R=f("sort"),A=!l((function(){if(p)return p<70;if(!(d&&d>3)){if(g)return!0;if(y)return y<603;var e,t,n,r,i="";for(e=65;e<76;e++){switch(t=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(r=0;r<47;r++)S.push({k:t+r,v:n})}for(S.sort((function(e,t){return t.v-e.v})),r=0;r<S.length;r++)t=S[r].k.charAt(0),i.charAt(i.length-1)!==t&&(i+=t);return"DGBEFHACIJK"!==i}}));r({target:"Array",proto:!0,forced:m||!T||!R||!A},{sort:function(e){void 0!==e&&o(e);var t=s(this);if(A)return void 0===e?_(t):_(t,e);var n,r,i=[],l=a(t);for(r=0;r<l;r++)r in t&&h(i,t[r]);for(E(i,function(e){return function(t,n){return void 0===n?-1:void 0===t?1:void 0!==e?+e(t,n)||0:c(t)>c(n)?1:-1}}(e)),n=a(i),r=0;r<n;)t[r]=i[r++];for(;r<l;)u(t,r++);return t}})},3609:function(e,t,n){var r=n(6518),i=n(8981),o=n(6198),s=n(4527),a=n(4606),u=n(6837);r({target:"Array",proto:!0,arity:1,forced:1!==[].unshift(0)||!function(){try{Object.defineProperty([],"length",{writable:!1}).unshift()}catch(e){return e instanceof TypeError}}()},{unshift:function(e){var t=i(this),n=o(t),r=arguments.length;if(r){u(n+r);for(var c=n;c--;){var l=c+r;c in t?t[l]=t[c]:a(t,l)}for(var E=0;E<r;E++)t[E]=arguments[E]}return s(t,n+r)}})},6280:function(e,t,n){var r=n(6518),i=n(4576),o=n(8745),s=n(4601),a="WebAssembly",u=i[a],c=7!==new Error("e",{cause:7}).cause,l=function(e,t){var n={};n[e]=s(e,t,c),r({global:!0,constructor:!0,arity:1,forced:c},n)},E=function(e,t){if(u&&u[e]){var n={};n[e]=s(a+"."+e,t,c),r({target:a,stat:!0,constructor:!0,arity:1,forced:c},n)}};l("Error",(function(e){return function(t){return o(e,this,arguments)}})),l("EvalError",(function(e){return function(t){return o(e,this,arguments)}})),l("RangeError",(function(e){return function(t){return o(e,this,arguments)}})),l("ReferenceError",(function(e){return function(t){return o(e,this,arguments)}})),l("SyntaxError",(function(e){return function(t){return o(e,this,arguments)}})),l("TypeError",(function(e){return function(t){return o(e,this,arguments)}})),l("URIError",(function(e){return function(t){return o(e,this,arguments)}})),E("CompileError",(function(e){return function(t){return o(e,this,arguments)}})),E("LinkError",(function(e){return function(t){return o(e,this,arguments)}})),E("RuntimeError",(function(e){return function(t){return o(e,this,arguments)}}))},3110:function(e,t,n){var r=n(6518),i=n(7751),o=n(8745),s=n(9565),a=n(9504),u=n(9039),c=n(4901),l=n(757),E=n(7680),f=n(6933),d=n(4495),g=String,p=i("JSON","stringify"),y=a(/./.exec),S=a("".charAt),_=a("".charCodeAt),h=a("".replace),m=a(1..toString),T=/[\uD800-\uDFFF]/g,R=/^[\uD800-\uDBFF]$/,A=/^[\uDC00-\uDFFF]$/,I=!d||u((function(){var e=i("Symbol")("stringify detection");return"[null]"!==p([e])||"{}"!==p({a:e})||"{}"!==p(Object(e))})),v=u((function(){return'"\\udf06\\ud834"'!==p("\udf06\ud834")||'"\\udead"'!==p("\udead")})),C=function(e,t){var n=E(arguments),r=f(t);if(c(r)||void 0!==e&&!l(e))return n[1]=function(e,t){if(c(r)&&(t=s(r,this,g(e),t)),!l(t))return t},o(p,null,n)},D=function(e,t,n){var r=S(n,t-1),i=S(n,t+1);return y(R,e)&&!y(A,i)||y(A,e)&&!y(R,r)?"\\u"+m(_(e,0),16):e};p&&r({target:"JSON",stat:!0,arity:3,forced:I||v},{stringify:function(e,t,n){var r=E(arguments),i=o(I?C:p,null,r);return v&&"string"==typeof i?h(i,T,D):i}})},8140:function(e,t,n){var r=n(4644),i=n(6198),o=n(1291),s=r.aTypedArray;(0,r.exportTypedArrayMethod)("at",(function(e){var t=s(this),n=i(t),r=o(e),a=r>=0?r:n+r;return a<0||a>=n?void 0:t[a]}))},1134:function(e,t,n){var r=n(4644),i=n(3839).findLastIndex,o=r.aTypedArray;(0,r.exportTypedArrayMethod)("findLastIndex",(function(e){return i(o(this),e,arguments.length>1?arguments[1]:void 0)}))},1903:function(e,t,n){var r=n(4644),i=n(3839).findLast,o=r.aTypedArray;(0,r.exportTypedArrayMethod)("findLast",(function(e){return i(o(this),e,arguments.length>1?arguments[1]:void 0)}))},8845:function(e,t,n){var r=n(4576),i=n(9565),o=n(4644),s=n(6198),a=n(8229),u=n(8981),c=n(9039),l=r.RangeError,E=r.Int8Array,f=E&&E.prototype,d=f&&f.set,g=o.aTypedArray,p=o.exportTypedArrayMethod,y=!c((function(){var e=new Uint8ClampedArray(2);return i(d,e,{length:1,0:3},1),3!==e[1]})),S=y&&o.NATIVE_ARRAY_BUFFER_VIEWS&&c((function(){var e=new E(2);return e.set(1),e.set("2",1),0!==e[0]||2!==e[1]}));p("set",(function(e){g(this);var t=a(arguments.length>1?arguments[1]:void 0,1),n=u(e);if(y)return i(d,this,n,t);var r=this.length,o=s(n),c=0;if(o+t>r)throw new l("Wrong length");for(;c<o;)this[t+c]=n[c++]}),!y||S)},373:function(e,t,n){var r=n(4576),i=n(7476),o=n(9039),s=n(9306),a=n(4488),u=n(4644),c=n(3709),l=n(3763),E=n(9519),f=n(3607),d=u.aTypedArray,g=u.exportTypedArrayMethod,p=r.Uint16Array,y=p&&i(p.prototype.sort),S=!(!y||o((function(){y(new p(2),null)}))&&o((function(){y(new p(2),{})}))),_=!!y&&!o((function(){if(E)return E<74;if(c)return c<67;if(l)return!0;if(f)return f<602;var e,t,n=new p(516),r=Array(516);for(e=0;e<516;e++)t=e%4,n[e]=515-e,r[e]=e-2*t+3;for(y(n,(function(e,t){return(e/4|0)-(t/4|0)})),e=0;e<516;e++)if(n[e]!==r[e])return!0}));g("sort",(function(e){return void 0!==e&&s(e),_?y(this,e):a(d(this),function(e){return function(t,n){return void 0!==e?+e(t,n)||0:n!=n?-1:t!=t?1:0===t&&0===n?1/t>0&&1/n<0?1:-1:t>n}}(e))}),!_||S)},7467:function(e,t,n){var r=n(7628),i=n(4644),o=i.aTypedArray,s=i.exportTypedArrayMethod,a=i.getTypedArrayConstructor;s("toReversed",(function(){return r(o(this),a(this))}))},4732:function(e,t,n){var r=n(4644),i=n(9504),o=n(9306),s=n(5370),a=r.aTypedArray,u=r.getTypedArrayConstructor,c=r.exportTypedArrayMethod,l=i(r.TypedArrayPrototype.sort);c("toSorted",(function(e){void 0!==e&&o(e);var t=a(this),n=s(u(t),t);return l(n,e)}))},9577:function(e,t,n){var r=n(9928),i=n(4644),o=n(1108),s=n(1291),a=n(5854),u=i.aTypedArray,c=i.getTypedArrayConstructor,l=i.exportTypedArrayMethod,E=!!function(){try{new Int8Array(1).with(2,{valueOf:function(){throw 8}})}catch(e){return 8===e}}();l("with",{with:function(e,t){var n=u(this),i=s(e),l=o(n)?a(t):+t;return r(n,c(n),i,l)}}.with,!E)},4979:function(e,t,n){var r=n(6518),i=n(4576),o=n(7751),s=n(6980),a=n(4913).f,u=n(9297),c=n(679),l=n(3167),E=n(2603),f=n(5002),d=n(8574),g=n(3724),p=n(6395),y="DOMException",S=o("Error"),_=o(y),h=function(){c(this,m);var e=arguments.length,t=E(e<1?void 0:arguments[0]),n=E(e<2?void 0:arguments[1],"Error"),r=new _(t,n),i=new S(t);return i.name=y,a(r,"stack",s(1,d(i.stack,1))),l(r,this,h),r},m=h.prototype=_.prototype,T="stack"in new S(y),R="stack"in new _(1,2),A=_&&g&&Object.getOwnPropertyDescriptor(i,y),I=!(!A||A.writable&&A.configurable),v=T&&!I&&!R;r({global:!0,constructor:!0,forced:p||v},{DOMException:v?h:_});var C=o(y),D=C.prototype;if(D.constructor!==C)for(var b in p||a(D,"constructor",s(1,C)),f)if(u(f,b)){var w=f[b],M=w.s;u(C,M)||a(C,M,s(6,w.c))}},4603:function(e,t,n){var r=n(6840),i=n(9504),o=n(655),s=n(2812),a=URLSearchParams,u=a.prototype,c=i(u.append),l=i(u.delete),E=i(u.forEach),f=i([].push),d=new a("a=1&a=2&b=3");d.delete("a",1),d.delete("b",void 0),d+""!="a=2"&&r(u,"delete",(function(e){var t=arguments.length,n=t<2?void 0:arguments[1];if(t&&void 0===n)return l(this,e);var r=[];E(this,(function(e,t){f(r,{key:t,value:e})})),s(t,1);for(var i,a=o(e),u=o(n),d=0,g=0,p=!1,y=r.length;d<y;)i=r[d++],p||i.key===a?(p=!0,l(this,i.key)):g++;for(;g<y;)(i=r[g++]).key===a&&i.value===u||c(this,i.key,i.value)}),{enumerable:!0,unsafe:!0})},7566:function(e,t,n){var r=n(6840),i=n(9504),o=n(655),s=n(2812),a=URLSearchParams,u=a.prototype,c=i(u.getAll),l=i(u.has),E=new a("a=1");!E.has("a",2)&&E.has("a",void 0)||r(u,"has",(function(e){var t=arguments.length,n=t<2?void 0:arguments[1];if(t&&void 0===n)return l(this,e);var r=c(this,e);s(t,1);for(var i=o(n),a=0;a<r.length;)if(r[a++]===i)return!0;return!1}),{enumerable:!0,unsafe:!0})},8721:function(e,t,n){var r=n(3724),i=n(9504),o=n(2106),s=URLSearchParams.prototype,a=i(s.forEach);r&&!("size"in s)&&o(s,"size",{get:function(){var e=0;return a(this,(function(){e++})),e},configurable:!0,enumerable:!0})},7208:function(e,t,n){var r=n(6518),i=n(9565);r({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return i(URL.prototype.toString,this)}})},327:function(e,t,n){n.r(t),n(4114);const r=function(){let e,t=[];const n={},r={};function i(e,n){for(const r in t){const i=t[r];if(i.context===e&&i.name===n)return i.instance}return null}function o(e,t){return t[e]}function s(e,t,n){e in n&&(n[e]=t)}function a(t,n,r){let i;const o=t.__dashjs_factory_name,s=n[o];if(s){let o=s.instance;if(!s.override)return o.apply({context:n,factory:e},r);i=t.apply({context:n},r),o=o.apply({context:n,factory:e,parent:i},r);for(const e in o)i.hasOwnProperty(e)&&(i[e]=o[e])}else i=t.apply({context:n},r);return i.getClassName=function(){return o},i}return e={deleteSingletonInstances:function(e){t=t.filter((t=>t.context!==e))},extend:function(e,t,n,r){!r[e]&&t&&(r[e]={instance:t,override:n})},getClassFactory:function(e){let t=o(e.__dashjs_factory_name,r);return t||(t=function(t){return void 0===t&&(t={}),{create:function(){return a(e,t,arguments)}}},r[e.__dashjs_factory_name]=t),t},getClassFactoryByName:function(e){return o(e,r)},getSingletonFactory:function(e){let r=o(e.__dashjs_factory_name,n);return r||(r=function(n){let r;return void 0===n&&(n={}),{getInstance:function(){return r||(r=i(n,e.__dashjs_factory_name)),r||(r=a(e,n,arguments),t.push({name:e.__dashjs_factory_name,context:n,instance:r})),r}}},n[e.__dashjs_factory_name]=r),r},getSingletonFactoryByName:function(e){return o(e,n)},getSingletonInstance:i,setSingletonInstance:function(e,n,r){for(const i in t){const o=t[i];if(o.context===e&&o.name===n)return void(t[i].instance=r)}t.push({name:n,context:e,instance:r})},updateClassFactory:function(e,t){s(e,t,r)},updateSingletonFactory:function(e,t){s(e,t,n)}},e}();t.default=r},6632:function(e,t,n){n.r(t),n(4114),n(6573),n(8100),n(7936),n(8140),n(1903),n(1134),n(8845),n(373),n(7467),n(4732),n(9577),n(7208),n(4603),n(7566),n(8721);var r=n(6999),i=n(8672),o=n(5009);class s{static mixin(e,t,n){let r,i={};if(e)for(let o in t)t.hasOwnProperty(o)&&(r=t[o],o in e&&(e[o]===r||o in i&&i[o]===r)||("object"==typeof e[o]&&null!==e[o]?e[o]=s.mixin(e[o],r,n):e[o]=n(r)));return e}static clone(e){if(!e||"object"!=typeof e)return e;if(e instanceof RegExp)return new RegExp(e);let t;if(e instanceof Array){t=[];for(let n=0,r=e.length;n<r;++n)n in e&&t.push(s.clone(e[n]))}else t={};return s.mixin(t,e,s.clone)}static addAdditionalQueryParameterToUrl(e,t){try{if(!t||0===t.length)return e;let n=e;return t.forEach((({key:e,value:t})=>{const r=n.includes("?")?"&":"?";n+=`${r}${encodeURIComponent(e)}=${encodeURIComponent(t)}`})),n}catch(t){return e}}static removeQueryParameterFromUrl(e,t){if(!e||!t)return e;const n=new URL(e),r=new URLSearchParams(n.search);if(!r||0===r.size||!r.has(t))return e;r.delete(t);const i=Array.from(r.entries()).map((([e,t])=>`${e}=${t}`)).join("&"),o=`${n.origin}${n.pathname}`;return i?`${o}?${i}`:o}static parseHttpHeaders(e){let t={};if(!e)return t;let n=e.trim().split("\r\n");for(let e=0,r=n.length;e<r;e++){let r=n[e],i=r.indexOf(": ");i>0&&(t[r.substring(0,i)]=r.substring(i+2))}return t}static parseQueryParams(e){const t=[],n=new URLSearchParams(e);for(const[e,r]of n.entries())t.push({key:decodeURIComponent(e),value:decodeURIComponent(r)});return t}static generateUuid(){let e=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){const n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==t?n:3&n|8).toString(16)}))}static generateHashCode(e){let t=0;if(0===e.length)return t;for(let n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t|=0;return t}static getRelativeUrl(e,t){try{const n=new URL(e),i=new URL(t);if(n.protocol=i.protocol,n.origin!==i.origin)return t;let o=r.relative(n.pathname.substr(0,n.pathname.lastIndexOf("/")),i.pathname.substr(0,i.pathname.lastIndexOf("/")));const s=0===o.length?1:0;return o+=i.pathname.substr(i.pathname.lastIndexOf("/")+s,i.pathname.length-1),i.pathname.length<o.length?i.pathname:o}catch(e){return t}}static getHostFromUrl(e){try{return new URL(e).host}catch(e){return null}}static parseUserAgent(e=null){try{const t=null===e&&"undefined"!=typeof navigator?navigator.userAgent.toLowerCase():"";return(0,i.UAParser)(t)}catch(e){return{}}}static stringHasProtocol(e){return/(http(s?)):\/\//i.test(e)}static bufferSourceToDataView(e){return s.toDataView(e,DataView)}static bufferSourceToInt8(e){return s.toDataView(e,Uint8Array)}static uint8ArrayToString(e){return new TextDecoder("utf-8").decode(e)}static bufferSourceToHex(e){const t=s.bufferSourceToInt8(e);let n="";for(let e of t)e=e.toString(16),1===e.length&&(e="0"+e),n+=e;return n}static toDataView(e,t){const n=s.getArrayBuffer(e);let r=1;"BYTES_PER_ELEMENT"in DataView&&(r=DataView.BYTES_PER_ELEMENT);const i=((e.byteOffset||0)+e.byteLength)/r,o=(e.byteOffset||0)/r,a=Math.floor(Math.max(0,Math.min(o,i)));return new t(n,a,Math.floor(Math.min(a+Math.max(1/0,0),i))-a)}static getArrayBuffer(e){return e instanceof ArrayBuffer?e:e.buffer}static getCodecFamily(e){const{base:t,profile:n}=s._getCodecParts(e);switch(t){case"mp4a":switch(n){case"69":case"6b":case"40.34":return o.default.CODEC_FAMILIES.MP3;case"66":case"67":case"68":case"40.2":case"40.02":case"40.5":case"40.05":case"40.29":case"40.42":return o.default.CODEC_FAMILIES.AAC;case"a5":return o.default.CODEC_FAMILIES.AC3;case"e6":return o.default.CODEC_FAMILIES.EC3;case"b2":return o.default.CODEC_FAMILIES.DTSX;case"a9":return o.default.CODEC_FAMILIES.DTSC}break;case"avc1":case"avc3":return o.default.CODEC_FAMILIES.AVC;case"hvc1":case"hvc3":return o.default.CODEC_FAMILIES.HEVC;default:return t}return t}static _getCodecParts(e){const[t,...n]=e.split(".");return{base:t,profile:n.join(".")}}}t.default=s},1743:function(e,t,n){n.r(t),t.default=class{extend(e,t){if(!e)return;let n=!!t&&t.override,r=!!t&&t.publicOnly;for(const t in e)!e.hasOwnProperty(t)||this[t]&&!n||r&&-1===e[t].indexOf("public_")||(this[t]=e[t])}}},3991:function(e,t,n){n.r(t),t.default=class{extend(e,t){if(!e)return;let n=!!t&&t.override,r=!!t&&t.publicOnly;for(const t in e)!e.hasOwnProperty(t)||this[t]&&!n||r&&-1===e[t].indexOf("public_")||(this[t]=e[t])}}},4821:function(e,t,n){n.r(t),t.default={ACCESSIBILITY:"Accessibility",ADAPTATION_SET:"AdaptationSet",ADAPTATION_SETS:"adaptationSets",ADAPTATION_SET_SWITCHING_SCHEME_ID_URI:"urn:mpeg:dash:adaptation-set-switching:2016",ADD:"add",ASSET_IDENTIFIER:"AssetIdentifier",AUDIO_CHANNEL_CONFIGURATION:"AudioChannelConfiguration",AUDIO_SAMPLING_RATE:"audioSamplingRate",AVAILABILITY_END_TIME:"availabilityEndTime",AVAILABILITY_START_TIME:"availabilityStartTime",AVAILABILITY_TIME_COMPLETE:"availabilityTimeComplete",AVAILABILITY_TIME_OFFSET:"availabilityTimeOffset",BANDWITH:"bandwidth",BASE_URL:"BaseURL",BITSTREAM_SWITCHING:"BitstreamSwitching",BITSTREAM_SWITCHING_MINUS:"bitstreamSwitching",BYTE_RANGE:"byteRange",CAPTION:"caption",CENC_DEFAULT_KID:"cenc:default_KID",CLIENT_DATA_REPORTING:"ClientDataReporting",CLIENT_REQUIREMENT:"clientRequirement",CMCD_PARAMETERS:"CMCDParameters",CODECS:"codecs",CODEC_PRIVATE_DATA:"codecPrivateData",CODING_DEPENDENCY:"codingDependency",CONTENT_COMPONENT:"ContentComponent",CONTENT_PROTECTION:"ContentProtection",CONTENT_STEERING:"ContentSteering",CONTENT_STEERING_RESPONSE:{VERSION:"VERSION",TTL:"TTL",RELOAD_URI:"RELOAD-URI",PATHWAY_PRIORITY:"PATHWAY-PRIORITY",PATHWAY_CLONES:"PATHWAY-CLONES",BASE_ID:"BASE-ID",ID:"ID",URI_REPLACEMENT:"URI-REPLACEMENT",HOST:"HOST",PARAMS:"PARAMS"},CONTENT_TYPE:"contentType",DEFAULT_SERVICE_LOCATION:"defaultServiceLocation",DEPENDENCY_ID:"dependencyId",DURATION:"duration",DVB_PRIORITY:"dvb:priority",DVB_WEIGHT:"dvb:weight",DVB_URL:"dvb:url",DVB_MIMETYPE:"dvb:mimeType",DVB_FONTFAMILY:"dvb:fontFamily",DYNAMIC:"dynamic",END_NUMBER:"endNumber",ESSENTIAL_PROPERTY:"EssentialProperty",EVENT:"Event",EVENT_STREAM:"EventStream",FORCED_SUBTITLE:"forced-subtitle",FRAMERATE:"frameRate",FRAME_PACKING:"FramePacking",GROUP_LABEL:"GroupLabel",HEIGHT:"height",ID:"id",INBAND:"inband",INBAND_EVENT_STREAM:"InbandEventStream",INDEX:"index",INDEX_RANGE:"indexRange",INITIALIZATION:"Initialization",INITIALIZATION_MINUS:"initialization",LA_URL:"Laurl",LA_URL_LOWER_CASE:"laurl",LABEL:"Label",LANG:"lang",LOCATION:"Location",MAIN:"main",MAXIMUM_SAP_PERIOD:"maximumSAPPeriod",MAX_PLAYOUT_RATE:"maxPlayoutRate",MAX_SEGMENT_DURATION:"maxSegmentDuration",MAX_SUBSEGMENT_DURATION:"maxSubsegmentDuration",MEDIA:"media",MEDIA_PRESENTATION_DURATION:"mediaPresentationDuration",MEDIA_RANGE:"mediaRange",MEDIA_STREAM_STRUCTURE_ID:"mediaStreamStructureId",METRICS:"Metrics",METRICS_MINUS:"metrics",MIME_TYPE:"mimeType",MINIMUM_UPDATE_PERIOD:"minimumUpdatePeriod",MIN_BUFFER_TIME:"minBufferTime",MP4_PROTECTION_SCHEME:"urn:mpeg:dash:mp4protection:2011",MPD:"MPD",MPD_TYPE:"mpd",MPD_PATCH_TYPE:"mpdpatch",ORDER:"order",ORIGINAL_MPD_ID:"mpdId",ORIGINAL_PUBLISH_TIME:"originalPublishTime",PATCH_LOCATION:"PatchLocation",PERIOD:"Period",PRESELECTION:"Preselection",PRESELECTION_COMPONENTS:"preselectionComponents",PRESENTATION_TIME:"presentationTime",PRESENTATION_TIME_OFFSET:"presentationTimeOffset",PRO:"pro",PRODUCER_REFERENCE_TIME:"ProducerReferenceTime",PRODUCER_REFERENCE_TIME_TYPE:{ENCODER:"encoder",CAPTURED:"captured",APPLICATION:"application"},PROFILES:"profiles",PSSH:"pssh",PUBLISH_TIME:"publishTime",QUALITY_RANKING:"qualityRanking",QUERY_BEFORE_START:"queryBeforeStart",QUERY_PART:"$querypart$",RANGE:"range",RATING:"Rating",REF:"ref",REF_ID:"refId",REMOVE:"remove",REPLACE:"replace",REPORTING:"Reporting",REPRESENTATION:"Representation",REPRESENTATION_INDEX:"RepresentationIndex",ROBUSTNESS:"robustness",ROLE:"Role",S:"S",SAR:"sar",SCAN_TYPE:"scanType",SEGMENT_ALIGNMENT:"segmentAlignment",SEGMENT_BASE:"SegmentBase",SEGMENT_LIST:"SegmentList",SEGMENT_PROFILES:"segmentProfiles",SEGMENT_SEQUENCE_PROPERTIES:"SegmentSequenceProperties",SEGMENT_TEMPLATE:"SegmentTemplate",SEGMENT_TIMELINE:"SegmentTimeline",SEGMENT_TYPE:"segment",SEGMENT_URL:"SegmentURL",SERVICE_DESCRIPTION:"ServiceDescription",SERVICE_DESCRIPTION_LATENCY:"Latency",SERVICE_DESCRIPTION_OPERATING_BANDWIDTH:"OperatingBandwidth",SERVICE_DESCRIPTION_OPERATING_QUALITY:"OperatingQuality",SERVICE_DESCRIPTION_PLAYBACK_RATE:"PlaybackRate",SERVICE_DESCRIPTION_SCOPE:"Scope",SERVICE_LOCATION:"serviceLocation",SERVICE_LOCATIONS:"serviceLocations",SOURCE_URL:"sourceURL",START:"start",START_NUMBER:"startNumber",START_WITH_SAP:"startWithSAP",STATIC:"static",STEERING_TYPE:"steering",SUBSET:"Subset",SUBTITLE:"subtitle",SUB_REPRESENTATION:"SubRepresentation",SUB_SEGMENT_ALIGNMENT:"subsegmentAlignment",SUGGESTED_PRESENTATION_DELAY:"suggestedPresentationDelay",SUPPLEMENTAL_PROPERTY:"SupplementalProperty",SUPPLEMENTAL_CODECS:"scte214:supplementalCodecs",TAG:"tag",TIMESCALE:"timescale",TIMESHIFT_BUFFER_DEPTH:"timeShiftBufferDepth",TTL:"ttl",TYPE:"type",UTC_TIMING:"UTCTiming",VALUE:"value",VIEWPOINT:"Viewpoint",WALL_CLOCK_TIME:"wallClockTime",WIDTH:"width"}},5009:function(e,t,n){n.r(t),t.default={STREAM:"stream",VIDEO:"video",ENHANCEMENT:"enhancement",AUDIO:"audio",TEXT:"text",MUXED:"muxed",IMAGE:"image",STPP:"stpp",TTML:"ttml",VTT:"vtt",WVTT:"wvtt",CONTENT_STEERING:"contentSteering",LIVE_CATCHUP_MODE_DEFAULT:"liveCatchupModeDefault",LIVE_CATCHUP_MODE_LOLP:"liveCatchupModeLoLP",MOVING_AVERAGE_SLIDING_WINDOW:"slidingWindow",MOVING_AVERAGE_EWMA:"ewma",BAD_ARGUMENT_ERROR:"Invalid Arguments",MISSING_CONFIG_ERROR:"Missing config parameter(s)",TRACK_SWITCH_MODE_ALWAYS_REPLACE:"alwaysReplace",TRACK_SWITCH_MODE_NEVER_REPLACE:"neverReplace",TRACK_SELECTION_MODE_FIRST_TRACK:"firstTrack",TRACK_SELECTION_MODE_HIGHEST_BITRATE:"highestBitrate",TRACK_SELECTION_MODE_HIGHEST_EFFICIENCY:"highestEfficiency",TRACK_SELECTION_MODE_LOWEST_STARTUP_DELAY:"lowestStartupDelay",TRACK_SELECTION_MODE_WIDEST_RANGE:"widestRange",CMCD_QUERY_KEY:"CMCD",CMCD_MODE_QUERY:"query",CMCD_MODE_HEADER:"header",CMCD_AVAILABLE_KEYS:["br","d","ot","tb","bl","dl","mtp","nor","nrr","su","bs","rtp","cid","pr","sf","sid","st","v"],CMCD_V2_AVAILABLE_KEYS:["msd","ltc"],CMCD_AVAILABLE_REQUESTS:["segment","mpd","xlink","steering","other"],INITIALIZE:"initialize",TEXT_SHOWING:"showing",TEXT_HIDDEN:"hidden",TEXT_DISABLED:"disabled",ACCESSIBILITY_CEA608_SCHEME:"urn:scte:dash:cc:cea-608:2015",CC1:"CC1",CC3:"CC3",UTF8:"utf-8",SCHEME_ID_URI:"schemeIdUri",START_TIME:"starttime",SERVICE_DESCRIPTION_DVB_LL_SCHEME:"urn:dvb:dash:lowlatency:scope:2019",SUPPLEMENTAL_PROPERTY_DVB_LL_SCHEME:"urn:dvb:dash:lowlatency:critical:2019",CTA_5004_2023_SCHEME:"urn:mpeg:dash:cta-5004:2023",THUMBNAILS_SCHEME_ID_URIS:["http://dashif.org/thumbnail_tile","http://dashif.org/guidelines/thumbnail_tile"],FONT_DOWNLOAD_DVB_SCHEME:"urn:dvb:dash:fontdownload:2014",COLOUR_PRIMARIES_SCHEME_ID_URI:"urn:mpeg:mpegB:cicp:ColourPrimaries",URL_QUERY_INFO_SCHEME:"urn:mpeg:dash:urlparam:2014",EXT_URL_QUERY_INFO_SCHEME:"urn:mpeg:dash:urlparam:2016",MATRIX_COEFFICIENTS_SCHEME_ID_URI:"urn:mpeg:mpegB:cicp:MatrixCoefficients",TRANSFER_CHARACTERISTICS_SCHEME_ID_URI:"urn:mpeg:mpegB:cicp:TransferCharacteristics",SEGMENT_SEQUENCE_REPRESENTATION_SCHEME_ID_URI:"urn:mpeg:dash:ssr:2023",HDR_METADATA_FORMAT_SCHEME_ID_URI:"urn:dvb:dash:hdr-dmi",HDR_METADATA_FORMAT_VALUES:{ST2094_10:"ST2094-10",SL_HDR2:"SL-HDR2",ST2094_40:"ST2094-40"},MEDIA_CAPABILITIES_API:{COLORGAMUT:{SRGB:"srgb",P3:"p3",REC2020:"rec2020"},TRANSFERFUNCTION:{SRGB:"srgb",PQ:"pq",HLG:"hlg"},HDR_METADATATYPE:{SMPTE_ST_2094_10:"smpteSt2094-10",SLHDR2:"slhdr2",SMPTE_ST_2094_40:"smpteSt2094-40"}},XML:"XML",ARRAY_BUFFER:"ArrayBuffer",DVB_REPORTING_URL:"dvb:reportingUrl",DVB_PROBABILITY:"dvb:probability",OFF_MIMETYPE:"application/font-sfnt",WOFF_MIMETYPE:"application/font-woff",VIDEO_ELEMENT_READY_STATES:{HAVE_NOTHING:0,HAVE_METADATA:1,HAVE_CURRENT_DATA:2,HAVE_FUTURE_DATA:3,HAVE_ENOUGH_DATA:4},FILE_LOADER_TYPES:{FETCH:"fetch_loader",XHR:"xhr_loader"},THROUGHPUT_TYPES:{LATENCY:"throughput_type_latency",BANDWIDTH:"throughput_type_bandwidth"},THROUGHPUT_CALCULATION_MODES:{EWMA:"throughputCalculationModeEwma",ZLEMA:"throughputCalculationModeZlema",ARITHMETIC_MEAN:"throughputCalculationModeArithmeticMean",BYTE_SIZE_WEIGHTED_ARITHMETIC_MEAN:"throughputCalculationModeByteSizeWeightedArithmeticMean",DATE_WEIGHTED_ARITHMETIC_MEAN:"throughputCalculationModeDateWeightedArithmeticMean",HARMONIC_MEAN:"throughputCalculationModeHarmonicMean",BYTE_SIZE_WEIGHTED_HARMONIC_MEAN:"throughputCalculationModeByteSizeWeightedHarmonicMean",DATE_WEIGHTED_HARMONIC_MEAN:"throughputCalculationModeDateWeightedHarmonicMean"},LOW_LATENCY_DOWNLOAD_TIME_CALCULATION_MODE:{MOOF_PARSING:"lowLatencyDownloadTimeCalculationModeMoofParsing",DOWNLOADED_DATA:"lowLatencyDownloadTimeCalculationModeDownloadedData",AAST:"lowLatencyDownloadTimeCalculationModeAast"},RULES_TYPES:{QUALITY_SWITCH_RULES:"qualitySwitchRules",ABANDON_FRAGMENT_RULES:"abandonFragmentRules"},QUALITY_SWITCH_RULES:{BOLA_RULE:"BolaRule",THROUGHPUT_RULE:"ThroughputRule",INSUFFICIENT_BUFFER_RULE:"InsufficientBufferRule",SWITCH_HISTORY_RULE:"SwitchHistoryRule",DROPPED_FRAMES_RULE:"DroppedFramesRule",LEARN_TO_ADAPT_RULE:"L2ARule",LOL_PLUS_RULE:"LoLPRule"},ABANDON_FRAGMENT_RULES:{ABANDON_REQUEST_RULE:"AbandonRequestsRule"},ID3_SCHEME_ID_URI:"https://aomedia.org/emsg/ID3",COMMON_ACCESS_TOKEN_HEADER:"common-access-token",DASH_ROLE_SCHEME_ID:"urn:mpeg:dash:role:2011",CODEC_FAMILIES:{MP3:"mp3",AAC:"aac",AC3:"ac3",EC3:"ec3",DTSX:"dtsx",DTSC:"dtsc",AVC:"avc",HEVC:"hevc"}}},7324:function(e,t,n){n.r(t),t.default={CLEARKEY_KEYSTEM_STRING:"org.w3.clearkey",WIDEVINE_KEYSTEM_STRING:"com.widevine.alpha",PLAYREADY_KEYSTEM_STRING:"com.microsoft.playready",PLAYREADY_RECOMMENDATION_KEYSTEM_STRING:"com.microsoft.playready.recommendation",WIDEVINE_UUID:"edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",PLAYREADY_UUID:"9a04f079-9840-4286-ab92-e65be0885f95",CLEARKEY_UUID:"e2719d58-a985-b3c9-781a-b030af78d30e",W3C_CLEARKEY_UUID:"1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",INITIALIZATION_DATA_TYPE_CENC:"cenc",INITIALIZATION_DATA_TYPE_KEYIDS:"keyids",INITIALIZATION_DATA_TYPE_WEBM:"webm",ENCRYPTION_SCHEME_CENC:"cenc",ENCRYPTION_SCHEME_CBCS:"cbcs",MEDIA_KEY_MESSAGE_TYPES:{LICENSE_REQUEST:"license-request",LICENSE_RENEWAL:"license-renewal",LICENSE_RELEASE:"license-release",INDIVIDUALIZATION_REQUEST:"individualization-request"},ROBUSTNESS_STRINGS:{WIDEVINE:{SW_SECURE_CRYPTO:"SW_SECURE_CRYPTO",SW_SECURE_DECODE:"SW_SECURE_DECODE",HW_SECURE_CRYPTO:"HW_SECURE_CRYPTO",HW_SECURE_DECODE:"HW_SECURE_DECODE",HW_SECURE_ALL:"HW_SECURE_ALL"}},MEDIA_KEY_STATUSES:{USABLE:"usable",EXPIRED:"expired",RELEASED:"released",OUTPUT_RESTRICTED:"output-restricted",OUTPUT_DOWNSCALED:"output-downscaled",STATUS_PENDING:"status-pending",INTERNAL_ERROR:"internal-error"}}},4592:function(e,t,n){n.r(t);var r=n(3991);class i extends r.default{constructor(){super(),this.INTERNAL_KEY_MESSAGE="internalKeyMessage",this.INTERNAL_KEY_STATUSES_CHANGED="internalkeyStatusesChanged",this.KEY_ADDED="public_keyAdded",this.KEY_ERROR="public_keyError",this.KEY_MESSAGE="public_keyMessage",this.KEY_SESSION_CLOSED="public_keySessionClosed",this.KEY_SESSION_CREATED="public_keySessionCreated",this.KEY_SESSION_REMOVED="public_keySessionRemoved",this.KEY_STATUSES_CHANGED="public_keyStatusesChanged",this.KEY_STATUSES_MAP_UPDATED="keyStatusesMapUpdated",this.KEY_SYSTEM_ACCESS_COMPLETE="public_keySystemAccessComplete",this.KEY_SYSTEM_SELECTED="public_keySystemSelected",this.LICENSE_REQUEST_COMPLETE="public_licenseRequestComplete",this.LICENSE_REQUEST_SENDING="public_licenseRequestSending",this.NEED_KEY="needkey",this.PROTECTION_CREATED="public_protectioncreated",this.PROTECTION_DESTROYED="public_protectiondestroyed",this.SERVER_CERTIFICATE_UPDATED="serverCertificateUpdated",this.TEARDOWN_COMPLETE="protectionTeardownComplete",this.VIDEO_ELEMENT_SELECTED="videoElementSelected",this.KEY_SESSION_UPDATED="public_keySessionUpdated"}}let o=new i;t.default=o},5028:function(e,t,n){n.r(t);var r=n(1743);class i extends r.default{constructor(){super(),this.MEDIA_KEYERR_CODE=100,this.MEDIA_KEYERR_UNKNOWN_CODE=101,this.MEDIA_KEYERR_CLIENT_CODE=102,this.MEDIA_KEYERR_SERVICE_CODE=103,this.MEDIA_KEYERR_OUTPUT_CODE=104,this.MEDIA_KEYERR_HARDWARECHANGE_CODE=105,this.MEDIA_KEYERR_DOMAIN_CODE=106,this.MEDIA_KEY_MESSAGE_ERROR_CODE=107,this.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_CODE=108,this.SERVER_CERTIFICATE_UPDATED_ERROR_CODE=109,this.KEY_STATUS_CHANGED_EXPIRED_ERROR_CODE=110,this.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_CODE=111,this.KEY_SYSTEM_ACCESS_DENIED_ERROR_CODE=112,this.KEY_SESSION_CREATED_ERROR_CODE=113,this.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE=114,this.MEDIA_KEYERR_UNKNOWN_MESSAGE="An unspecified error occurred. This value is used for errors that don't match any of the other codes.",this.MEDIA_KEYERR_CLIENT_MESSAGE="The Key System could not be installed or updated.",this.MEDIA_KEYERR_SERVICE_MESSAGE="The message passed into update indicated an error from the license service.",this.MEDIA_KEYERR_OUTPUT_MESSAGE="There is no available output device with the required characteristics for the content protection system.",this.MEDIA_KEYERR_HARDWARECHANGE_MESSAGE="A hardware configuration change caused a content protection error.",this.MEDIA_KEYERR_DOMAIN_MESSAGE="An error occurred in a multi-device domain licensing configuration. The most common error is a failure to join the domain.",this.MEDIA_KEY_MESSAGE_ERROR_MESSAGE="Multiple key sessions were creates with a user-agent that does not support sessionIDs!! Unpredictable behavior ahead!",this.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_MESSAGE="DRM: Empty key message from CDM",this.SERVER_CERTIFICATE_UPDATED_ERROR_MESSAGE="Error updating server certificate -- ",this.KEY_STATUS_CHANGED_EXPIRED_ERROR_MESSAGE="DRM: KeyStatusChange error! -- License has expired",this.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_MESSAGE="DRM: No license server URL specified!",this.KEY_SYSTEM_ACCESS_DENIED_ERROR_MESSAGE="DRM: KeySystem Access Denied! -- ",this.KEY_SESSION_CREATED_ERROR_MESSAGE="DRM: unable to create session! --",this.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE="DRM: licenser error! --"}}let o=new i;t.default=o},9355:function(e,t,n){n.r(t),t.default=class{constructor(e,t,n){this.code=e||null,this.message=t||null,this.data=n||null}}},1451:function(e,t,n){n.r(t),n.d(t,{HTTPRequest:function(){return r},HTTPRequestTrace:function(){return i}});class r{constructor(){this.tcpid=null,this.type=null,this.url=null,this.actualurl=null,this.range=null,this.trequest=null,this.tresponse=null,this.responsecode=null,this.interval=null,this.trace=[],this.cmsd=null,this._stream=null,this._tfinish=null,this._mediaduration=null,this._responseHeaders=null,this._serviceLocation=null,this._fileLoaderType=null,this._resourceTimingValues=null}}class i{constructor(){this.s=null,this.d=null,this.b=[]}}r.GET="GET",r.HEAD="HEAD",r.MPD_TYPE="MPD",r.XLINK_EXPANSION_TYPE="XLinkExpansion",r.INIT_SEGMENT_TYPE="InitializationSegment",r.INDEX_SEGMENT_TYPE="IndexSegment",r.MEDIA_SEGMENT_TYPE="MediaSegment",r.BITSTREAM_SWITCHING_SEGMENT_TYPE="BitstreamSwitchingSegment",r.MSS_FRAGMENT_INFO_SEGMENT_TYPE="FragmentInfoSegment",r.DVB_REPORTING_TYPE="DVBReporting",r.LICENSE="license",r.CONTENT_STEERING_TYPE="ContentSteering",r.OTHER_TYPE="other"}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}n.amdO={},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};n.r(r),n.d(r,{default:function(){return pe}}),n(6280),n(4114),n(2712),n(6910),n(6573),n(8100),n(7936),n(3110),n(8140),n(1903),n(1134),n(8845),n(373),n(7467),n(4732),n(9577);var i=n(4821),o=n(7324);const s={prefixes:["clearkey","dashif","ck"]};class a{static findMp4ProtectionElement(e){let t=null;for(let n=0;n<e.length;++n){let r=e[n];r.schemeIdUri&&r.schemeIdUri.toLowerCase()===i.default.MP4_PROTECTION_SCHEME&&r.value&&(r.value.toLowerCase()===o.default.ENCRYPTION_SCHEME_CENC||r.value.toLowerCase()===o.default.ENCRYPTION_SCHEME_CBCS)&&(t=r)}return t}static getPSSHData(e){let t=8,n=new DataView(e),r=n.getUint8(t);return t+=20,r>0&&(t+=4+16*n.getUint32(t)),t+=4,e.slice(t)}static getPSSHForKeySystem(e,t){let n=a.parsePSSHList(t);return e&&n.hasOwnProperty(e.uuid.toLowerCase())?n[e.uuid.toLowerCase()]:null}static parseInitDataFromContentProtection(e,t){return"pssh"in e&&e.pssh?(e.pssh.__text=e.pssh.__text.replace(/\r?\n|\r/g,"").replace(/\s+/g,""),t.decodeArray(e.pssh.__text).buffer):null}static parsePSSHList(e){if(null==e)return[];let t=new DataView(e.buffer||e),n={},r=0;for(;;){let e,i,o,s,a,u,c=r;if(r>=t.buffer.byteLength)break;if(e=t.getUint32(r),i=r+e,r+=4,1886614376===t.getUint32(r))if(r+=4,o=t.getUint8(r),0===o||1===o){for(r++,r+=3,s="",a=0;a<4;a++)u=t.getUint8(r+a).toString(16),s+=1===u.length?"0"+u:u;for(r+=4,s+="-",a=0;a<2;a++)u=t.getUint8(r+a).toString(16),s+=1===u.length?"0"+u:u;for(r+=2,s+="-",a=0;a<2;a++)u=t.getUint8(r+a).toString(16),s+=1===u.length?"0"+u:u;for(r+=2,s+="-",a=0;a<2;a++)u=t.getUint8(r+a).toString(16),s+=1===u.length?"0"+u:u;for(r+=2,s+="-",a=0;a<6;a++)u=t.getUint8(r+a).toString(16),s+=1===u.length?"0"+u:u;r+=6,s=s.toLowerCase(),r+=4,n[s]=t.buffer.slice(c,i),r=i}else r=i;else r=i}return n}static getLicenseServerUrlFromMediaInfo(e,t){try{if(!e||0===e.length)return null;let n=0,r=null;for(;n<e.length&&!r;){const i=e[n];if(i&&i.contentProtection&&i.contentProtection.length>0){const e=i.contentProtection.filter((e=>e.schemeIdUri&&e.schemeIdUri===t));if(e&&e.length>0){let t=0;for(;t<e.length&&!r;){const n=e[t];n.laUrl&&n.laUrl.__prefix&&s.prefixes.includes(n.laUrl.__prefix)&&n.laUrl.__text&&(r=n.laUrl.__text),t+=1}}}n+=1}return r}catch(e){return null}}static hexKidToBufferSource(e){const t=e.replace(/-/g,"");return new Uint8Array(t.match(/[\da-f]{2}/gi).map((function(e){return parseInt(e,16)}))).buffer}}var u=a,c=class{constructor(e,t){this.contentType=e,this.robustness=t}},l=class{constructor(e,t,n,r,i,s){this.initDataTypes=s&&s.length>0?s:[o.default.INITIALIZATION_DATA_TYPE_CENC],e&&e.length&&(this.audioCapabilities=e),t&&t.length&&(this.videoCapabilities=t),this.distinctiveIdentifier=n,this.persistentState=r,this.sessionTypes=i}},E=n(5028),f=n(9355),d=class{constructor(e,t,n,r,i,o,s,a){this.url=e,this.method=t,this.responseType=n,this.headers=r,this.withCredentials=i,this.messageType=o,this.sessionId=s,this.data=a}},g=class{constructor(e,t,n){this.url=e,this.headers=t,this.data=n}},p=n(1451),y=n(6632),S=n(5009),_=n(327);function h(e){const t=(e=e||{}).BASE64,n=e.cmcdModel,r=e.constants,i=e.customParametersModel,s=e.debug,a=e.eventBus,_=e.events,h=e.protectionKeyController,m=e.settings;let T,R,A,I,v,C,D,b,w,M,O,N,L=e.protectionModel,P=[];function U(){if(!(a&&a.hasOwnProperty("on")&&h&&h.hasOwnProperty("getSupportedKeySystemMetadataFromContentProtection")))throw new Error("Missing config parameter(s)")}function k(e,n){O||I?O&&K():function(e,n){if(I)return;var r;I=!0;const i=function(e){const t=[];for(let n=0;n<e.length;n++){const r=x(e[n]);t.push({ks:e[n].ks,configs:[r],protData:e[n].protData})}return t}(e=(r=e).sort(((e,t)=>(T&&T[e.ks.systemString]&&T[e.ks.systemString].priority>=0?T[e.ks.systemString].priority:r.length)-(T&&T[t.ks.systemString]&&T[t.ks.systemString].priority>=0?T[t.ks.systemString].priority:r.length))));let o;L.requestKeySystemAccess(i).then((e=>(o=e.data,function(e){let t=e&&e.selectedSystemString?e.selectedSystemString:e.keySystem.systemString;return D.info("DRM: KeySystem Access Granted for system string ("+t+")!  Selecting key system..."),L.selectKeySystem(e)}(o)))).then((e=>{!function(e,n){try{O=e,I=!1,a.trigger(_.KEY_SYSTEM_SELECTED,{data:n});const r=B(O);r&&r.serverCertificate&&r.serverCertificate.length>0&&L.setServerCertificate(t.decodeArray(r.serverCertificate).buffer),K()}catch(e){D.error(e)}}(e,o)})).catch((e=>{!function(e,t){O=null,I=!1,t||a.trigger(_.KEY_SYSTEM_SELECTED,{data:null,error:new f.default(E.default.KEY_SYSTEM_ACCESS_DENIED_ERROR_CODE,E.default.KEY_SYSTEM_ACCESS_DENIED_ERROR_MESSAGE+"Error selecting key system! -- "+e.error)})}(e,n)}))}(e,n)}function K(){let e;for(let n=0;n<w.length;n++)for(e=0;e<w[n].length;e++)if(O===w[n][e].ks){t=w[n][e],h.isClearKey(O)&&function(e){if(e.protData&&e.protData.hasOwnProperty("clearkeys")&&0!==Object.keys(e.protData.clearkeys).length){const t={kids:Object.keys(e.protData.clearkeys)};e.initData=(new TextEncoder).encode(JSON.stringify(t))}}(t),t.sessionId?Y(t):null!==t.initData&&G(t);break}var t;w=[]}function x(e){const t=e.protData,n=[],i=[],s=t&&t.initDataTypes&&t.initDataTypes.length>0?t.initDataTypes:[o.default.INITIALIZATION_DATA_TYPE_CENC],a=t&&t.audioRobustness&&t.audioRobustness.length>0?t.audioRobustness:M,u=t&&t.videoRobustness&&t.videoRobustness.length>0?t.videoRobustness:M,E=e.sessionType,f=t&&t.distinctiveIdentifier?t.distinctiveIdentifier:"optional",d=t&&t.persistentState?t.persistentState:"temporary"===E?"optional":"required";return b.forEach((e=>{e.type===r.AUDIO?n.push(new c(e.codec,a)):e.type===r.VIDEO&&i.push(new c(e.codec,u))})),new l(n,i,f,d,[E],s)}function Y(e){U(),L.loadKeySession(e)}function G(e){if(e&&function(e){if(!e)return!1;try{const t=L.getSessionTokens();for(let n=0;n<t.length;n++)if(t[n].getKeyId()===e)return!0;return!1}catch(e){return!1}}(e.keyId))return;!function(){if(!m)return;const e=m.get().streaming.protection.keepProtectionMediaKeys,t=m.get().streaming.protection.keepProtectionMediaKeysMaximumOpenSessions;if("number"!=typeof t||t<=0)return;if(!e)return void D.warn("DRM: keepProtectionMediaKeysMaximumOpenSessions is set to "+t+", but keepProtectionMediaKeys is not enabled. Therefore, keepProtectionMediaKeysMaximumOpenSessions will be ignored.");if(!L||"function"!=typeof L.getSessionTokens)return;const n=L.getSessionTokens()||[];if(n.length<t)return;const r=n[0];r&&(D.info("DRM: Maximum number of open MediaKeySessions reached ("+t+"), closing oldest session."),H(r))}();const t=u.getPSSHForKeySystem(O,e?e.initData:null);if(t){if(F(t))return;try{e.initData=t,L.createKeySession(e)}catch(e){a.trigger(_.KEY_SESSION_CREATED,{data:null,error:new f.default(E.default.KEY_SESSION_CREATED_ERROR_CODE,E.default.KEY_SESSION_CREATED_ERROR_MESSAGE+e.message)})}}else e&&e.initData?L.createKeySession(e):a.trigger(_.KEY_SESSION_CREATED,{data:null,error:new f.default(E.default.KEY_SESSION_CREATED_ERROR_CODE,E.default.KEY_SESSION_CREATED_ERROR_MESSAGE+"Selected key system is "+(O?O.systemString:null)+".  needkey/encrypted event contains no initData corresponding to that key system!")})}function B(e){if(e){const t=e.systemString;if(T)return t in T?T[t]:null}return null}function F(e){if(!e)return!1;try{const t=L.getAllInitData();for(let n=0;n<t.length;n++)if(h.initDataEquals(e,t[n]))return D.debug("DRM: Ignoring initData because we have already seen it!"),!0;return!1}catch(e){return!1}}function H(e){U(),L.closeKeySession(e)}function V(e){U(),e?(L.setMediaElement(e),a.on(_.NEED_KEY,$,R)):null===e&&(L.setMediaElement(e),a.off(_.NEED_KEY,$,R))}function j(e){D.debug("DRM: onKeyMessage");const t=e.data;a.trigger(_.KEY_MESSAGE,{data:t});const n=t.messageType?t.messageType:o.default.MEDIA_KEY_MESSAGE_TYPES.LICENSE_REQUEST,r=t.message,s=t.sessionToken,c=B(O),l=h.getLicenseServerModelInstance(O,c,n),S={sessionToken:s,messageType:n};if(r&&0!==r.byteLength){if(!l)return D.debug("DRM: License server request not required for this message (type = "+e.data.messageType+").  Session ID = "+s.getSessionId()),void W(S);if(h.isClearKey(O)){const e=h.processClearKeyLicenseRequest(O,c,r);if(e&&e.keyPairs&&e.keyPairs.length>0)return D.debug("DRM: ClearKey license request handled by application!"),W(S),void L.updateKeySession(s,e)}!function(e,t,n){const r=e.sessionToken,s=e.messageType?e.messageType:o.default.MEDIA_KEY_MESSAGE_TYPES.LICENSE_REQUEST,a={sessionToken:r,messageType:s},c=O?O.systemString:null;let l=function(e,t,n,r,i){let o=null;const s=r.message;if(e&&e.serverURL){const n=e.serverURL;"string"==typeof n&&""!==n?o=n:"object"==typeof n&&n.hasOwnProperty(t)&&(o=n[t])}else if(e&&e.laURL&&""!==e.laURL)o=e.laURL;else if(o=u.getLicenseServerUrlFromMediaInfo(b,O.schemeIdURI),!o&&!h.isClearKey(O)){const e=u.getPSSHData(n.initData);o=O.getLicenseServerURLFromInitData(e),o||(o=r.laURL)}return o=i.getServerURLFromMessage(o,s,t),o}(n,s,r,e,t);if(!l)return void W(a,new f.default(E.default.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_CODE,E.default.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_MESSAGE));const S={};let _=!1;n&&X(S,n.httpRequestHeaders);const T=e.message;X(S,O.getRequestHeadersFromMessage(T)),Object.keys(S).forEach((e=>{"authorization"===e.toLowerCase()&&(_=!0)})),n&&"boolean"==typeof n.withCredentials&&(_=n.withCredentials);const R=function(e){if(L)if(e.status>=200&&e.status<=299){const n=y.default.parseHttpHeaders(e.getAllResponseHeaders?e.getAllResponseHeaders():null);let o=new g(e.responseURL,n,e.response);Z(i.getLicenseResponseFilters(),o).then((()=>{const n=t.getLicenseMessage(o.data,c,s);null!==n?(W(a),L.updateKeySession(r,n)):Q(e,a,c,s,t)}))}else Q(e,a,c,s,t)},A=function(e){W(a,new f.default(E.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE,E.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE+c+' update, XHR aborted. status is "'+e.statusText+'" ('+e.status+"), readyState is "+e.readyState))},I=function(e){W(a,new f.default(E.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE,E.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE+c+' update, XHR error. status is "'+e.statusText+'" ('+e.status+"), readyState is "+e.readyState))},v=O.getLicenseRequestFromMessage(T),C=t.getHTTPMethod(s),D=t.getResponseType(c,s),w=n&&!isNaN(n.httpTimeout)?n.httpTimeout:8e3,M=r.getSessionId()||null;let N=new d(l,C,D,S,_,s,M,v);const P=isNaN(m.get().streaming.retryAttempts[p.HTTPRequest.LICENSE])?3:m.get().streaming.retryAttempts[p.HTTPRequest.LICENSE];Z(i.getLicenseRequestFilters(),N).then((()=>{q(N,P,w,R,A,I)}))}(t,l,c)}else W(S,new f.default(E.default.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_CODE,E.default.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_MESSAGE))}function W(e,t=null){a.trigger(_.LICENSE_REQUEST_COMPLETE,{data:e,error:t})}function q(e,t,r,i,o,s){const u=new XMLHttpRequest,c=n.getCmcdParametersFromManifest();if(n.isCmcdEnabled()&&(c.mode?c.mode:m.get().streaming.cmcd.mode)===S.default.CMCD_MODE_QUERY){const t=n.getQueryParameter({url:e.url,type:p.HTTPRequest.LICENSE});t&&(e.url=y.default.addAdditionalQueryParameterToUrl(e.url,[t]))}u.open(e.method,e.url,!0),u.responseType=e.responseType,u.withCredentials=e.withCredentials,r>0&&(u.timeout=r);for(const t in e.headers)u.setRequestHeader(t,e.headers[t]);if(n.isCmcdEnabled()&&(c.mode?c.mode:m.get().streaming.cmcd.mode)===S.default.CMCD_MODE_HEADER){const t=n.getHeaderParameters({url:e.url,type:p.HTTPRequest.LICENSE});if(t)for(const e in t){let n=t[e];n&&u.setRequestHeader(e,n)}}const l=function(){t--;const n=isNaN(m.get().streaming.retryIntervals[p.HTTPRequest.LICENSE])?1e3:m.get().streaming.retryIntervals[p.HTTPRequest.LICENSE];v=setTimeout((function(){q(e,t,r,i,o,s)}),n)};u.onload=function(){C=null,this.status>=200&&this.status<=299||t<=0?i(this):(D.warn("License request failed ("+this.status+"). Retrying it... Pending retries: "+t),l())},u.ontimeout=u.onerror=function(){C=null,t<=0?s(this):(D.warn("License request network request failed . Retrying it... Pending retries: "+t),l())},u.onabort=function(){o(this)},a.trigger(_.LICENSE_REQUEST_SENDING,{url:e.url,headers:e.headers,payload:e.data,sessionId:e.sessionId}),C=u,u.send(e.data)}function z(){C&&(C.onloadend=C.onerror=C.onprogress=void 0,C.abort(),C=null),v&&(clearTimeout(v),v=null)}function X(e,t){if(t)for(const n in t)e[n]=t[n]}function Q(e,t,n,r,i){let o="NONE",s=null;e.response&&(o=i.getErrorResponse(e.response,n,r),s={serverResponse:e.response||null,responseCode:e.status||null,responseText:e.statusText||null}),W(t,new f.default(E.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE,E.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE+n+' update, XHR complete. status is "'+e.statusText+'" ('+e.status+"), readyState is "+e.readyState+".  Response is "+o,s))}function Z(e,t){return e?e.reduce(((e,n)=>e.then((()=>n(t)))),Promise.resolve()):Promise.resolve()}function $(e,t){if(m.get().streaming.protection.ignoreEmeEncryptedEvent)return;if(D.debug("DRM: onNeedKey"),e.key.initDataType!==o.default.INITIALIZATION_DATA_TYPE_CENC)return void D.warn("DRM:  Only 'cenc' initData is supported!  Ignoring initData of type: "+e.key.initDataType);if(0===b.length&&(D.warn("DRM: onNeedKey called before initializeForMedia, wait until initialized"),(t=void 0===t?1:t+1)<5))return void P.push(setTimeout((()=>{$(e,t)}),500));let n=e.key.initData;if(ArrayBuffer.isView(n)&&(n=n.buffer),O){const e=u.getPSSHForKeySystem(O,n);if(e&&F(e))return}D.debug("DRM: initData:",String.fromCharCode.apply(null,new Uint8Array(n)));const r=h.getSupportedKeySystemMetadataFromSegmentPssh(n,T,N);0!==r.length?function(e){w.push(e),k(e,!1)}(r):D.debug("DRM: Received needkey event with initData, but we don't support any of the key systems!")}function J(e,t){if(e.size<=0)return!1;if(t.size>0&&[...e].every((e=>{const n=t.get(e);return void 0!==n&&""!==n})))return!0;const n=L.getSessionTokens();if(n&&n.length>0){const t=n.filter((t=>[...e].includes(t.normalizedKeyId)));if(t.some((e=>!e.hasTriggeredKeyStatusMapUpdate))||0===t.length)return!1}return!m.get().streaming.protection.ignoreKeyStatuses&&e&&e.size>0&&t&&t.size>0}return R={areKeyIdsExpired:function(e){try{return!!J(e,A)&&[...e].every((e=>A.get(e)===o.default.MEDIA_KEY_STATUSES.EXPIRED))}catch(e){return D.error(e),!1}},areKeyIdsUsable:function(e){try{return!J(e,A)||[...e].some((e=>{const t=A.get(e);return t&&t!==o.default.MEDIA_KEY_STATUSES.INTERNAL_ERROR&&t!==o.default.MEDIA_KEY_STATUSES.OUTPUT_RESTRICTED}))}catch(e){return D.error(e),!0}},clearMediaInfoArray:function(){b=[]},closeKeySession:H,createKeySession:G,getKeySystems:function(){return h?h.getKeySystems():[]},getSupportedKeySystemMetadataFromContentProtection:function(e){return U(),h.getSupportedKeySystemMetadataFromContentProtection(e,T,N)},handleKeySystemFromManifest:function(){if(!b||0===b.length)return;let e=[];b.forEach((t=>{const n=h.getSupportedKeySystemMetadataFromContentProtection(t.contentProtection,T,N);n.length>0&&(0===e.length&&(e=n),w.push(n))})),e&&e.length>0&&k(e,!0)},initializeForMedia:function(e){if(!e)throw new Error("mediaInfo can not be null or undefined");U(),b.push(e)},loadKeySession:Y,removeKeySession:function(e){U(),L.removeKeySession(e)},reset:function(){a.off(_.INTERNAL_KEY_MESSAGE,j,R),U(),z(),V(null),O=null,I=!1,A=new Map,L&&(L.reset(),L=null),P.forEach((e=>clearTimeout(e))),P=[],b=[],w=[]},setKeySystems:function(e){h&&h.setKeySystems(e)},setMediaElement:V,setProtectionData:function(e){T=e,h.setProtectionData(e)},setRobustnessLevel:function(e){M=e},setServerCertificate:function(e){return U(),L.setServerCertificate(e)},setSessionType:function(e){N=e},stop:function(){z(),L&&L.stop()},updateKeyStatusesMap:function(e){try{if(!e||!e.sessionToken||!e.parsedKeyStatuses)return;e.sessionToken.hasTriggeredKeyStatusMapUpdate=!0;const t=e.parsedKeyStatuses,n=y.default.parseUserAgent(),r=n&&n.browser&&n.browser.name&&"edge"===n.browser.name.toLowerCase();t.forEach((e=>{r&&O.uuid===o.default.PLAYREADY_UUID&&e.keyId&&16===e.keyId.byteLength&&function(e){const t=y.default.bufferSourceToDataView(e),n=t.getUint32(0,!0),r=t.getUint16(4,!0),i=t.getUint16(6,!0);t.setUint32(0,n,!1),t.setUint16(4,r,!1),t.setUint16(6,i,!1)}(e.keyId);const t=y.default.bufferSourceToHex(e.keyId).slice(0,32);t&&""!==t&&A.set(t,e.status)})),a.trigger(_.KEY_STATUSES_MAP_UPDATED,{keyStatusMap:A})}catch(e){D.error(e)}}},D=s.getLogger(R),w=[],b=[],N="temporary",M="",C=null,v=null,A=new Map,a.on(_.INTERNAL_KEY_MESSAGE,j,R),R}h.__dashjs_factory_name="ProtectionController";var m=_.default.getClassFactory(h);n(3609),n(4979);var T=class{constructor(e,t){this.keyID=e,this.key=t}},R=class{constructor(e,t){if(t&&"persistent"!==t&&"temporary"!==t)throw new Error("Invalid ClearKey key set type!  Must be one of 'persistent' or 'temporary'");this.keyPairs=e,this.type=t}toJWK(){let e,t=this.keyPairs.length,n={keys:[]};for(e=0;e<t;e++){let t={kty:"oct",alg:"A128KW",kid:this.keyPairs[e].keyID,k:this.keyPairs[e].key};n.keys.push(t)}this.type&&(n.type=this.type);let r=JSON.stringify(n);const i=r.length;let o=new ArrayBuffer(i),s=new Uint8Array(o);for(e=0;e<i;e++)s[e]=r.charCodeAt(e);return o}};const A=o.default.CLEARKEY_UUID,I=o.default.CLEARKEY_KEYSTEM_STRING,v="urn:uuid:"+A;function C(e){let t;const n=(e=e||{}).BASE64;return t={uuid:A,schemeIdURI:v,systemString:I,getInitData:function(e,t){try{let r=u.parseInitDataFromContentProtection(e,n);if(!r&&t){const e={kids:[function(e){try{let t=e.replace(/-/g,"");return t=btoa(t.match(/\w{2}/g).map((e=>String.fromCharCode(parseInt(e,16)))).join("")),t.replace(/=/g,"").replace(/\//g,"_").replace(/\+/g,"-")}catch(e){return null}}(t.cencDefaultKid)]};r=(new TextEncoder).encode(JSON.stringify(e))}return r}catch(e){return null}},getRequestHeadersFromMessage:function(){return{"Content-Type":"application/json"}},getLicenseRequestFromMessage:function(e){return JSON.stringify(JSON.parse(String.fromCharCode.apply(null,new Uint8Array(e))))},getLicenseServerURLFromInitData:function(){return null},getCDMData:function(){return null},getClearKeysFromProtectionData:function(e,t){let n=null;if(e){const r=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(t))),i=[];for(let t=0;t<r.kids.length;t++){const n=r.kids[t],o=e.clearkeys&&e.clearkeys.hasOwnProperty(n)?e.clearkeys[n]:null;if(!o)throw new Error("DRM: ClearKey keyID ("+n+") is not known!");i.push(new T(n,o))}n=new R(i)}return n}},t}C.__dashjs_factory_name="KeySystemClearKey";var D=_.default.getSingletonFactory(C);const b=o.default.W3C_CLEARKEY_UUID,w=o.default.CLEARKEY_KEYSTEM_STRING,M="urn:uuid:"+b;function O(e){let t;const n=e.BASE64,r=e.debug.getLogger(t);return t={uuid:b,schemeIdURI:M,systemString:w,getInitData:function(e){return u.parseInitDataFromContentProtection(e,n)},getRequestHeadersFromMessage:function(){return null},getLicenseRequestFromMessage:function(e){return new Uint8Array(e)},getLicenseServerURLFromInitData:function(){return null},getCDMData:function(){return null},getClearKeysFromProtectionData:function(e,t){let n=null;if(e){const i=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(t))),o=[];for(let t=0;t<i.kids.length;t++){const n=i.kids[t],r=e.clearkeys&&e.clearkeys.hasOwnProperty(n)?e.clearkeys[n]:null;if(!r)throw new Error("DRM: ClearKey keyID ("+n+") is not known!");o.push(new T(n,r))}n=new R(o),r.warn("ClearKey schemeIdURI is using W3C Common PSSH systemID (1077efec-c0b2-4d02-ace3-3c1e52e2fb4b) in Content Protection. See DASH-IF IOP v4.1 section 7.6.2.4")}return n}},t}O.__dashjs_factory_name="KeySystemW3CClearKey";var N=_.default.getSingletonFactory(O);const L=o.default.WIDEVINE_UUID,P=o.default.WIDEVINE_KEYSTEM_STRING,U="urn:uuid:"+L;function k(e){let t;const n=(e=e||{}).BASE64;return t={uuid:L,schemeIdURI:U,systemString:P,getInitData:function(e){return u.parseInitDataFromContentProtection(e,n)},getRequestHeadersFromMessage:function(){return null},getLicenseRequestFromMessage:function(e){return new Uint8Array(e)},getLicenseServerURLFromInitData:function(){return null},getCDMData:function(){return null}},t}k.__dashjs_factory_name="KeySystemWidevine";var K=_.default.getSingletonFactory(k);const x=o.default.PLAYREADY_UUID,Y=o.default.PLAYREADY_KEYSTEM_STRING,G="urn:uuid:"+x;function B(e){let t,n="utf-16";const r=(e=e||{}).BASE64,i=e.settings;function o(){if(!r||!r.hasOwnProperty("decodeArray")||!r.hasOwnProperty("decodeArray"))throw new Error("Missing config parameter(s)")}return t={uuid:x,schemeIdURI:G,systemString:Y,getInitData:function(e){const t=new Uint8Array([112,115,115,104,0,0,0,0]),n=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]);let i,s,a,c,l,E=0,f=null;if(o(),!e)return null;if("pssh"in e&&e.pssh)return u.parseInitDataFromContentProtection(e,r);if("pro"in e&&e.pro)f=r.decodeArray(e.pro.__text);else{if(!("prheader"in e)||!e.prheader)return null;f=r.decodeArray(e.prheader.__text)}return i=f.length,s=4+t.length+n.length+4+i,a=new ArrayBuffer(s),c=new Uint8Array(a),l=new DataView(a),l.setUint32(E,s),E+=4,c.set(t,E),E+=t.length,c.set(n,E),E+=n.length,l.setUint32(E,i),E+=4,c.set(f,E),E+=i,c.buffer},getRequestHeadersFromMessage:function(e){let t,r;const o={},s=new DOMParser;if(i&&i.get().streaming.protection.detectPlayreadyMessageFormat&&"utf-16"===n&&e&&e.byteLength%2==1)return o["Content-Type"]="text/xml; charset=utf-8",o;const a="utf-16"===n?new Uint16Array(e):new Uint8Array(e);t=String.fromCharCode.apply(null,a),r=s.parseFromString(t,"application/xml");const u=r.getElementsByTagName("name"),c=r.getElementsByTagName("value");for(let e=0;e<u.length;e++)o[u[e].childNodes[0].nodeValue]=c[e].childNodes[0].nodeValue;return o.hasOwnProperty("Content")&&(o["Content-Type"]=o.Content,delete o.Content),o.hasOwnProperty("Content-Type")||(o["Content-Type"]="text/xml; charset=utf-8"),o},getLicenseRequestFromMessage:function(e){let t=null;const s=new DOMParser;if(i&&i.get().streaming.protection.detectPlayreadyMessageFormat&&"utf-16"===n&&e&&e.byteLength%2==1)return e;const a="utf-16"===n?new Uint16Array(e):new Uint8Array(e);o();const u=String.fromCharCode.apply(null,a),c=s.parseFromString(u,"application/xml");if(!c.getElementsByTagName("PlayReadyKeyMessage")[0])return e;{const e=c.getElementsByTagName("Challenge")[0].childNodes[0].nodeValue;e&&(t=r.decode(e))}return t},getLicenseServerURLFromInitData:function(e){if(e){const t=new DataView(e),n=t.getUint16(4,!0);let r=6;const i=new DOMParser;for(let o=0;o<n;o++){const n=t.getUint16(r,!0);r+=2;const o=t.getUint16(r,!0);if(r+=2,1!==n){r+=o;continue}const s=e.slice(r,r+o),a=String.fromCharCode.apply(null,new Uint16Array(s)),u=i.parseFromString(a,"application/xml");if(u.getElementsByTagName("LA_URL")[0]){const e=u.getElementsByTagName("LA_URL")[0].childNodes[0].nodeValue;if(e)return e}if(u.getElementsByTagName("LUI_URL")[0]){const e=u.getElementsByTagName("LUI_URL")[0].childNodes[0].nodeValue;if(e)return e}}}return null},getCDMData:function(e){let t,n,i,s;if(o(),!e)return null;for(t=[],s=0;s<e.length;++s)t.push(e.charCodeAt(s)),t.push(0);for(t=String.fromCharCode.apply(null,t),t=r.encode(t),n='<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0" Proactive="false"><CustomData encoding="base64encoded">%CUSTOMDATA%</CustomData></LicenseAcquisition></PlayReadyCDMData>'.replace("%CUSTOMDATA%",t),i=[],s=0;s<n.length;++s)i.push(n.charCodeAt(s)),i.push(0);return new Uint8Array(i).buffer},setPlayReadyMessageFormat:function(e){if("utf-8"!==e&&"utf-16"!==e)throw new Error('Specified message format is not one of "utf-8" or "utf-16"');n=e}},t}B.__dashjs_factory_name="KeySystemPlayReady";var F=_.default.getSingletonFactory(B);function H(e){const t=(e=e||{}).BASE64,n={};let r;return n[o.default.WIDEVINE_KEYSTEM_STRING]={responseType:"json",getLicenseMessage:function(e){return t.decodeArray(e.license)},getErrorResponse:function(e){return e}},n[o.default.PLAYREADY_KEYSTEM_STRING]={responseType:"arraybuffer",getLicenseMessage:function(e){return e},getErrorResponse:function(e){return String.fromCharCode.apply(null,new Uint8Array(e))}},r={getServerURLFromMessage:function(e){return e},getHTTPMethod:function(){return"POST"},getResponseType:function(e){return n[e].responseType},getLicenseMessage:function(e,r){return function(){if(!t||!t.hasOwnProperty("decodeArray"))throw new Error("Missing config parameter(s)")}(),n[r].getLicenseMessage(e)},getErrorResponse:function(e,t){return n[t].getErrorResponse(e)}},r}H.__dashjs_factory_name="DRMToday";var V=_.default.getSingletonFactory(H);function j(){let e;const t="http://schemas.xmlsoap.org/soap/envelope/";function n(e){const t=String.fromCharCode.apply(null,new Uint8Array(e));return decodeURIComponent(escape(t))}function r(e){if(window.DOMParser){const r=n(e),i=(new window.DOMParser).parseFromString(r,"text/xml"),o=i?i.getElementsByTagNameNS(t,"Envelope")[0]:null,s=o?o.getElementsByTagNameNS(t,"Body")[0]:null;if(s&&s.getElementsByTagNameNS(t,"Fault")[0])return null}return e}function i(e){let r="",i="",o="",s=-1,a=-1;if(window.DOMParser){const u=n(e),c=(new window.DOMParser).parseFromString(u,"text/xml"),l=c?c.getElementsByTagNameNS(t,"Envelope")[0]:null,E=l?l.getElementsByTagNameNS(t,"Body")[0]:null,f=E?E.getElementsByTagNameNS(t,"Fault")[0]:null,d=f?f.getElementsByTagName("detail")[0]:null,g=d?d.getElementsByTagName("Exception")[0]:null;let p=null;if(null===f)return u;p=f.getElementsByTagName("faultstring")[0].firstChild,r=p?p.nodeValue:null,null!==g&&(p=g.getElementsByTagName("StatusCode")[0],i=p?p.firstChild.nodeValue:null,p=g.getElementsByTagName("Message")[0],o=p?p.firstChild.nodeValue:null,s=o?o.lastIndexOf("[")+1:-1,a=o?o.indexOf("]"):-1,o=o?o.substring(s,a):"")}let u=`code: ${i}, name: ${r}`;return o&&(u+=`, message: ${o}`),u}return e={getServerURLFromMessage:function(e){return e},getHTTPMethod:function(){return"POST"},getResponseType:function(){return"arraybuffer"},getLicenseMessage:function(e){return r.call(this,e)},getErrorResponse:function(e){return i.call(this,e)}},e}j.__dashjs_factory_name="PlayReady";var W=_.default.getSingletonFactory(j);function q(){let e;return e={getServerURLFromMessage:function(e){return e},getHTTPMethod:function(){return"POST"},getResponseType:function(){return"arraybuffer"},getLicenseMessage:function(e){return e},getErrorResponse:function(e){return String.fromCharCode.apply(null,new Uint8Array(e))}},e}q.__dashjs_factory_name="Widevine";var z=_.default.getSingletonFactory(q);function X(){let e;return e={getServerURLFromMessage:function(e){return e},getHTTPMethod:function(){return"POST"},getResponseType:function(){return"json"},getLicenseMessage:function(e){if(!e.hasOwnProperty("keys"))return null;let t=[];for(let n=0;n<e.keys.length;n++){let r=e.keys[n],i=r.kid.replace(/=/g,""),o=r.k.replace(/=/g,"");t.push(new T(i,o))}return new R(t)},getErrorResponse:function(e){return String.fromCharCode.apply(null,new Uint8Array(e))}},e}X.__dashjs_factory_name="ClearKey";var Q=_.default.getSingletonFactory(X),Z=class{constructor(e){this.ks=e.ks,this.keyId=e.keyId,this.initData=e.initData,this.protData=e.protData,this.cdmData=e.cdmData,this.sessionId=e.sessionId,this.sessionType=e.sessionType}};function $(){let e,t,n,r,i,s,a,c,l=this.context;function E(e,t){return t&&e in t?t[e]:null}function f(e,t){return e&&e.sessionId?e.sessionId:t&&t.sessionId?t.sessionId:null}function d(e,t){return e&&e.sessionType?e.sessionType:t}return e={getKeySystemBySystemString:function(e){for(let t=0;t<r.length;t++)if(r[t].systemString===e)return r[t];return null},getKeySystems:function(){return r},getLicenseServerModelInstance:function(e,t,n){if(n===o.default.MEDIA_KEY_MESSAGE_TYPES.LICENSE_RELEASE||n===o.default.MEDIA_KEY_MESSAGE_TYPES.INDIVIDUALIZATION_REQUEST)return null;let r=null;return t&&t.hasOwnProperty("drmtoday")?r=V(l).getInstance({BASE64:i}):e.systemString===o.default.WIDEVINE_KEYSTEM_STRING?r=z(l).getInstance():e.systemString===o.default.PLAYREADY_KEYSTEM_STRING?r=W(l).getInstance():e.systemString===o.default.CLEARKEY_KEYSTEM_STRING&&(r=Q(l).getInstance()),r},getSupportedKeySystemMetadataFromContentProtection:function(e,t,n){let i,o,s,a,c=[];if(!e||!e.length)return c;const l=u.findMp4ProtectionElement(e);for(s=0;s<r.length;s++){o=r[s];const u=E(o.systemString,t);for(a=0;a<e.length;a++)if(i=e[a],i.schemeIdUri.toLowerCase()===o.schemeIdURI){let e=o.getInitData(i,l);const t=new Z({ks:r[s],keyId:i.keyId,initData:e,protData:u,cdmData:o.getCDMData(u?u.cdmData:null),sessionId:f(u,i),sessionType:d(u,n)});u?c.unshift(t):c.push(t)}}return c},getSupportedKeySystemMetadataFromSegmentPssh:function(e,t,n){let i,o,s=[],a=u.parsePSSHList(e);for(let e=0;e<r.length;++e){i=r[e],o=i.systemString;const u=E(o,t);i.uuid in a&&s.push({ks:i,initData:a[i.uuid],protData:u,cdmData:i.getCDMData(u?u.cdmData:null),sessionId:f(u),sessionType:d(u,n)})}return s},initDataEquals:function(e,t){if(e.byteLength===t.byteLength){let n=new Uint8Array(e),r=new Uint8Array(t);for(let e=0;e<n.length;e++)if(n[e]!==r[e])return!1;return!0}return!1},initialize:function(){let e;r=[],e=F(l).getInstance({BASE64:i,settings:s}),r.push(e),e=K(l).getInstance({BASE64:i}),r.push(e),e=D(l).getInstance({BASE64:i}),r.push(e),a=e,e=N(l).getInstance({BASE64:i,debug:t}),r.push(e),c=e},isClearKey:function(e){return e===a||e===c},processClearKeyLicenseRequest:function(e,t,r){try{return e.getClearKeysFromProtectionData(t,r)}catch(e){return n.error("Failed to retrieve clearkeys from ProtectionData"),null}},setConfig:function(r){r&&(r.debug&&(t=r.debug,n=t.getLogger(e)),r.BASE64&&(i=r.BASE64),r.settings&&(s=r.settings))},setKeySystems:function(e){r=e},setProtectionData:function(e){for(var t,n,i=0;i<r.length;i++){var o=r[i];o.hasOwnProperty("init")&&o.init((t=o.systemString,n=void 0,n=null,e&&(n=t in e?e[t]:null),n))}}},e}$.__dashjs_factory_name="ProtectionKeyController";var J=_.default.getSingletonFactory($),ee=n(4592),te=class{constructor(e,t){this.initData=e,this.initDataType=t}},ne=class{constructor(e,t,n,r){this.sessionToken=e,this.message=t,this.defaultURL=n,this.messageType=r||o.default.MEDIA_KEY_MESSAGE_TYPES.LICENSE_REQUEST}},re=class{constructor(e,t){this.keySystem=e,this.ksConfiguration=t,this.nativeMediaKeySystemAccessObject=null,this.selectedSystemString=null}};const ie={};function oe(e){e=e||{};const t=this.context,n=e.eventBus,r=e.events,i=e.debug;let s,a,u,c,l,d,g,p;function y(e,t,i,o){if(void 0===navigator.requestMediaKeySystemAccess||"function"!=typeof navigator.requestMediaKeySystemAccess){const e="Insecure origins are not allowed";return n.trigger(r.KEY_SYSTEM_ACCESS_COMPLETE,{error:e}),void o({error:e})}const s=e[t].protData&&e[t].protData.systemStringPriority?e[t].protData.systemStringPriority:null,a=e[t].configs,u=e[t].ks;let c=u.systemString;(function(e,t){return new Promise(((n,r)=>{S(e,t,0,n,r)}))})(s||(ie[c]?ie[c]:[c]),a).then((e=>{const t=e&&e.nativeMediaKeySystemAccessObject&&"function"==typeof e.nativeMediaKeySystemAccessObject.getConfiguration?e.nativeMediaKeySystemAccessObject.getConfiguration():null,o=new re(u,t);o.selectedSystemString=e.selectedSystemString,o.nativeMediaKeySystemAccessObject=e.nativeMediaKeySystemAccessObject,n.trigger(r.KEY_SYSTEM_ACCESS_COMPLETE,{data:o}),i({data:o})})).catch((s=>{if(t+1<e.length)y(e,t+1,i,o);else{const e="Key system access denied! ";n.trigger(r.KEY_SYSTEM_ACCESS_COMPLETE,{error:e+s.message}),o({error:e+s.message})}}))}function S(e,t,n,r,i){const o=e[n];a.debug(`Requesting key system access for system string ${o}`),navigator.requestMediaKeySystemAccess(o,t).then((e=>{r({nativeMediaKeySystemAccessObject:e,selectedSystemString:o})})).catch((o=>{n+1<e.length?S(e,t,n+1,r,i):i(o)}))}function _(e){if(!e||!e.session)return Promise.resolve;const t=e.session;return t.removeEventListener("keystatuseschange",e),t.removeEventListener("message",e),t.close()}function h(e){for(let t=0;t<d.length;t++)if(d[t]===e){d.splice(t,1);break}}function m(e,t){const i={session:e,keyId:t.keyId,normalizedKeyId:t&&t.keyId&&"string"==typeof t.keyId?t.keyId.replace(/-/g,"").toLowerCase():"",initData:t.initData,sessionId:t.sessionId,sessionType:t.sessionType,hasTriggeredKeyStatusMapUpdate:!1,handleEvent:function(e){switch(e.type){case"keystatuseschange":this._onKeyStatusesChange(e);break;case"message":this._onKeyMessage(e)}},_onKeyStatusesChange:function(e){n.trigger(r.KEY_STATUSES_CHANGED,{data:this});const t=[];e.target.keyStatuses.forEach((function(){t.push(T(arguments))})),n.trigger(r.INTERNAL_KEY_STATUSES_CHANGED,{parsedKeyStatuses:t,sessionToken:i})},_onKeyMessage:function(e){let t=ArrayBuffer.isView(e.message)?e.message.buffer:e.message;n.trigger(r.INTERNAL_KEY_MESSAGE,{data:new ne(this,t,void 0,e.messageType)})},getKeyId:function(){return this.keyId},getSessionId:function(){return e.sessionId},getSessionType:function(){return this.sessionType},getExpirationTime:function(){return e.expiration},getKeyStatuses:function(){return e.keyStatuses},getUsable:function(){let t=!1;return e.keyStatuses.forEach((function(){T(arguments).status===o.default.MEDIA_KEY_STATUSES.USABLE&&(t=!0)})),t}};return e.addEventListener("keystatuseschange",i),e.addEventListener("message",i),e.closed.then((()=>{h(i),a.debug("DRM: Session closed.  SessionID = "+i.getSessionId()),n.trigger(r.KEY_SESSION_CLOSED,{data:i.getSessionId()})})),d.push(i),i}function T(e){let t,n;return e&&e.length>0&&(e[0]&&("string"==typeof e[0]?t=e[0]:n=e[0]),e[1]&&("string"==typeof e[1]?t=e[1]:n=e[1])),{status:t,keyId:n}}return s={closeKeySession:function(e){_(e).catch((function(t){h(e),n.trigger(r.KEY_SESSION_CLOSED,{data:null,error:"Error closing session ("+e.getSessionId()+") "+t.name})}))},createKeySession:function(e){if(!u||!l)throw new Error("Can not create sessions until you have selected a key system");const t=l.createSession(e.sessionType),i=m(t,e),s=u.systemString===o.default.CLEARKEY_KEYSTEM_STRING&&(e.initData||e.protData&&e.protData.clearkeys)?o.default.INITIALIZATION_DATA_TYPE_KEYIDS:o.default.INITIALIZATION_DATA_TYPE_CENC;t.generateRequest(s,e.initData).then((function(){a.debug("DRM: Session created.  SessionID = "+i.getSessionId()),n.trigger(r.KEY_SESSION_CREATED,{data:i})})).catch((function(e){h(i),n.trigger(r.KEY_SESSION_CREATED,{data:null,error:new f.default(E.default.KEY_SESSION_CREATED_ERROR_CODE,E.default.KEY_SESSION_CREATED_ERROR_MESSAGE+"Error generating key request -- "+e.name)})}))},getAllInitData:function(){const e=[];for(let t=0;t<d.length;t++)d[t].initData&&e.push(d[t].initData);return e},getSessionTokens:function(){return d},loadKeySession:function(e){if(!u||!l)throw new Error("Can not load sessions until you have selected a key system");const t=e.sessionId;for(let e=0;e<d.length;e++)if(t===d[e].sessionId)return void a.warn("DRM: Ignoring session ID because we have already seen it!");const i=l.createSession(e.sessionType),o=m(i,e);o.hasTriggeredKeyStatusMapUpdate=!0,i.load(t).then((function(e){e?(a.debug("DRM: Session loaded.  SessionID = "+o.getSessionId()),n.trigger(r.KEY_SESSION_CREATED,{data:o})):(h(o),n.trigger(r.KEY_SESSION_CREATED,{data:null,error:new f.default(E.default.KEY_SESSION_CREATED_ERROR_CODE,E.default.KEY_SESSION_CREATED_ERROR_MESSAGE+"Could not load session! Invalid Session ID ("+t+")")}))})).catch((function(e){h(o),n.trigger(r.KEY_SESSION_CREATED,{data:null,error:new f.default(E.default.KEY_SESSION_CREATED_ERROR_CODE,E.default.KEY_SESSION_CREATED_ERROR_MESSAGE+"Could not load session ("+t+")! "+e.name)})}))},removeKeySession:function(e){e.session.remove().then((function(){a.debug("DRM: Session removed.  SessionID = "+e.getSessionId()),n.trigger(r.KEY_SESSION_REMOVED,{data:e.getSessionId()})}),(function(t){n.trigger(r.KEY_SESSION_REMOVED,{data:null,error:"Error removing session ("+e.getSessionId()+"). "+t.name})}))},requestKeySystemAccess:function(e){return new Promise(((t,n)=>{y(e,0,t,n)}))},reset:function(){const e=d.length;let t;if(0!==e){const o=function(e){h(e),0===d.length&&(c?(c.removeEventListener("encrypted",g),c.setMediaKeys(null).then((function(){n.trigger(r.TEARDOWN_COMPLETE)}))):n.trigger(r.TEARDOWN_COMPLETE))};for(let n=0;n<e;n++)t=d[n],i=t,_(t),o(i)}else n.trigger(r.TEARDOWN_COMPLETE);var i},selectKeySystem:function(e){return new Promise(((t,n)=>{e.nativeMediaKeySystemAccessObject.createMediaKeys().then((t=>(u=e.keySystem,l=t,c?c.setMediaKeys(l):Promise.resolve()))).then((()=>{t(u)})).catch((function(){n({error:"Error selecting keys system ("+e.keySystem.systemString+")! Could not create MediaKeys -- TODO"})}))}))},setMediaElement:function(e){c!==e&&(c&&(c.removeEventListener("encrypted",g),c.setMediaKeys&&c.setMediaKeys(null)),c=e,c&&(c.addEventListener("encrypted",g),c.setMediaKeys&&l&&c.setMediaKeys(l)))},setServerCertificate:function(e){return new Promise((t=>{l.setServerCertificate(e).then((function(){a.info("DRM: License server certificate successfully updated."),n.trigger(r.SERVER_CERTIFICATE_UPDATED),t()})).catch((e=>{n.trigger(r.SERVER_CERTIFICATE_UPDATED,{error:new f.default(E.default.SERVER_CERTIFICATE_UPDATED_ERROR_CODE,E.default.SERVER_CERTIFICATE_UPDATED_ERROR_MESSAGE+e.name)}),t()}))}))},stop:function(){let e;for(let t=0;t<d.length;t++)e=d[t],e.getUsable()||(_(e),h(e))},updateKeySession:function(e,t){const i=e.session;p.isClearKey(u)&&(t=t.toJWK()),i.update(t).then((()=>{n.trigger(r.KEY_SESSION_UPDATED)})).catch((function(t){n.trigger(r.KEY_ERROR,{error:new f.default(E.default.MEDIA_KEYERR_CODE,"Error sending update() message! "+t.name,e)})}))}},a=i.getLogger(s),u=null,c=null,l=null,d=[],p=J(t).getInstance(),g={handleEvent:function(e){if("encrypted"===e.type&&e.initData){let t=ArrayBuffer.isView(e.initData)?e.initData.buffer:e.initData;n.trigger(r.NEED_KEY,{key:new te(t,e.initDataType)})}}},s}ie[o.default.PLAYREADY_KEYSTEM_STRING]=[o.default.PLAYREADY_KEYSTEM_STRING,o.default.PLAYREADY_RECOMMENDATION_KEYSTEM_STRING],ie[o.default.WIDEVINE_KEYSTEM_STRING]=[o.default.WIDEVINE_KEYSTEM_STRING],ie[o.default.CLEARKEY_KEYSTEM_STRING]=[o.default.CLEARKEY_KEYSTEM_STRING],oe.__dashjs_factory_name="DefaultProtectionModel";var se=_.default.getClassFactory(oe);function ae(e){e=e||{};const t=this.context,n=e.eventBus,r=e.events,i=e.debug,s=e.api;let a,u,c,d,g,p,y,S,_;function h(){try{for(let e=0;e<y.length;e++)m(y[e]);c&&c.removeEventListener(s.needkey,S),n.trigger(r.TEARDOWN_COMPLETE)}catch(e){n.trigger(r.TEARDOWN_COMPLETE,{error:"Error tearing down key sessions and MediaKeys! -- "+e.message})}}function m(e){const t=e.session;t.removeEventListener(s.error,e),t.removeEventListener(s.message,e),t.removeEventListener(s.ready,e),t.removeEventListener(s.close,e);for(let t=0;t<y.length;t++)if(y[t]===e){y.splice(t,1);break}t[s.release]()}function T(){let e=null;const t=function(){c.removeEventListener("loadedmetadata",e),c[s.setMediaKeys](g),n.trigger(r.VIDEO_ELEMENT_SELECTED)};c.readyState>=1?t():(e=t.bind(this),c.addEventListener("loadedmetadata",e))}return a={getAllInitData:function(){const e=[];for(let t=0;t<y.length;t++)e.push(y[t].initData);return e},getSessionTokens:function(){return y},requestKeySystemAccess:function(e){return new Promise(((t,i)=>{let o=!1;for(let i=0;i<e.length;i++){const a=e[i].ks.systemString,u=e[i].configs;let c=null,E=null;for(let e=0;e<u.length;e++){const i=u[e].audioCapabilities,f=u[e].videoCapabilities;if(i&&0!==i.length){c=[];for(let e=0;e<i.length;e++)window[s.MediaKeys].isTypeSupported(a,i[e].contentType)&&c.push(i[e])}if(f&&0!==f.length){E=[];for(let e=0;e<f.length;e++)window[s.MediaKeys].isTypeSupported(a,f[e].contentType)&&E.push(f[e])}if(!c&&!E||c&&0===c.length||E&&0===E.length)continue;o=!0;const d=new l(c,E),g=_.getKeySystemBySystemString(a),p=new re(g,d);n.trigger(r.KEY_SYSTEM_ACCESS_COMPLETE,{data:p}),t({data:p});break}}if(!o){const e="Key system access denied! -- No valid audio/video content configurations detected!";n.trigger(r.KEY_SYSTEM_ACCESS_COMPLETE,{error:e}),i({error:e})}}))},selectKeySystem:function(e){return new Promise(((t,n)=>{try{g=e.mediaKeys=new window[s.MediaKeys](e.keySystem.systemString),d=e.keySystem,p=e,c&&T(),t(d)}catch(e){n({error:"Error selecting keys system ("+d.systemString+")! Could not create MediaKeys -- TODO"})}}))},setMediaElement:function(e){c!==e&&(c&&c.removeEventListener(s.needkey,S),c=e,c&&(c.addEventListener(s.needkey,S),g&&T()))},createKeySession:function(e){if(!d||!g||!p)throw new Error("Can not create sessions until you have selected a key system");let t=null;if(p.ksConfiguration.videoCapabilities&&p.ksConfiguration.videoCapabilities.length>0&&(t=p.ksConfiguration.videoCapabilities[0]),null===t&&p.ksConfiguration.audioCapabilities&&p.ksConfiguration.audioCapabilities.length>0&&(t=p.ksConfiguration.audioCapabilities[0]),null===t)throw new Error("Can not create sessions for unknown content types.");const i=t.contentType,o=g.createSession(i,new Uint8Array(e.initData),e.cdmData?new Uint8Array(e.cdmData):null),a=function(e,t){return{session:e,keyId:t.keyId,normalizedKeyId:t&&t.keyId&&"string"==typeof t.keyId?t.keyId.replace(/-/g,"").toLowerCase():"",initData:t.initData,hasTriggeredKeyStatusMapUpdate:!1,getKeyId:function(){return this.keyId},getSessionId:function(){return this.session.sessionId},getExpirationTime:function(){return NaN},getSessionType:function(){return"temporary"},getKeyStatuses:function(){return{size:0,has:()=>!1,get:()=>{}}},handleEvent:function(e){switch(e.type){case s.error:let t="KeyError";n.trigger(r.KEY_ERROR,{error:new f.default(E.default.MEDIA_KEYERR_CODE,t,this)});break;case s.message:let i=ArrayBuffer.isView(e.message)?e.message.buffer:e.message;n.trigger(r.INTERNAL_KEY_MESSAGE,{data:new ne(this,i,e.destinationURL)});break;case s.ready:u.debug("DRM: Key added."),n.trigger(r.KEY_ADDED);break;case s.close:u.debug("DRM: Session closed.  SessionID = "+this.getSessionId()),n.trigger(r.KEY_SESSION_CLOSED,{data:this.getSessionId()})}}}}(o,e);o.addEventListener(s.error,a),o.addEventListener(s.message,a),o.addEventListener(s.ready,a),o.addEventListener(s.close,a),y.push(a),u.debug("DRM: Session created.  SessionID = "+a.getSessionId()),n.trigger(r.KEY_SESSION_CREATED,{data:a})},updateKeySession:function(e,t){const i=e.session;_.isClearKey(d)?i.update(new Uint8Array(t.toJWK())):i.update(new Uint8Array(t)),n.trigger(r.KEY_SESSION_UPDATED)},closeKeySession:m,setServerCertificate:function(){return Promise.resolve()},loadKeySession:function(){},removeKeySession:function(){},stop:h,reset:h},u=i.getLogger(a),c=null,d=null,g=null,p=null,y=[],_=J(t).getInstance(),S={handleEvent:function(e){if(e.type===s.needkey&&e.initData){const t=ArrayBuffer.isView(e.initData)?e.initData.buffer:e.initData;n.trigger(r.NEED_KEY,{key:new te(t,o.default.INITIALIZATION_DATA_TYPE_CENC)})}}},a}ae.__dashjs_factory_name="ProtectionModel_3Feb2014";var ue=_.default.getClassFactory(ae);function ce(e){e=e||{};const t=this.context,n=e.eventBus,r=e.events,i=e.debug,s=e.api,a=e.errHandler;let u,c,d,g,p,y,S,_,h;function m(){d&&A();for(let e=0;e<S.length;e++)T(S[e]);n.trigger(r.TEARDOWN_COMPLETE)}function T(e){try{d[s.cancelKeyRequest](g.systemString,e.sessionId)}catch(t){n.trigger(r.KEY_SESSION_CLOSED,{data:null,error:"Error closing session ("+e.sessionId+") "+t.message})}}function R(e,t){if(t&&e){const n=e.length;for(let r=0;r<n;r++)if(e[r].sessionId==t)return e[r];return null}return null}function A(){d.removeEventListener(s.keyerror,h),d.removeEventListener(s.needkey,h),d.removeEventListener(s.keymessage,h),d.removeEventListener(s.keyadded,h)}return u={getAllInitData:function(){const e=[];for(let t=0;t<y.length;t++)e.push(y[t].initData);for(let t=0;t<S.length;t++)e.push(S[t].initData);return e},getSessionTokens:function(){return S.concat(y)},requestKeySystemAccess:function(e){return new Promise(((t,i)=>{let o=d;o||(o=document.createElement("video"));let s=!1;for(let i=0;i<e.length;i++){const a=e[i].ks.systemString,u=e[i].configs;let c=null,E=null;for(let e=0;e<u.length;e++){const i=u[e].videoCapabilities;if(i&&0!==i.length){E=[];for(let e=0;e<i.length;e++)""!==o.canPlayType(i[e].contentType,a)&&E.push(i[e])}if(!c&&!E||c&&0===c.length||E&&0===E.length)continue;s=!0;const f=new l(c,E),d=p.getKeySystemBySystemString(a),g=new re(d,f);n.trigger(r.KEY_SYSTEM_ACCESS_COMPLETE,{data:g}),t({data:g});break}}if(!s){const e="Key system access denied! -- No valid audio/video content configurations detected!";n.trigger(r.KEY_SYSTEM_ACCESS_COMPLETE,{error:e}),i({error:e})}}))},selectKeySystem:function(e){return g=e.keySystem,Promise.resolve(g)},setMediaElement:function(e){if(d!==e){if(d){A();for(var t=0;t<S.length;t++)T(S[t]);S=[]}d=e,d&&(d.addEventListener(s.keyerror,h),d.addEventListener(s.needkey,h),d.addEventListener(s.keymessage,h),d.addEventListener(s.keyadded,h),n.trigger(r.VIDEO_ELEMENT_SELECTED))}},createKeySession:function(e){if(!g)throw new Error("Can not create sessions until you have selected a key system");if(_||0===S.length){const t={sessionId:null,keyId:e.keyId,normalizedKeyId:e&&e.keyId&&"string"==typeof e.keyId?e.keyId.replace(/-/g,"").toLowerCase():"",initData:e.initData,hasTriggeredKeyStatusMapUpdate:!1,getKeyId:function(){return this.keyId},getSessionId:function(){return this.sessionId},getExpirationTime:function(){return NaN},getSessionType:function(){return"temporary"},getKeyStatuses:function(){return{size:0,has:()=>!1,get:()=>{}}}};return y.push(t),d[s.generateKeyRequest](g.systemString,new Uint8Array(e.initData)),t}throw new Error("Multiple sessions not allowed!")},updateKeySession:function(e,t){const i=e.sessionId;if(p.isClearKey(g))for(let e=0;e<t.keyPairs.length;e++)d[s.addKey](g.systemString,t.keyPairs[e].key,t.keyPairs[e].keyID,i);else d[s.addKey](g.systemString,new Uint8Array(t),new Uint8Array(e.initData),i);n.trigger(r.KEY_SESSION_UPDATED)},closeKeySession:T,setServerCertificate:function(){return Promise.resolve()},loadKeySession:function(){},removeKeySession:function(){},stop:m,reset:m},c=i.getLogger(u),d=null,g=null,y=[],S=[],p=J(t).getInstance(),h={handleEvent:function(e){let t=null;switch(e.type){case s.needkey:let i=ArrayBuffer.isView(e.initData)?e.initData.buffer:e.initData;n.trigger(r.NEED_KEY,{key:new te(i,o.default.INITIALIZATION_DATA_TYPE_CENC)});break;case s.keyerror:if(t=R(S,e.sessionId),t||(t=R(y,e.sessionId)),t){let i=E.default.MEDIA_KEYERR_CODE,o="";switch(e.errorCode.code){case 1:i=E.default.MEDIA_KEYERR_UNKNOWN_CODE,o+="MEDIA_KEYERR_UNKNOWN - "+E.default.MEDIA_KEYERR_UNKNOWN_MESSAGE;break;case 2:i=E.default.MEDIA_KEYERR_CLIENT_CODE,o+="MEDIA_KEYERR_CLIENT - "+E.default.MEDIA_KEYERR_CLIENT_MESSAGE;break;case 3:i=E.default.MEDIA_KEYERR_SERVICE_CODE,o+="MEDIA_KEYERR_SERVICE - "+E.default.MEDIA_KEYERR_SERVICE_MESSAGE;break;case 4:i=E.default.MEDIA_KEYERR_OUTPUT_CODE,o+="MEDIA_KEYERR_OUTPUT - "+E.default.MEDIA_KEYERR_OUTPUT_MESSAGE;break;case 5:i=E.default.MEDIA_KEYERR_HARDWARECHANGE_CODE,o+="MEDIA_KEYERR_HARDWARECHANGE - "+E.default.MEDIA_KEYERR_HARDWARECHANGE_MESSAGE;break;case 6:i=E.default.MEDIA_KEYERR_DOMAIN_CODE,o+="MEDIA_KEYERR_DOMAIN - "+E.default.MEDIA_KEYERR_DOMAIN_MESSAGE}o+="  System Code = "+e.systemCode,n.trigger(r.KEY_ERROR,{error:new f.default(i,o,t)})}else c.error("No session token found for key error");break;case s.keyadded:t=R(S,e.sessionId),t||(t=R(y,e.sessionId)),t?(c.debug("DRM: Key added."),n.trigger(r.KEY_ADDED,{data:t})):c.debug("No session token found for key added");break;case s.keymessage:if(_=null!==e.sessionId&&void 0!==e.sessionId,_?(t=R(S,e.sessionId),!t&&y.length>0&&(t=y.shift(),S.push(t),t.sessionId=e.sessionId,n.trigger(r.KEY_SESSION_CREATED,{data:t}))):y.length>0&&(t=y.shift(),S.push(t),0!==y.length&&a.error(new f.default(E.default.MEDIA_KEY_MESSAGE_ERROR_CODE,E.default.MEDIA_KEY_MESSAGE_ERROR_MESSAGE))),t){let i=ArrayBuffer.isView(e.message)?e.message.buffer:e.message;t.keyMessage=i,n.trigger(r.INTERNAL_KEY_MESSAGE,{data:new ne(t,i,e.defaultURL)})}else c.warn("No session token found for key message")}}},u}ce.__dashjs_factory_name="ProtectionModel_01b";var le=_.default.getClassFactory(ce);const Ee=[{generateKeyRequest:"generateKeyRequest",addKey:"addKey",cancelKeyRequest:"cancelKeyRequest",needkey:"needkey",keyerror:"keyerror",keyadded:"keyadded",keymessage:"keymessage"},{generateKeyRequest:"webkitGenerateKeyRequest",addKey:"webkitAddKey",cancelKeyRequest:"webkitCancelKeyRequest",needkey:"webkitneedkey",keyerror:"webkitkeyerror",keyadded:"webkitkeyadded",keymessage:"webkitkeymessage"}],fe=[{setMediaKeys:"setMediaKeys",MediaKeys:"MediaKeys",release:"close",needkey:"needkey",error:"keyerror",message:"keymessage",ready:"keyadded",close:"keyclose"},{setMediaKeys:"msSetMediaKeys",MediaKeys:"MSMediaKeys",release:"close",needkey:"msneedkey",error:"mskeyerror",message:"mskeymessage",ready:"mskeyadded",close:"mskeyclose"}];function de(){let e;const t=this.context;function n(e,t){for(let n=0;n<t.length;n++){const r=t[n];if("function"==typeof e[r[Object.keys(r)[0]]])return r}return null}return e={createProtectionSystem:function(r){let i=null;const o=J(t).getInstance();o.setConfig({debug:r.debug,BASE64:r.BASE64,settings:r.settings}),o.initialize();let s=function(r){const i=r.debug,o=i.getLogger(e),s=r.eventBus,a=r.errHandler,u=r.videoModel?r.videoModel.getElement():null;return u&&void 0===u.onencrypted||u&&void 0===u.mediaKeys?n(u,fe)?(o.info("EME detected on this user agent! (ProtectionModel_3Feb2014)"),ue(t).create({debug:i,eventBus:s,events:r.events,api:n(u,fe)})):n(u,Ee)?(o.info("EME detected on this user agent! (ProtectionModel_01b)"),le(t).create({debug:i,eventBus:s,errHandler:a,events:r.events,api:n(u,Ee)})):(o.warn("No supported version of EME detected on this user agent! - Attempts to play encrypted content will fail!"),null):(o.info("EME detected on this user agent! (DefaultProtectionModel"),se(t).create({debug:i,eventBus:s,events:r.events}))}(r);return s&&(i=m(t).create({BASE64:r.BASE64,cmcdModel:r.cmcdModel,constants:r.constants,customParametersModel:r.customParametersModel,debug:r.debug,eventBus:r.eventBus,events:r.events,protectionKeyController:o,protectionModel:s,settings:r.settings}),r.capabilities.setEncryptedMediaSupported(!0)),i}},e}de.__dashjs_factory_name="Protection";const ge=_.default.getClassFactory(de);ge.events=ee.default,ge.errors=E.default,_.default.updateClassFactory(de.__dashjs_factory_name,ge);var pe=ge,ye=(r=r.default).default;export{ye as default};
//# sourceMappingURL=dash.protection.min.js.map